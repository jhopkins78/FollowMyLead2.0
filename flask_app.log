2024-11-30 03:11:16,319 - __main__ - INFO - Starting database initialization...
2024-11-30 03:11:16,320 - database - INFO - Initializing database connection...
2024-11-30 03:11:17,430 - database - INFO - Database connection test successful
2024-11-30 03:11:17,828 - database - INFO - Database tables created successfully
2024-11-30 03:11:17,915 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:11:17,915 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:11:17,984 - __main__ - INFO - Starting database initialization...
2024-11-30 03:11:17,984 - database - INFO - Initializing database connection...
2024-11-30 03:11:18,041 - __main__ - INFO - Database initialized successfully
2024-11-30 03:11:18,079 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:11:18,081 - werkzeug - INFO -  * Debugger PIN: 683-538-388
2024-11-30 03:11:19,138 - database - INFO - Database connection test successful
2024-11-30 03:11:19,529 - database - INFO - Database tables created successfully
2024-11-30 03:11:19,611 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:11:19,611 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:11:19,740 - __main__ - INFO - Database initialized successfully
2024-11-30 03:11:19,800 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://172.31.196.9:5001
2024-11-30 03:11:19,801 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:11:19,801 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:11:20,283 - __main__ - INFO - Starting database initialization...
2024-11-30 03:11:20,284 - database - INFO - Initializing database connection...
2024-11-30 03:11:21,404 - database - INFO - Database connection test successful
2024-11-30 03:11:21,801 - database - INFO - Database tables created successfully
2024-11-30 03:11:21,883 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:11:21,884 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:11:22,010 - __main__ - INFO - Database initialized successfully
2024-11-30 03:11:22,049 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:11:22,050 - werkzeug - INFO -  * Debugger PIN: 109-672-768
2024-11-30 03:15:00,709 - __main__ - INFO - Starting database initialization...
2024-11-30 03:15:00,709 - database - INFO - Initializing database connection...
2024-11-30 03:15:01,873 - database - INFO - Database connection test successful
2024-11-30 03:15:02,266 - database - INFO - Database tables created successfully
2024-11-30 03:15:02,351 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:15:02,351 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:15:02,482 - __main__ - INFO - Database initialized successfully
2024-11-30 03:15:02,528 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:15:02,529 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:15:02,529 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:15:02,867 - __main__ - INFO - Starting database initialization...
2024-11-30 03:15:02,867 - database - INFO - Initializing database connection...
2024-11-30 03:15:04,033 - database - INFO - Database connection test successful
2024-11-30 03:15:04,463 - database - INFO - Database tables created successfully
2024-11-30 03:15:04,544 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:15:04,545 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:15:04,672 - __main__ - INFO - Database initialized successfully
2024-11-30 03:15:04,709 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:15:04,711 - werkzeug - INFO -  * Debugger PIN: 824-055-046
2024-11-30 03:15:42,112 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/.pythonlibs/lib/python3.11/site-packages/jwt/utils.py', reloading
2024-11-30 03:15:42,209 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:15:42,658 - __main__ - INFO - Starting database initialization...
2024-11-30 03:15:42,658 - database - INFO - Initializing database connection...
2024-11-30 03:15:43,803 - database - INFO - Database connection test successful
2024-11-30 03:15:44,216 - database - INFO - Database tables created successfully
2024-11-30 03:15:44,300 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:15:44,301 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:15:44,430 - __main__ - INFO - Database initialized successfully
2024-11-30 03:15:44,504 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:15:44,510 - werkzeug - INFO -  * Debugger PIN: 767-710-005
2024-11-30 03:15:46,354 - __main__ - INFO - Starting database initialization...
2024-11-30 03:15:46,354 - database - INFO - Initializing database connection...
2024-11-30 03:15:47,491 - database - INFO - Database connection test successful
2024-11-30 03:15:47,883 - database - INFO - Database tables created successfully
2024-11-30 03:15:47,971 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:15:47,972 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:15:48,102 - __main__ - INFO - Database initialized successfully
2024-11-30 03:15:48,153 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:15:48,154 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:15:48,157 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:15:48,649 - __main__ - INFO - Starting database initialization...
2024-11-30 03:15:48,649 - database - INFO - Initializing database connection...
2024-11-30 03:15:49,805 - database - INFO - Database connection test successful
2024-11-30 03:15:50,217 - database - INFO - Database tables created successfully
2024-11-30 03:15:50,301 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:15:50,302 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:15:50,431 - __main__ - INFO - Database initialized successfully
2024-11-30 03:15:50,472 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:15:50,476 - werkzeug - INFO -  * Debugger PIN: 111-551-787
2024-11-30 03:16:47,891 - __main__ - INFO - Starting database initialization...
2024-11-30 03:16:47,892 - database - INFO - Initializing database connection...
2024-11-30 03:16:49,035 - database - INFO - Database connection test successful
2024-11-30 03:16:49,429 - database - INFO - Database tables created successfully
2024-11-30 03:16:49,511 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:16:49,511 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:16:49,639 - __main__ - INFO - Database initialized successfully
2024-11-30 03:16:49,704 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:16:49,704 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:16:49,705 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:16:50,215 - __main__ - INFO - Starting database initialization...
2024-11-30 03:16:50,215 - database - INFO - Initializing database connection...
2024-11-30 03:16:51,359 - database - INFO - Database connection test successful
2024-11-30 03:16:51,771 - database - INFO - Database tables created successfully
2024-11-30 03:16:51,854 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:16:51,854 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:16:51,981 - __main__ - INFO - Database initialized successfully
2024-11-30 03:16:52,017 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:16:52,018 - werkzeug - INFO -  * Debugger PIN: 113-105-860
2024-11-30 03:24:02,286 - __main__ - INFO - Starting database initialization...
2024-11-30 03:24:02,286 - database - INFO - Initializing database connection...
2024-11-30 03:24:03,955 - database - INFO - Database connection test successful
2024-11-30 03:24:04,361 - database - INFO - Database tables created successfully
2024-11-30 03:24:04,494 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:24:04,494 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:24:04,625 - __main__ - INFO - Database initialized successfully
2024-11-30 03:24:04,699 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:24:04,700 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:24:04,701 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:24:05,112 - __main__ - INFO - Starting database initialization...
2024-11-30 03:24:05,112 - database - INFO - Initializing database connection...
2024-11-30 03:24:06,266 - database - INFO - Database connection test successful
2024-11-30 03:24:06,678 - database - INFO - Database tables created successfully
2024-11-30 03:24:06,759 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:24:06,760 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:24:06,887 - __main__ - INFO - Database initialized successfully
2024-11-30 03:24:06,924 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:24:06,925 - werkzeug - INFO -  * Debugger PIN: 136-515-434
2024-11-30 03:25:17,477 - __main__ - INFO - Starting database initialization...
2024-11-30 03:25:17,483 - database - INFO - Initializing database connection...
2024-11-30 03:25:18,641 - database - INFO - Database connection test successful
2024-11-30 03:25:19,030 - database - INFO - Database tables created successfully
2024-11-30 03:25:19,116 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:25:19,116 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:25:19,244 - __main__ - INFO - Database initialized successfully
2024-11-30 03:25:19,303 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:25:19,304 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:25:19,305 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:25:19,680 - __main__ - INFO - Starting database initialization...
2024-11-30 03:25:19,680 - database - INFO - Initializing database connection...
2024-11-30 03:25:20,804 - database - INFO - Database connection test successful
2024-11-30 03:25:21,268 - database - INFO - Database tables created successfully
2024-11-30 03:25:21,351 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:25:21,351 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:25:21,479 - __main__ - INFO - Database initialized successfully
2024-11-30 03:25:21,521 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:25:21,523 - werkzeug - INFO -  * Debugger PIN: 454-039-628
2024-11-30 03:26:03,411 - __main__ - INFO - Starting database initialization...
2024-11-30 03:26:03,413 - database - INFO - Initializing database connection...
2024-11-30 03:26:04,568 - database - INFO - Database connection test successful
2024-11-30 03:26:04,961 - database - INFO - Database tables created successfully
2024-11-30 03:26:05,044 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:26:05,045 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:26:05,175 - __main__ - INFO - Database initialized successfully
2024-11-30 03:26:05,219 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:26:05,219 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:26:05,220 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:26:05,571 - __main__ - INFO - Starting database initialization...
2024-11-30 03:26:05,571 - database - INFO - Initializing database connection...
2024-11-30 03:26:06,698 - database - INFO - Database connection test successful
2024-11-30 03:26:07,087 - database - INFO - Database tables created successfully
2024-11-30 03:26:07,170 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:26:07,171 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:26:07,299 - __main__ - INFO - Database initialized successfully
2024-11-30 03:26:07,341 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:26:07,345 - werkzeug - INFO -  * Debugger PIN: 722-954-038
2024-11-30 03:27:04,328 - __main__ - INFO - Starting database initialization...
2024-11-30 03:27:04,328 - database - INFO - Initializing database connection...
2024-11-30 03:27:05,469 - database - INFO - Database connection test successful
2024-11-30 03:27:05,857 - database - INFO - Database tables created successfully
2024-11-30 03:27:05,942 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:27:05,943 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:27:06,073 - __main__ - INFO - Database initialized successfully
2024-11-30 03:27:06,118 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:27:06,118 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:27:06,119 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:27:06,464 - __main__ - INFO - Starting database initialization...
2024-11-30 03:27:06,464 - database - INFO - Initializing database connection...
2024-11-30 03:27:07,600 - database - INFO - Database connection test successful
2024-11-30 03:27:07,988 - database - INFO - Database tables created successfully
2024-11-30 03:27:08,071 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:27:08,072 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:27:08,202 - __main__ - INFO - Database initialized successfully
2024-11-30 03:27:08,250 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:27:08,252 - werkzeug - INFO -  * Debugger PIN: 577-741-131
2024-11-30 03:27:51,423 - __main__ - INFO - Starting database initialization...
2024-11-30 03:27:51,424 - database - INFO - Initializing database connection...
2024-11-30 03:27:52,553 - database - INFO - Database connection test successful
2024-11-30 03:27:52,940 - database - INFO - Database tables created successfully
2024-11-30 03:27:53,024 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:27:53,024 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:27:53,152 - __main__ - INFO - Database initialized successfully
2024-11-30 03:27:53,197 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:27:53,198 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:27:53,198 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:27:53,622 - __main__ - INFO - Starting database initialization...
2024-11-30 03:27:53,622 - database - INFO - Initializing database connection...
2024-11-30 03:27:54,744 - database - INFO - Database connection test successful
2024-11-30 03:27:55,133 - database - INFO - Database tables created successfully
2024-11-30 03:27:55,214 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:27:55,214 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:27:55,341 - __main__ - INFO - Database initialized successfully
2024-11-30 03:27:55,383 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:27:55,384 - werkzeug - INFO -  * Debugger PIN: 772-399-319
2024-11-30 03:28:42,050 - __main__ - INFO - Starting database initialization...
2024-11-30 03:28:42,050 - database - INFO - Initializing database connection...
2024-11-30 03:28:43,178 - database - INFO - Database connection test successful
2024-11-30 03:28:43,571 - database - INFO - Database tables created successfully
2024-11-30 03:28:43,654 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:28:43,654 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:28:43,781 - __main__ - INFO - Database initialized successfully
2024-11-30 03:28:43,842 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:28:43,842 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:28:43,843 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:28:44,195 - __main__ - INFO - Starting database initialization...
2024-11-30 03:28:44,195 - database - INFO - Initializing database connection...
2024-11-30 03:28:45,328 - database - INFO - Database connection test successful
2024-11-30 03:28:45,719 - database - INFO - Database tables created successfully
2024-11-30 03:28:45,801 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:28:45,802 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:28:45,930 - __main__ - INFO - Database initialized successfully
2024-11-30 03:28:45,967 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:28:45,969 - werkzeug - INFO -  * Debugger PIN: 876-035-730
2024-11-30 03:30:40,581 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/app.py', reloading
2024-11-30 03:30:41,231 - __main__ - INFO - Starting database initialization...
2024-11-30 03:30:41,231 - database - INFO - Initializing database connection...
2024-11-30 03:30:42,378 - database - INFO - Database connection test successful
2024-11-30 03:30:42,778 - database - INFO - Database tables created successfully
2024-11-30 03:30:42,859 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:30:42,860 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:30:42,988 - __main__ - INFO - Database initialized successfully
2024-11-30 03:30:43,031 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:80
 * Running on http://172.31.196.9:80
2024-11-30 03:30:43,031 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:30:43,032 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:30:43,366 - __main__ - INFO - Starting database initialization...
2024-11-30 03:30:43,366 - database - INFO - Initializing database connection...
2024-11-30 03:30:44,491 - database - INFO - Database connection test successful
2024-11-30 03:30:44,886 - database - INFO - Database tables created successfully
2024-11-30 03:30:44,972 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:30:44,973 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:30:45,101 - __main__ - INFO - Database initialized successfully
2024-11-30 03:30:45,137 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:30:45,138 - werkzeug - INFO -  * Debugger PIN: 128-728-364
2024-11-30 03:31:23,414 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/app.py', reloading
2024-11-30 03:31:23,493 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:31:23,844 - __main__ - INFO - Starting database initialization...
2024-11-30 03:31:23,844 - database - INFO - Initializing database connection...
2024-11-30 03:31:24,975 - database - INFO - Database connection test successful
2024-11-30 03:31:25,389 - database - INFO - Database tables created successfully
2024-11-30 03:31:25,474 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:31:25,474 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:31:25,604 - __main__ - INFO - Database initialized successfully
2024-11-30 03:31:25,647 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:31:25,650 - __main__ - INFO - Starting database initialization...
2024-11-30 03:31:25,650 - database - INFO - Initializing database connection...
2024-11-30 03:31:25,650 - werkzeug - INFO -  * Debugger PIN: 955-849-671
2024-11-30 03:31:26,793 - database - INFO - Database connection test successful
2024-11-30 03:31:27,187 - database - INFO - Database tables created successfully
2024-11-30 03:31:27,269 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:31:27,270 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:31:27,399 - __main__ - INFO - Database initialized successfully
2024-11-30 03:31:27,441 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:31:27,441 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:31:27,442 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:31:27,793 - __main__ - INFO - Starting database initialization...
2024-11-30 03:31:27,794 - database - INFO - Initializing database connection...
2024-11-30 03:31:28,917 - database - INFO - Database connection test successful
2024-11-30 03:31:29,316 - database - INFO - Database tables created successfully
2024-11-30 03:31:29,400 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:31:29,402 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:31:29,529 - __main__ - INFO - Database initialized successfully
2024-11-30 03:31:29,579 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:31:29,581 - werkzeug - INFO -  * Debugger PIN: 123-181-693
2024-11-30 03:32:09,909 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/app.py', reloading
2024-11-30 03:32:09,980 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:32:10,117 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/app.py', reloading
2024-11-30 03:32:10,190 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:32:10,384 - __main__ - INFO - Starting database initialization...
2024-11-30 03:32:10,385 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:32:10,387 - database - INFO - Initializing database connection...
2024-11-30 03:32:10,592 - __main__ - INFO - Starting database initialization...
2024-11-30 03:32:10,592 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:32:10,592 - database - INFO - Initializing database connection...
2024-11-30 03:32:11,523 - database - INFO - Database connection test successful
2024-11-30 03:32:11,728 - database - INFO - Database connection test successful
2024-11-30 03:32:11,915 - database - INFO - Database tables created successfully
2024-11-30 03:32:11,998 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:32:11,998 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:32:12,127 - __main__ - INFO - Database initialized successfully
2024-11-30 03:32:12,128 - __main__ - ERROR - Database initialization failed: name 'text' is not defined
Traceback (most recent call last):
  File "/home/runner/FollowMyLead20/app.py", line 85, in create_app
    db.session.execute(text('SELECT 1'))
                       ^^^^
NameError: name 'text' is not defined
2024-11-30 03:32:12,131 - __main__ - ERROR - Please check database configuration and connectivity
2024-11-30 03:32:12,132 - database - INFO - Database tables created successfully
2024-11-30 03:32:12,215 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:32:12,215 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:32:12,230 - __main__ - INFO - Starting database initialization...
2024-11-30 03:32:12,230 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:32:12,230 - database - INFO - Initializing database connection...
2024-11-30 03:32:12,344 - __main__ - INFO - Database initialized successfully
2024-11-30 03:32:12,345 - __main__ - ERROR - Database initialization failed: name 'text' is not defined
Traceback (most recent call last):
  File "/home/runner/FollowMyLead20/app.py", line 85, in create_app
    db.session.execute(text('SELECT 1'))
                       ^^^^
NameError: name 'text' is not defined
2024-11-30 03:32:12,345 - __main__ - ERROR - Please check database configuration and connectivity
2024-11-30 03:32:13,371 - database - INFO - Database connection test successful
2024-11-30 03:32:13,762 - database - INFO - Database tables created successfully
2024-11-30 03:32:13,843 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:32:13,844 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:32:13,972 - __main__ - INFO - Database initialized successfully
2024-11-30 03:32:13,973 - __main__ - ERROR - Database initialization failed: name 'text' is not defined
Traceback (most recent call last):
  File "/home/runner/FollowMyLead20/app.py", line 85, in create_app
    db.session.execute(text('SELECT 1'))
                       ^^^^
NameError: name 'text' is not defined
2024-11-30 03:32:13,976 - __main__ - ERROR - Please check database configuration and connectivity
2024-11-30 03:32:28,346 - __main__ - INFO - Starting database initialization...
2024-11-30 03:32:28,347 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:32:28,347 - database - INFO - Initializing database connection...
2024-11-30 03:32:29,478 - database - INFO - Database connection test successful
2024-11-30 03:32:29,869 - database - INFO - Database tables created successfully
2024-11-30 03:32:29,952 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:32:29,952 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:32:30,081 - __main__ - INFO - Database initialized successfully
2024-11-30 03:32:30,272 - __main__ - INFO - Database connection test successful
2024-11-30 03:32:30,380 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:32:30,381 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:32:30,382 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:32:30,722 - __main__ - INFO - Starting database initialization...
2024-11-30 03:32:30,722 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:32:30,722 - database - INFO - Initializing database connection...
2024-11-30 03:32:31,852 - database - INFO - Database connection test successful
2024-11-30 03:32:32,246 - database - INFO - Database tables created successfully
2024-11-30 03:32:32,329 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:32:32,329 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:32:32,458 - __main__ - INFO - Database initialized successfully
2024-11-30 03:32:32,651 - __main__ - INFO - Database connection test successful
2024-11-30 03:32:32,758 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:32:32,760 - werkzeug - INFO -  * Debugger PIN: 342-193-218
2024-11-30 03:36:39,590 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/app.py', reloading
2024-11-30 03:36:39,664 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:36:40,059 - __main__ - INFO - Starting database initialization...
2024-11-30 03:36:40,060 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:36:40,060 - database - INFO - Initializing database connection...
2024-11-30 03:36:40,906 - __main__ - INFO - Starting database initialization...
2024-11-30 03:36:40,906 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:36:40,906 - database - INFO - Initializing database connection...
2024-11-30 03:36:42,068 - database - INFO - Database connection test successful
2024-11-30 03:36:42,488 - database - INFO - Database tables created successfully
2024-11-30 03:36:42,576 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:36:42,577 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:36:42,704 - __main__ - INFO - Database initialized successfully
2024-11-30 03:36:42,895 - __main__ - INFO - Database connection test successful
2024-11-30 03:36:43,001 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:36:43,001 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:36:43,001 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:36:43,361 - __main__ - INFO - Starting database initialization...
2024-11-30 03:36:43,362 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:36:43,362 - database - INFO - Initializing database connection...
2024-11-30 03:36:44,511 - database - INFO - Database connection test successful
2024-11-30 03:36:44,912 - database - INFO - Database tables created successfully
2024-11-30 03:36:44,994 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:36:44,994 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:36:45,123 - __main__ - INFO - Database initialized successfully
2024-11-30 03:36:45,315 - __main__ - INFO - Database connection test successful
2024-11-30 03:36:45,414 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:36:45,416 - werkzeug - INFO -  * Debugger PIN: 374-037-916
2024-11-30 03:37:23,663 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/app.py', reloading
2024-11-30 03:37:23,737 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:37:24,107 - __main__ - INFO - Starting database initialization...
2024-11-30 03:37:24,107 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:37:24,107 - database - INFO - Initializing database connection...
2024-11-30 03:37:25,255 - database - INFO - Database connection test successful
2024-11-30 03:37:25,668 - database - INFO - Database tables created successfully
2024-11-30 03:37:25,749 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:37:25,751 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:37:25,879 - __main__ - INFO - Database initialized successfully
2024-11-30 03:37:26,075 - __main__ - INFO - Database connection test successful
2024-11-30 03:37:26,088 - __main__ - INFO - Starting database initialization...
2024-11-30 03:37:26,088 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:37:26,088 - database - INFO - Initializing database connection...
2024-11-30 03:37:26,178 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:37:26,182 - werkzeug - INFO -  * Debugger PIN: 134-675-301
2024-11-30 03:37:27,247 - database - INFO - Database connection test successful
2024-11-30 03:37:27,640 - database - INFO - Database tables created successfully
2024-11-30 03:37:27,722 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:37:27,722 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:37:27,851 - __main__ - INFO - Database initialized successfully
2024-11-30 03:37:28,043 - __main__ - INFO - Database connection test successful
2024-11-30 03:37:45,591 - __main__ - INFO - Starting database initialization...
2024-11-30 03:37:45,591 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:37:45,591 - database - INFO - Initializing database connection...
2024-11-30 03:37:46,723 - database - INFO - Database connection test successful
2024-11-30 03:37:47,114 - database - INFO - Database tables created successfully
2024-11-30 03:37:47,196 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:37:47,197 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:37:47,325 - __main__ - INFO - Database initialized successfully
2024-11-30 03:37:47,516 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:18,868 - __main__ - INFO - Starting database initialization...
2024-11-30 03:38:18,876 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:38:18,882 - database - INFO - Initializing database connection...
2024-11-30 03:38:20,039 - database - INFO - Database connection test successful
2024-11-30 03:38:20,445 - database - INFO - Database tables created successfully
2024-11-30 03:38:20,529 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:38:20,533 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:38:20,667 - __main__ - INFO - Database initialized successfully
2024-11-30 03:38:20,866 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:21,769 - __main__ - INFO - Starting database initialization...
2024-11-30 03:38:21,773 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:38:21,774 - database - INFO - Initializing database connection...
2024-11-30 03:38:22,930 - database - INFO - Database connection test successful
2024-11-30 03:38:23,323 - database - INFO - Database tables created successfully
2024-11-30 03:38:23,409 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:38:23,410 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:38:23,542 - __main__ - INFO - Database initialized successfully
2024-11-30 03:38:23,739 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:24,739 - __main__ - INFO - Starting database initialization...
2024-11-30 03:38:24,739 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:38:24,739 - database - INFO - Initializing database connection...
2024-11-30 03:38:25,892 - database - INFO - Database connection test successful
2024-11-30 03:38:26,283 - database - INFO - Database tables created successfully
2024-11-30 03:38:26,365 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:38:26,365 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:38:26,495 - __main__ - INFO - Database initialized successfully
2024-11-30 03:38:26,690 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:26,805 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.9:5000
2024-11-30 03:38:26,806 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:38:26,809 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:38:27,162 - __main__ - INFO - Starting database initialization...
2024-11-30 03:38:27,162 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:38:27,162 - database - INFO - Initializing database connection...
2024-11-30 03:38:28,297 - database - INFO - Database connection test successful
2024-11-30 03:38:28,695 - database - INFO - Database tables created successfully
2024-11-30 03:38:28,780 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:38:28,780 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:38:28,911 - __main__ - INFO - Database initialized successfully
2024-11-30 03:38:29,104 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:29,207 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:38:29,209 - werkzeug - INFO -  * Debugger PIN: 103-703-736
2024-11-30 03:38:55,130 - werkzeug - INFO -  * Detected change in '/home/runner/FollowMyLead20/app.py', reloading
2024-11-30 03:38:55,227 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:38:55,448 - __main__ - INFO - Starting database initialization...
2024-11-30 03:38:55,450 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:38:55,451 - database - INFO - Initializing database connection...
2024-11-30 03:38:55,745 - __main__ - INFO - Starting database initialization...
2024-11-30 03:38:55,745 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:38:55,746 - database - INFO - Initializing database connection...
2024-11-30 03:38:56,596 - database - INFO - Database connection test successful
2024-11-30 03:38:56,910 - database - INFO - Database connection test successful
2024-11-30 03:38:56,986 - database - INFO - Database tables created successfully
2024-11-30 03:38:57,068 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:38:57,069 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:38:57,197 - __main__ - INFO - Database initialized successfully
2024-11-30 03:38:57,296 - database - INFO - Database tables created successfully
2024-11-30 03:38:57,378 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:38:57,379 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:38:57,387 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:57,496 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://172.31.196.9:5001
2024-11-30 03:38:57,496 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:38:57,497 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:38:57,509 - __main__ - INFO - Database initialized successfully
2024-11-30 03:38:57,699 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:57,797 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:38:57,798 - werkzeug - INFO -  * Debugger PIN: 299-013-721
2024-11-30 03:38:57,852 - __main__ - INFO - Starting database initialization...
2024-11-30 03:38:57,852 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:38:57,853 - database - INFO - Initializing database connection...
2024-11-30 03:38:58,984 - database - INFO - Database connection test successful
2024-11-30 03:38:59,382 - database - INFO - Database tables created successfully
2024-11-30 03:38:59,465 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:38:59,466 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:38:59,594 - __main__ - INFO - Database initialized successfully
2024-11-30 03:38:59,790 - __main__ - INFO - Database connection test successful
2024-11-30 03:38:59,898 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:38:59,901 - werkzeug - INFO -  * Debugger PIN: 598-438-070
2024-11-30 03:39:55,927 - __main__ - INFO - Starting database initialization...
2024-11-30 03:39:55,928 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:39:55,928 - database - INFO - Initializing database connection...
2024-11-30 03:39:57,067 - database - INFO - Database connection test successful
2024-11-30 03:39:57,456 - database - INFO - Database tables created successfully
2024-11-30 03:39:57,538 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:39:57,538 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:39:57,668 - __main__ - INFO - Database initialized successfully
2024-11-30 03:39:57,859 - __main__ - INFO - Database connection test successful
2024-11-30 03:39:57,966 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://172.31.196.9:5001
2024-11-30 03:39:57,966 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 03:39:57,967 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:39:58,349 - __main__ - INFO - Starting database initialization...
2024-11-30 03:39:58,350 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:39:58,350 - database - INFO - Initializing database connection...
2024-11-30 03:39:59,499 - database - INFO - Database connection test successful
2024-11-30 03:39:59,889 - database - INFO - Database tables created successfully
2024-11-30 03:39:59,973 - database - INFO - Table leads exists with columns: ['user_id', 'quality_score', 'status', 'name', 'created_at', 'email', 'id', 'company']
2024-11-30 03:39:59,973 - database - INFO - Table users exists with columns: ['created_at', 'password_hash', 'id', 'email', 'username']
2024-11-30 03:40:00,103 - __main__ - INFO - Database initialized successfully
2024-11-30 03:40:00,295 - __main__ - INFO - Database connection test successful
2024-11-30 03:40:00,393 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:40:00,396 - werkzeug - INFO -  * Debugger PIN: 152-473-883
2024-11-29 23:22:14,783 - __main__ - INFO - Starting database initialization...
2024-11-29 23:22:14,783 - __main__ - INFO - Database URL format: Not set
2024-11-29 23:22:14,783 - database - INFO - Initializing database connection...
2024-11-29 23:22:14,784 - database - WARNING - Database initialization attempt 1 failed: Either 'SQLALCHEMY_DATABASE_URI' or 'SQLALCHEMY_BINDS' must be set.
2024-11-29 23:22:16,789 - database - WARNING - Database initialization attempt 2 failed: A 'SQLAlchemy' instance has already been registered on this Flask app. Import and use that instance instead.
2024-11-29 23:22:20,797 - database - WARNING - Database initialization attempt 3 failed: A 'SQLAlchemy' instance has already been registered on this Flask app. Import and use that instance instead.
2024-11-29 23:22:20,798 - database - ERROR - Database initialization failed after maximum retries
Traceback (most recent call last):
  File "/Users/joshuahopkins/Desktop/FollowMyLead20/database.py", line 20, in init_db
    db.init_app(app)
  File "/Users/joshuahopkins/Library/Python/3.9/lib/python/site-packages/flask_sqlalchemy/extension.py", line 312, in init_app
    raise RuntimeError(
RuntimeError: A 'SQLAlchemy' instance has already been registered on this Flask app. Import and use that instance instead.
2024-11-29 23:22:20,811 - __main__ - ERROR - Database initialization failed: A 'SQLAlchemy' instance has already been registered on this Flask app. Import and use that instance instead.
Traceback (most recent call last):
  File "/Users/joshuahopkins/Desktop/FollowMyLead20/app.py", line 84, in create_app
    init_db(app)
  File "/Users/joshuahopkins/Desktop/FollowMyLead20/database.py", line 20, in init_db
    db.init_app(app)
  File "/Users/joshuahopkins/Library/Python/3.9/lib/python/site-packages/flask_sqlalchemy/extension.py", line 312, in init_app
    raise RuntimeError(
RuntimeError: A 'SQLAlchemy' instance has already been registered on this Flask app. Import and use that instance instead.
2024-11-29 23:22:20,812 - __main__ - ERROR - Please check database configuration and connectivity
2024-11-29 23:24:21,356 - __main__ - INFO - Starting database initialization...
2024-11-29 23:24:21,356 - __main__ - INFO - Database URL format: Not set
2024-11-29 23:24:21,356 - database - INFO - Initializing database connection...
2024-11-29 23:24:21,357 - database - ERROR - Database initialization error: Either 'SQLALCHEMY_DATABASE_URI' or 'SQLALCHEMY_BINDS' must be set.
2024-11-29 23:24:21,357 - __main__ - ERROR - Database initialization failed: Either 'SQLALCHEMY_DATABASE_URI' or 'SQLALCHEMY_BINDS' must be set.
Traceback (most recent call last):
  File "/Users/joshuahopkins/Desktop/FollowMyLead20/app.py", line 84, in create_app
    init_db(app)
  File "/Users/joshuahopkins/Desktop/FollowMyLead20/database.py", line 17, in init_db
    db.init_app(app)
  File "/Users/joshuahopkins/Library/Python/3.9/lib/python/site-packages/flask_sqlalchemy/extension.py", line 355, in init_app
    raise RuntimeError(
RuntimeError: Either 'SQLALCHEMY_DATABASE_URI' or 'SQLALCHEMY_BINDS' must be set.
2024-11-29 23:24:21,358 - __main__ - ERROR - Please check database configuration and connectivity
2024-11-29 23:30:02,967 - __main__ - INFO - Starting database initialization...
2024-11-29 23:30:02,967 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:30:02,967 - database - INFO - Initializing database connection...
2024-11-29 23:30:06,353 - database - INFO - Database connection test successful
2024-11-29 23:30:06,822 - database - INFO - Database tables created successfully
2024-11-29 23:30:06,925 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:30:07,000 - __main__ - INFO - Database initialized successfully
2024-11-29 23:30:07,218 - __main__ - INFO - Database connection test successful
2024-11-29 23:30:07,630 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://169.231.162.40:5001
2024-11-29 23:30:07,630 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-29 23:30:07,631 - werkzeug - INFO -  * Restarting with stat
2024-11-29 23:30:07,869 - __main__ - INFO - Starting database initialization...
2024-11-29 23:30:07,869 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:30:07,869 - database - INFO - Initializing database connection...
2024-11-29 23:30:09,232 - database - INFO - Database connection test successful
2024-11-29 23:30:09,699 - database - INFO - Database tables created successfully
2024-11-29 23:30:09,779 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:30:09,853 - __main__ - INFO - Database initialized successfully
2024-11-29 23:30:10,078 - __main__ - INFO - Database connection test successful
2024-11-29 23:30:10,175 - werkzeug - WARNING -  * Debugger is active!
2024-11-29 23:30:10,182 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-29 23:31:01,426 - app - DEBUG - Request Headers: Host: localhost:5001
Sec-Fetch-Site: none
Cookie: username-localhost-8889="2|1:0|10:1732322645|23:username-localhost-8889|204:eyJ1c2VybmFtZSI6ICIwMWVjY2JiYjEzMmM0MmQxYTk2M2M4ZDUwNzI4YTY4ZiIsICJuYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiZGlzcGxheV9uYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiaW5pdGlhbHMiOiAiQVAiLCAiY29sb3IiOiBudWxsfQ==|1ec67081068f5033b8696267302805c7599e5401c4b42e48f90da761be5d13b9"
Connection: keep-alive
Upgrade-Insecure-Requests: 1
Sec-Fetch-Mode: navigate
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Safari/605.1.15
Accept-Language: en-US,en;q=0.9
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate


2024-11-29 23:31:01,427 - app - DEBUG - Request Body: b''
2024-11-29 23:31:01,439 - app - DEBUG - Response Status: 200 OK
2024-11-29 23:31:01,440 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:31:01] "GET / HTTP/1.1" 200 -
2024-11-29 23:31:01,465 - app - DEBUG - Request Headers: Host: localhost:5001
Sec-Fetch-Site: same-origin
Accept-Encoding: gzip, deflate
Cookie: username-localhost-8889="2|1:0|10:1732322645|23:username-localhost-8889|204:eyJ1c2VybmFtZSI6ICIwMWVjY2JiYjEzMmM0MmQxYTk2M2M4ZDUwNzI4YTY4ZiIsICJuYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiZGlzcGxheV9uYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiaW5pdGlhbHMiOiAiQVAiLCAiY29sb3IiOiBudWxsfQ==|1ec67081068f5033b8696267302805c7599e5401c4b42e48f90da761be5d13b9"
Connection: keep-alive
Sec-Fetch-Mode: no-cors
Accept: text/css,*/*;q=0.1
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Safari/605.1.15
Referer: http://localhost:5001/
Sec-Fetch-Dest: style
Accept-Language: en-US,en;q=0.9


2024-11-29 23:31:01,466 - app - DEBUG - Request Headers: Host: localhost:5001
Sec-Fetch-Site: same-origin
Accept-Encoding: gzip, deflate
Cookie: username-localhost-8889="2|1:0|10:1732322645|23:username-localhost-8889|204:eyJ1c2VybmFtZSI6ICIwMWVjY2JiYjEzMmM0MmQxYTk2M2M4ZDUwNzI4YTY4ZiIsICJuYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiZGlzcGxheV9uYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiaW5pdGlhbHMiOiAiQVAiLCAiY29sb3IiOiBudWxsfQ==|1ec67081068f5033b8696267302805c7599e5401c4b42e48f90da761be5d13b9"
Connection: keep-alive
Sec-Fetch-Mode: no-cors
Accept: */*
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Safari/605.1.15
Referer: http://localhost:5001/
Sec-Fetch-Dest: script
Accept-Language: en-US,en;q=0.9


2024-11-29 23:31:01,466 - app - DEBUG - Request Body: b''
2024-11-29 23:31:01,466 - app - DEBUG - Request Body: b''
2024-11-29 23:31:01,471 - app - DEBUG - Response Status: 200 OK
2024-11-29 23:31:01,471 - app - DEBUG - Response Status: 200 OK
2024-11-29 23:31:01,471 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:31:01] "GET /static/css/styles.css HTTP/1.1" 200 -
2024-11-29 23:31:01,472 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:31:01] "GET /static/js/bundle.js HTTP/1.1" 200 -
2024-11-29 23:31:01,646 - app - DEBUG - Request Headers: Host: localhost:5001
Sec-Fetch-Site: same-origin
Accept-Encoding: gzip, deflate
Cookie: username-localhost-8889="2|1:0|10:1732322645|23:username-localhost-8889|204:eyJ1c2VybmFtZSI6ICIwMWVjY2JiYjEzMmM0MmQxYTk2M2M4ZDUwNzI4YTY4ZiIsICJuYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiZGlzcGxheV9uYW1lIjogIkFub255bW91cyBQcmF4aWRpa2UiLCAiaW5pdGlhbHMiOiAiQVAiLCAiY29sb3IiOiBudWxsfQ==|1ec67081068f5033b8696267302805c7599e5401c4b42e48f90da761be5d13b9"
Connection: keep-alive
Sec-Fetch-Mode: no-cors
Accept: */*
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Safari/605.1.15
Referer: http://localhost:5001/
Sec-Fetch-Dest: image
Accept-Language: en-US,en;q=0.9


2024-11-29 23:31:01,647 - app - DEBUG - Request Body: b''
2024-11-29 23:31:01,647 - app - ERROR - index.html not found in /Users/joshuahopkins/Desktop/FollowMyLead20/static
2024-11-29 23:31:01,647 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-29 23:31:01,647 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:31:01] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 500 -
2024-11-29 23:42:58,341 - __main__ - INFO - Starting database initialization...
2024-11-29 23:42:58,341 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:42:58,341 - database - INFO - Initializing database connection...
2024-11-29 23:43:00,497 - database - INFO - Database connection test successful
2024-11-29 23:43:00,975 - database - INFO - Database tables created successfully
2024-11-29 23:43:01,074 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:43:01,149 - __main__ - INFO - Database initialized successfully
2024-11-29 23:43:01,372 - __main__ - INFO - Database connection test successful
2024-11-29 23:57:47,959 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-29 23:57:48,060 - werkzeug - INFO -  * Restarting with stat
2024-11-29 23:57:48,309 - __main__ - INFO - Starting database initialization...
2024-11-29 23:57:48,309 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:57:48,309 - database - INFO - Initializing database connection...
2024-11-29 23:57:51,415 - database - INFO - Database connection test successful
2024-11-29 23:57:52,264 - database - INFO - Database tables created successfully
2024-11-29 23:57:52,402 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:57:52,580 - __main__ - INFO - Database initialized successfully
2024-11-29 23:57:53,107 - __main__ - INFO - Database connection test successful
2024-11-29 23:57:53,322 - werkzeug - WARNING -  * Debugger is active!
2024-11-29 23:57:53,330 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-29 23:57:54,414 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-29 23:57:54,457 - werkzeug - INFO -  * Restarting with stat
2024-11-29 23:57:54,679 - __main__ - INFO - Starting database initialization...
2024-11-29 23:57:54,679 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:57:54,679 - database - INFO - Initializing database connection...
2024-11-29 23:57:56,021 - database - INFO - Database connection test successful
2024-11-29 23:57:56,482 - database - INFO - Database tables created successfully
2024-11-29 23:57:56,562 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:57:56,638 - __main__ - INFO - Database initialized successfully
2024-11-29 23:57:56,861 - __main__ - INFO - Database connection test successful
2024-11-29 23:57:56,963 - werkzeug - WARNING -  * Debugger is active!
2024-11-29 23:57:56,967 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-29 23:58:01,308 - __main__ - INFO - Starting database initialization...
2024-11-29 23:58:01,308 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:58:01,308 - database - INFO - Initializing database connection...
2024-11-29 23:58:02,648 - database - INFO - Database connection test successful
2024-11-29 23:58:03,113 - database - INFO - Database tables created successfully
2024-11-29 23:58:03,191 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:58:03,267 - __main__ - INFO - Database initialized successfully
2024-11-29 23:58:03,496 - __main__ - INFO - Database connection test successful
2024-11-29 23:58:03,604 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5002
 * Running on http://169.231.162.40:5002
2024-11-29 23:58:03,604 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-29 23:58:03,606 - werkzeug - INFO -  * Restarting with stat
2024-11-29 23:58:03,777 - __main__ - INFO - Starting database initialization...
2024-11-29 23:58:03,777 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:58:03,777 - database - INFO - Initializing database connection...
2024-11-29 23:58:05,080 - database - INFO - Database connection test successful
2024-11-29 23:58:05,545 - database - INFO - Database tables created successfully
2024-11-29 23:58:05,621 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:58:05,695 - __main__ - INFO - Database initialized successfully
2024-11-29 23:58:05,926 - __main__ - INFO - Database connection test successful
2024-11-29 23:58:06,021 - werkzeug - WARNING -  * Debugger is active!
2024-11-29 23:58:06,025 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-29 23:58:11,068 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-29 23:58:11,069 - app - DEBUG - Request Body: b''
2024-11-29 23:58:11,307 - app - DEBUG - Response Status: 200 OK
2024-11-29 23:58:11,381 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:58:11] "GET /api/check-users HTTP/1.1" 200 -
2024-11-29 23:58:11,383 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-29 23:58:11,383 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-29 23:58:11,705 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:58:11] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-29 23:58:34,284 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-29 23:58:34,332 - werkzeug - INFO -  * Restarting with stat
2024-11-29 23:58:34,564 - __main__ - INFO - Starting database initialization...
2024-11-29 23:58:34,564 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:58:34,564 - database - INFO - Initializing database connection...
2024-11-29 23:58:34,582 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-29 23:58:34,641 - werkzeug - INFO -  * Restarting with stat
2024-11-29 23:58:34,812 - __main__ - INFO - Starting database initialization...
2024-11-29 23:58:34,812 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-29 23:58:34,812 - database - INFO - Initializing database connection...
2024-11-29 23:58:35,909 - database - INFO - Database connection test successful
2024-11-29 23:58:36,113 - database - INFO - Database connection test successful
2024-11-29 23:58:36,388 - database - INFO - Database tables created successfully
2024-11-29 23:58:36,471 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:58:36,558 - __main__ - INFO - Database initialized successfully
2024-11-29 23:58:36,599 - database - INFO - Database tables created successfully
2024-11-29 23:58:36,678 - database - INFO - Database tables: ['users', 'leads']
2024-11-29 23:58:36,752 - __main__ - INFO - Database initialized successfully
2024-11-29 23:58:36,785 - __main__ - INFO - Database connection test successful
2024-11-29 23:58:36,890 - werkzeug - WARNING -  * Debugger is active!
2024-11-29 23:58:36,895 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-29 23:58:36,975 - __main__ - INFO - Database connection test successful
2024-11-29 23:58:37,069 - werkzeug - WARNING -  * Debugger is active!
2024-11-29 23:58:37,073 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-29 23:58:53,944 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-29 23:58:53,945 - app - DEBUG - Request Body: b''
2024-11-29 23:58:54,182 - app - DEBUG - Response Status: 200 OK
2024-11-29 23:58:54,258 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:58:54] "GET /api/check-users HTTP/1.1" 200 -
2024-11-29 23:58:54,261 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-29 23:58:54,261 - app - DEBUG - Request Body: b''
2024-11-29 23:58:54,481 - app - DEBUG - Response Status: 200 OK
2024-11-29 23:58:54,556 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:58:54] "GET /api/check-users HTTP/1.1" 200 -
2024-11-29 23:58:54,560 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-29 23:58:54,560 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-29 23:58:54,882 - werkzeug - INFO - 127.0.0.1 - - [29/Nov/2024 23:58:54] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-29 23:59:59,821 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-29 23:59:59,822 - app - DEBUG - Request Body: b''
2024-11-30 00:00:00,079 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:00:00,155 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:00:00] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:00:00,175 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:00:00,175 - app - DEBUG - Request Body: b''
2024-11-30 00:00:00,402 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:00:00,477 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:00:00] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:00:00,482 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-30 00:00:00,482 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-30 00:00:00,782 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:00:00] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-30 00:00:25,160 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:00:25,161 - app - DEBUG - Request Body: b''
2024-11-30 00:00:25,395 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:00:25,472 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:00:25] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:00:25,475 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:00:25,475 - app - DEBUG - Request Body: b''
2024-11-30 00:00:25,695 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:00:25,769 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:00:25] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:00:25,772 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-30 00:00:25,772 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-30 00:00:26,086 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:00:26] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-30 00:01:09,458 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:01:09,459 - app - DEBUG - Request Body: b''
2024-11-30 00:01:09,684 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:01:09,758 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:01:09] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:01:09,761 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:01:09,761 - app - DEBUG - Request Body: b''
2024-11-30 00:01:09,987 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:01:10,062 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:01:10] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:01:10,065 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-30 00:01:10,065 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-30 00:01:10,367 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:01:10] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-30 00:02:50,341 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:02:50,342 - app - DEBUG - Request Body: b''
2024-11-30 00:02:50,576 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:02:50,651 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:02:50] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:02:50,653 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:02:50,653 - app - DEBUG - Request Body: b''
2024-11-30 00:02:50,874 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:02:50,948 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:02:50] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:02:50,950 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-30 00:02:50,950 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-30 00:02:51,262 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:02:51] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-30 00:03:09,915 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:03:09,915 - app - DEBUG - Request Body: b''
2024-11-30 00:03:10,137 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:03:10,210 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:03:10] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:03:10,213 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:03:10,213 - app - DEBUG - Request Body: b''
2024-11-30 00:03:10,442 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:03:10,518 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:03:10] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:03:10,522 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-30 00:03:10,522 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-30 00:03:10,825 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:03:10] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-30 00:03:39,127 - __main__ - INFO - Starting database initialization...
2024-11-30 00:03:39,127 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:03:39,127 - database - INFO - Initializing database connection...
2024-11-30 00:03:40,515 - database - INFO - Database connection test successful
2024-11-30 00:03:40,978 - database - INFO - Database tables created successfully
2024-11-30 00:03:41,056 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:03:41,130 - __main__ - INFO - Database initialized successfully
2024-11-30 00:03:41,351 - __main__ - INFO - Database connection test successful
2024-11-30 00:03:49,314 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:03:49,315 - app - DEBUG - Request Body: b''
2024-11-30 00:03:49,926 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:03:50,001 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:03:50] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:03:50,004 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:03:50,004 - app - DEBUG - Request Body: b''
2024-11-30 00:03:50,611 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:03:50,685 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:03:50] "GET /api/check-users HTTP/1.1" 200 -
2024-11-30 00:03:50,688 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 84
Content-Type: application/json


2024-11-30 00:03:50,688 - app - DEBUG - Request Body: b'{"username": "testuser", "email": "test@example.com", "password": "testpassword123"}'
2024-11-30 00:03:50,991 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:03:50] "[35m[1mPOST /api/register HTTP/1.1[0m" 500 -
2024-11-30 00:07:57,406 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Library/Python/3.9/lib/python/site-packages/werkzeug/datastructures/etag.py', reloading
2024-11-30 00:07:57,406 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Library/Python/3.9/lib/python/site-packages/werkzeug/local.py', reloading
2024-11-30 00:07:57,482 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:07:57,482 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:07:57,705 - __main__ - INFO - Starting database initialization...
2024-11-30 00:07:57,705 - __main__ - INFO - Starting database initialization...
2024-11-30 00:07:57,705 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:07:57,705 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:07:57,705 - database - INFO - Initializing database connection...
2024-11-30 00:07:57,705 - database - INFO - Initializing database connection...
2024-11-30 00:07:59,109 - database - INFO - Database connection test successful
2024-11-30 00:07:59,150 - database - INFO - Database connection test successful
2024-11-30 00:07:59,603 - database - INFO - Database tables created successfully
2024-11-30 00:07:59,616 - database - INFO - Database tables created successfully
2024-11-30 00:07:59,681 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:07:59,691 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:07:59,759 - __main__ - INFO - Database initialized successfully
2024-11-30 00:07:59,765 - __main__ - INFO - Database initialized successfully
2024-11-30 00:07:59,979 - __main__ - INFO - Database connection test successful
2024-11-30 00:07:59,988 - __main__ - INFO - Database connection test successful
2024-11-30 00:08:00,070 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:08:00,072 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:08:00,075 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:08:00,075 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:09:20,236 - __main__ - INFO - Starting database initialization...
2024-11-30 00:09:20,237 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:09:20,237 - database - INFO - Initializing database connection...
2024-11-30 00:09:21,784 - database - INFO - Database connection test successful
2024-11-30 00:09:22,323 - database - INFO - Database tables created successfully
2024-11-30 00:09:22,401 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:09:22,477 - __main__ - INFO - Database initialized successfully
2024-11-30 00:09:22,758 - __main__ - INFO - Database connection test successful
2024-11-30 00:18:00,627 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 00:18:00,629 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 00:18:00,714 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:18:00,715 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:18:01,020 - __main__ - INFO - Starting database initialization...
2024-11-30 00:18:01,020 - __main__ - INFO - Starting database initialization...
2024-11-30 00:18:01,020 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:18:01,020 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:18:01,020 - database - INFO - Initializing database connection...
2024-11-30 00:18:01,020 - database - INFO - Initializing database connection...
2024-11-30 00:18:03,216 - database - INFO - Database connection test successful
2024-11-30 00:18:03,624 - database - INFO - Database connection test successful
2024-11-30 00:18:03,689 - database - INFO - Database tables created successfully
2024-11-30 00:18:03,790 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:18:03,864 - __main__ - INFO - Database initialized successfully
2024-11-30 00:18:04,085 - __main__ - INFO - Database connection test successful
2024-11-30 00:18:04,093 - database - INFO - Database tables created successfully
2024-11-30 00:18:04,169 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:18:04,178 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:18:04,184 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:18:04,243 - __main__ - INFO - Database initialized successfully
2024-11-30 00:18:04,474 - __main__ - INFO - Database connection test successful
2024-11-30 00:18:04,561 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:18:04,565 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:18:13,601 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 00:18:13,635 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:18:13,874 - __main__ - INFO - Starting database initialization...
2024-11-30 00:18:13,874 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:18:13,874 - database - INFO - Initializing database connection...
2024-11-30 00:18:13,951 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 00:18:13,990 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:18:14,170 - __main__ - INFO - Starting database initialization...
2024-11-30 00:18:14,170 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:18:14,170 - database - INFO - Initializing database connection...
2024-11-30 00:18:17,439 - database - INFO - Database connection test successful
2024-11-30 00:18:17,512 - database - INFO - Database connection test successful
2024-11-30 00:18:18,332 - database - INFO - Database tables created successfully
2024-11-30 00:18:18,405 - database - INFO - Database tables created successfully
2024-11-30 00:18:18,411 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:18:18,529 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:18:18,529 - __main__ - INFO - Database initialized successfully
2024-11-30 00:18:18,605 - __main__ - INFO - Database initialized successfully
2024-11-30 00:18:18,747 - __main__ - INFO - Database connection test successful
2024-11-30 00:18:18,856 - __main__ - INFO - Database connection test successful
2024-11-30 00:18:18,862 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:18:18,867 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:18:18,936 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:18:18,940 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:35:40,948 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 00:35:40,948 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 00:35:41,046 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:35:41,047 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:35:41,364 - __main__ - INFO - Starting database initialization...
2024-11-30 00:35:41,364 - __main__ - INFO - Starting database initialization...
2024-11-30 00:35:41,364 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:35:41,364 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:35:41,364 - database - INFO - Initializing database connection...
2024-11-30 00:35:41,364 - database - INFO - Initializing database connection...
2024-11-30 00:35:43,296 - database - INFO - Database connection test successful
2024-11-30 00:35:43,314 - database - INFO - Database connection test successful
2024-11-30 00:35:44,116 - database - INFO - Database tables created successfully
2024-11-30 00:35:44,116 - database - INFO - Database tables created successfully
2024-11-30 00:35:44,212 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:35:44,286 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:35:44,288 - __main__ - INFO - Database initialized successfully
2024-11-30 00:35:44,364 - __main__ - INFO - Database initialized successfully
2024-11-30 00:35:44,511 - __main__ - INFO - Database connection test successful
2024-11-30 00:35:44,585 - __main__ - INFO - Database connection test successful
2024-11-30 00:35:44,591 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:35:44,596 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:35:44,665 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:35:44,668 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:35:52,942 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 00:35:52,947 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 00:35:52,995 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:35:53,001 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:35:53,280 - __main__ - INFO - Starting database initialization...
2024-11-30 00:35:53,280 - __main__ - INFO - Starting database initialization...
2024-11-30 00:35:53,280 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:35:53,280 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:35:53,280 - database - INFO - Initializing database connection...
2024-11-30 00:35:53,280 - database - INFO - Initializing database connection...
2024-11-30 00:35:54,644 - database - INFO - Database connection test successful
2024-11-30 00:35:54,659 - database - INFO - Database connection test successful
2024-11-30 00:35:55,395 - database - INFO - Database tables created successfully
2024-11-30 00:35:55,446 - database - INFO - Database tables created successfully
2024-11-30 00:35:55,472 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:35:55,524 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:35:55,546 - __main__ - INFO - Database initialized successfully
2024-11-30 00:35:55,600 - __main__ - INFO - Database initialized successfully
2024-11-30 00:35:55,766 - __main__ - INFO - Database connection test successful
2024-11-30 00:35:55,831 - __main__ - INFO - Database connection test successful
2024-11-30 00:36:02,131 - __main__ - INFO - Starting database initialization...
2024-11-30 00:36:02,131 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:36:02,131 - database - INFO - Initializing database connection...
2024-11-30 00:36:03,593 - database - INFO - Database connection test successful
2024-11-30 00:36:04,369 - database - INFO - Database tables created successfully
2024-11-30 00:36:04,449 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:36:04,524 - __main__ - INFO - Database initialized successfully
2024-11-30 00:36:04,747 - __main__ - INFO - Database connection test successful
2024-11-30 00:36:52,947 - __main__ - INFO - Starting database initialization...
2024-11-30 00:36:52,947 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:36:52,947 - database - INFO - Initializing database connection...
2024-11-30 00:36:54,273 - database - INFO - Database connection test successful
2024-11-30 00:36:55,044 - database - INFO - Database tables created successfully
2024-11-30 00:36:55,120 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:36:55,194 - __main__ - INFO - Database initialized successfully
2024-11-30 00:36:55,417 - __main__ - INFO - Database connection test successful
2024-11-30 00:36:55,816 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5002
 * Running on http://169.231.162.40:5002
2024-11-30 00:36:55,816 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 00:36:55,818 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:36:55,989 - __main__ - INFO - Starting database initialization...
2024-11-30 00:36:55,989 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:36:55,989 - database - INFO - Initializing database connection...
2024-11-30 00:36:57,291 - database - INFO - Database connection test successful
2024-11-30 00:36:58,066 - database - INFO - Database tables created successfully
2024-11-30 00:36:58,143 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:36:58,218 - __main__ - INFO - Database initialized successfully
2024-11-30 00:36:58,440 - __main__ - INFO - Database connection test successful
2024-11-30 00:36:58,520 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:36:58,525 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:37:00,926 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:37:00,926 - app - DEBUG - Request Body: b''
2024-11-30 00:37:01,226 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:37:01,226 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:37:01,229 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:37:01,230 - app - DEBUG - Request Body: b''
2024-11-30 00:37:01,527 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:37:01,527 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:37:01,530 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:37:01,530 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:37:01,531 - app - ERROR - Registration error: 
2024-11-30 00:37:01,531 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:37:01,531 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:37:01,533 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 96
Content-Type: application/json


2024-11-30 00:37:01,533 - app - DEBUG - Request Body: b'{"username": "testuser_1732955821.528227", "email": "invalid_email", "password": "TestPass123!"}'
2024-11-30 00:37:01,534 - app - ERROR - Registration error: 
2024-11-30 00:37:01,535 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:37:01,535 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:37:01,537 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 109
Content-Type: application/json


2024-11-30 00:37:01,537 - app - DEBUG - Request Body: b'{"username": "testuser_1732955821.528227", "email": "test_1732955821.528235@example.com", "password": "weak"}'
2024-11-30 00:37:01,537 - app - ERROR - Registration error: 
2024-11-30 00:37:01,537 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:37:01,537 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:37:01,539 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 116
Content-Type: application/json


2024-11-30 00:37:01,539 - app - DEBUG - Request Body: b'{"username": "testuser_1732955821.53824", "email": "test_1732955821.538249@example.com", "password": "TestPass123!"}'
2024-11-30 00:37:01,540 - app - ERROR - Registration error: 
2024-11-30 00:37:01,540 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:37:01,540 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:37:01,542 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:37:01,542 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:37:01,542 - app - ERROR - Login error: 
2024-11-30 00:37:01,542 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:37:01,542 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:37:01,544 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:37:01,544 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:37:01,793 - app - ERROR - Login error: 
2024-11-30 00:37:01,793 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:37:01,868 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:01] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:37:01,870 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:37:01,871 - app - DEBUG - Request Body: b'{"email": "test_1732955821.869211@example.com", "password": "TestPass123!"}'
2024-11-30 00:37:02,095 - app - ERROR - Login error: 
2024-11-30 00:37:02,095 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:37:02,169 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:02] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:37:02,172 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:37:02,172 - app - DEBUG - Request Body: b''
2024-11-30 00:37:02,173 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:37:02,173 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:02] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:37:02,175 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:37:02,175 - app - DEBUG - Request Body: b''
2024-11-30 00:37:02,176 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 00:37:02,176 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:02] "[33mGET /api/upload-csv HTTP/1.1[0m" 404 -
2024-11-30 00:37:02,177 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:37:02,177 - app - DEBUG - Request Body: b'{"email": "test_1732955822.176522@example.com", "password": "TestPass123!"}'
2024-11-30 00:37:02,400 - app - ERROR - Login error: 
2024-11-30 00:37:02,400 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:37:02,474 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:02] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:37:02,476 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:37:02,476 - app - DEBUG - Request Body: b'{"email": "test_1732955822.474675@example.com", "password": "TestPass123!"}'
2024-11-30 00:37:02,698 - app - ERROR - Login error: 
2024-11-30 00:37:02,698 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:37:02,772 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:02] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:37:02,775 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:37:02,775 - app - DEBUG - Request Body: b'{"email": "test_1732955822.773582@example.com", "password": "TestPass123!"}'
2024-11-30 00:37:02,997 - app - ERROR - Login error: 
2024-11-30 00:37:02,997 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:37:03,071 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:37:03] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:37:36,154 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 00:37:36,221 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:37:36,482 - __main__ - INFO - Starting database initialization...
2024-11-30 00:37:36,482 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:37:36,482 - database - INFO - Initializing database connection...
2024-11-30 00:37:37,774 - database - INFO - Database connection test successful
2024-11-30 00:37:38,548 - database - INFO - Database tables created successfully
2024-11-30 00:37:38,624 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:37:38,698 - __main__ - INFO - Database initialized successfully
2024-11-30 00:37:38,945 - __main__ - INFO - Database connection test successful
2024-11-30 00:37:39,028 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:37:39,033 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:37:56,415 - __main__ - INFO - Starting database initialization...
2024-11-30 00:37:56,415 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:37:56,415 - database - INFO - Initializing database connection...
2024-11-30 00:37:57,757 - database - INFO - Database connection test successful
2024-11-30 00:37:58,538 - database - INFO - Database tables created successfully
2024-11-30 00:37:58,616 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:37:58,692 - __main__ - INFO - Database initialized successfully
2024-11-30 00:37:58,928 - __main__ - INFO - Database connection test successful
2024-11-30 00:41:59,770 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:41:59,771 - app - DEBUG - Request Body: b''
2024-11-30 00:42:00,068 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:42:00,068 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:42:00,070 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:42:00,071 - app - DEBUG - Request Body: b''
2024-11-30 00:42:00,371 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:42:00,371 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:42:00,373 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:42:00,374 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:42:00,374 - app - ERROR - Registration error: 
2024-11-30 00:42:00,374 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:42:00,374 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:42:00,376 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 96
Content-Type: application/json


2024-11-30 00:42:00,376 - app - DEBUG - Request Body: b'{"username": "testuser_1732956120.371945", "email": "invalid_email", "password": "TestPass123!"}'
2024-11-30 00:42:00,377 - app - ERROR - Registration error: 
2024-11-30 00:42:00,377 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:42:00,377 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:42:00,379 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 109
Content-Type: application/json


2024-11-30 00:42:00,380 - app - DEBUG - Request Body: b'{"username": "testuser_1732956120.371945", "email": "test_1732956120.371953@example.com", "password": "weak"}'
2024-11-30 00:42:00,380 - app - ERROR - Registration error: 
2024-11-30 00:42:00,380 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:42:00,380 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:42:00,382 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 117
Content-Type: application/json


2024-11-30 00:42:00,382 - app - DEBUG - Request Body: b'{"username": "testuser_1732956120.380793", "email": "test_1732956120.380802@example.com", "password": "TestPass123!"}'
2024-11-30 00:42:00,382 - app - ERROR - Registration error: 
2024-11-30 00:42:00,382 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:42:00,382 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:42:00,384 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:42:00,384 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:42:00,384 - app - ERROR - Login error: 
2024-11-30 00:42:00,384 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:42:00,384 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:42:00,386 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:42:00,386 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:42:00,609 - app - ERROR - Login error: 
2024-11-30 00:42:00,609 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:42:00,683 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:42:00,685 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:42:00,685 - app - DEBUG - Request Body: b'{"email": "test_1732956120.683538@example.com", "password": "TestPass123!"}'
2024-11-30 00:42:00,913 - app - ERROR - Login error: 
2024-11-30 00:42:00,913 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:42:00,989 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:42:00,992 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:42:00,992 - app - DEBUG - Request Body: b''
2024-11-30 00:42:00,994 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:42:00,994 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:42:00,996 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:42:00,996 - app - DEBUG - Request Body: b''
2024-11-30 00:42:00,996 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:42:00,996 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:42:00,996 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:00] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:42:00,998 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:42:00,998 - app - DEBUG - Request Body: b'{"email": "test_1732956120.996671@example.com", "password": "TestPass123!"}'
2024-11-30 00:42:01,216 - app - ERROR - Login error: 
2024-11-30 00:42:01,216 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:42:01,290 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:01] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:42:01,292 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:42:01,292 - app - DEBUG - Request Body: b'{"email": "test_1732956121.290951@example.com", "password": "TestPass123!"}'
2024-11-30 00:42:01,519 - app - ERROR - Login error: 
2024-11-30 00:42:01,519 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:42:01,596 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:01] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:42:01,599 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:42:01,599 - app - DEBUG - Request Body: b'{"email": "test_1732956121.597552@example.com", "password": "TestPass123!"}'
2024-11-30 00:42:01,817 - app - ERROR - Login error: 
2024-11-30 00:42:01,818 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:42:01,892 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:42:01] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:42:24,381 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 00:42:24,445 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:42:24,711 - __main__ - INFO - Starting database initialization...
2024-11-30 00:42:24,711 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:42:24,711 - database - INFO - Initializing database connection...
2024-11-30 00:42:26,180 - database - INFO - Database connection test successful
2024-11-30 00:42:26,944 - database - INFO - Database tables created successfully
2024-11-30 00:42:27,022 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:42:27,099 - __main__ - INFO - Database initialized successfully
2024-11-30 00:42:27,327 - __main__ - INFO - Database connection test successful
2024-11-30 00:42:27,408 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:42:27,414 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:42:49,370 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 00:42:49,417 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:42:49,681 - __main__ - INFO - Starting database initialization...
2024-11-30 00:42:49,681 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:42:49,681 - database - INFO - Initializing database connection...
2024-11-30 00:42:50,971 - database - INFO - Database connection test successful
2024-11-30 00:42:51,746 - database - INFO - Database tables created successfully
2024-11-30 00:42:51,823 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:42:51,897 - __main__ - INFO - Database initialized successfully
2024-11-30 00:42:52,122 - __main__ - INFO - Database connection test successful
2024-11-30 00:42:52,204 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:42:52,210 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:43:48,737 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 00:43:48,806 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:43:49,176 - __main__ - INFO - Starting database initialization...
2024-11-30 00:43:49,176 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:43:49,176 - database - INFO - Initializing database connection...
2024-11-30 00:43:50,504 - database - INFO - Database connection test successful
2024-11-30 00:43:51,253 - database - INFO - Database tables created successfully
2024-11-30 00:43:51,331 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:43:51,405 - __main__ - INFO - Database initialized successfully
2024-11-30 00:43:51,624 - __main__ - INFO - Database connection test successful
2024-11-30 00:43:51,702 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:43:51,708 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:44:21,888 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 00:44:21,924 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:44:22,187 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:44:22,187 - __main__ - INFO - Starting database initialization...
2024-11-30 00:44:22,187 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:44:22,187 - database - INFO - Initializing database connection...
2024-11-30 00:44:23,483 - database - INFO - Database connection test successful
2024-11-30 00:44:24,235 - database - INFO - Database tables created successfully
2024-11-30 00:44:24,312 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:44:24,386 - __main__ - INFO - Database initialized successfully
2024-11-30 00:44:24,610 - __main__ - INFO - Database connection test successful
2024-11-30 00:44:24,692 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:44:24,697 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:47:02,389 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:47:02,389 - __main__ - INFO - Starting database initialization...
2024-11-30 00:47:02,389 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:47:02,389 - database - INFO - Initializing database connection...
2024-11-30 00:47:03,974 - database - INFO - Database connection test successful
2024-11-30 00:47:04,874 - database - INFO - Database tables created successfully
2024-11-30 00:47:04,950 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:47:05,025 - __main__ - INFO - Database initialized successfully
2024-11-30 00:47:05,245 - __main__ - INFO - Database connection test successful
2024-11-30 00:47:09,462 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:09,462 - app - DEBUG - Request Body: b''
2024-11-30 00:47:10,249 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:47:10,250 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:10] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:47:10,257 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:10,257 - app - DEBUG - Request Body: b''
2024-11-30 00:47:10,690 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:47:10,691 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:10] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:47:10,695 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:47:10,695 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:47:10,696 - app - ERROR - Registration error: 
2024-11-30 00:47:10,696 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:10,696 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:10] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:10,699 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 97
Content-Type: application/json


2024-11-30 00:47:10,699 - app - DEBUG - Request Body: b'{"username": "testuser_1732956430.692487", "email": "invalid_email", "password": "Test@Pass123!"}'
2024-11-30 00:47:10,701 - app - ERROR - Registration error: 
2024-11-30 00:47:10,702 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:10,702 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:10] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:10,704 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 109
Content-Type: application/json


2024-11-30 00:47:10,705 - app - DEBUG - Request Body: b'{"username": "testuser_1732956430.692487", "email": "test_1732956430.692533@example.com", "password": "weak"}'
2024-11-30 00:47:10,705 - app - ERROR - Registration error: 
2024-11-30 00:47:10,705 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:10,705 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:10] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:10,708 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 115
Content-Type: application/json


2024-11-30 00:47:10,708 - app - DEBUG - Request Body: b'{"username": "testuser_1732956430.706", "email": "test_1732956430.706009@example.com", "password": "Test@Pass123!"}'
2024-11-30 00:47:10,708 - app - ERROR - Registration error: 
2024-11-30 00:47:10,708 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:10,708 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:10] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:10,711 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:47:10,711 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:47:10,711 - app - INFO - Login attempt received with data: {}
2024-11-30 00:47:10,711 - app - WARNING - Login attempt with no data
2024-11-30 00:47:10,711 - app - WARNING - Validation error during login: 
2024-11-30 00:47:10,712 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:10,712 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:10] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:47:10,713 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:47:10,713 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:47:10,714 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 00:47:11,083 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 00:47:11,083 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:11,084 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:11,186 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:11] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:11,189 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:11,189 - app - DEBUG - Request Body: b'{"email": "test_1732956431.187305@example.com", "password": "Test@Pass123!"}'
2024-11-30 00:47:11,189 - app - INFO - Login attempt received with data: {"email": "test_1732956431.187305@example.com", "password": "***"}
2024-11-30 00:47:11,583 - app - WARNING - Login failed: No user found with email test_1732956431.187305@example.com
2024-11-30 00:47:11,583 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:11,583 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:11,698 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:11] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:11,700 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:11,700 - app - DEBUG - Request Body: b''
2024-11-30 00:47:11,701 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:11,701 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:11] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:47:11,703 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:11,703 - app - DEBUG - Request Body: b''
2024-11-30 00:47:11,703 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:47:11,703 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:47:11,704 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:11] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:47:11,705 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:11,705 - app - DEBUG - Request Body: b'{"email": "test_1732956431.704366@example.com", "password": "Test@Pass123!"}'
2024-11-30 00:47:11,705 - app - INFO - Login attempt received with data: {"email": "test_1732956431.704366@example.com", "password": "***"}
2024-11-30 00:47:12,211 - app - WARNING - Login failed: No user found with email test_1732956431.704366@example.com
2024-11-30 00:47:12,211 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:12,212 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:12,329 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:12] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:12,331 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:12,331 - app - DEBUG - Request Body: b'{"email": "test_1732956432.329996@example.com", "password": "Test@Pass123!"}'
2024-11-30 00:47:12,331 - app - INFO - Login attempt received with data: {"email": "test_1732956432.329996@example.com", "password": "***"}
2024-11-30 00:47:12,860 - app - WARNING - Login failed: No user found with email test_1732956432.329996@example.com
2024-11-30 00:47:12,860 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:12,860 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:13,037 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:13] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:13,039 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:13,039 - app - DEBUG - Request Body: b'{"email": "test_1732956433.037967@example.com", "password": "Test@Pass123!"}'
2024-11-30 00:47:13,039 - app - INFO - Login attempt received with data: {"email": "test_1732956433.037967@example.com", "password": "***"}
2024-11-30 00:47:13,568 - app - WARNING - Login failed: No user found with email test_1732956433.037967@example.com
2024-11-30 00:47:13,568 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:13,569 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:13,746 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:13] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:33,647 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 00:47:33,707 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:47:33,979 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:47:33,979 - __main__ - INFO - Starting database initialization...
2024-11-30 00:47:33,980 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:47:33,980 - database - INFO - Initializing database connection...
2024-11-30 00:47:35,297 - database - INFO - Database connection test successful
2024-11-30 00:47:36,059 - database - INFO - Database tables created successfully
2024-11-30 00:47:36,135 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:47:36,209 - __main__ - INFO - Database initialized successfully
2024-11-30 00:47:36,432 - __main__ - INFO - Database connection test successful
2024-11-30 00:47:36,514 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:47:36,521 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:47:41,415 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:41,415 - app - DEBUG - Request Body: b''
2024-11-30 00:47:41,709 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:47:41,710 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:41] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:47:41,712 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:41,712 - app - DEBUG - Request Body: b''
2024-11-30 00:47:42,009 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:47:42,009 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:47:42,011 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:47:42,011 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:47:42,012 - app - ERROR - Registration error: 
2024-11-30 00:47:42,012 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:42,012 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:42,014 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 97
Content-Type: application/json


2024-11-30 00:47:42,014 - app - DEBUG - Request Body: b'{"username": "testuser_1732956462.009867", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 00:47:42,015 - app - ERROR - Registration error: 
2024-11-30 00:47:42,015 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:42,015 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:42,017 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 109
Content-Type: application/json


2024-11-30 00:47:42,017 - app - DEBUG - Request Body: b'{"username": "testuser_1732956462.009867", "email": "test_1732956462.009875@example.com", "password": "weak"}'
2024-11-30 00:47:42,017 - app - ERROR - Registration error: 
2024-11-30 00:47:42,017 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:42,017 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:42,019 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 118
Content-Type: application/json


2024-11-30 00:47:42,019 - app - DEBUG - Request Body: b'{"username": "testuser_1732956462.017837", "email": "test_1732956462.017843@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:47:42,019 - app - ERROR - Registration error: 
2024-11-30 00:47:42,019 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:42,019 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:47:42,021 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:47:42,021 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:47:42,021 - app - INFO - Login attempt received with data: {}
2024-11-30 00:47:42,021 - app - WARNING - Login attempt with no data
2024-11-30 00:47:42,021 - app - WARNING - Validation error during login: 
2024-11-30 00:47:42,021 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:47:42,021 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:47:42,022 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:47:42,023 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:47:42,023 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 00:47:42,247 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 00:47:42,247 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:42,247 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:42,321 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:42,323 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:42,323 - app - DEBUG - Request Body: b'{"email": "test_1732956462.322119@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:47:42,323 - app - INFO - Login attempt received with data: {"email": "test_1732956462.322119@example.com", "password": "***"}
2024-11-30 00:47:42,545 - app - WARNING - Login failed: No user found with email test_1732956462.322119@example.com
2024-11-30 00:47:42,545 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:42,546 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:42,620 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:42,623 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:42,623 - app - DEBUG - Request Body: b''
2024-11-30 00:47:42,624 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:42,624 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:47:42,625 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:47:42,625 - app - DEBUG - Request Body: b''
2024-11-30 00:47:42,625 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:47:42,626 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:47:42,626 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:47:42,627 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:42,627 - app - DEBUG - Request Body: b'{"email": "test_1732956462.626442@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:47:42,627 - app - INFO - Login attempt received with data: {"email": "test_1732956462.626442@example.com", "password": "***"}
2024-11-30 00:47:42,847 - app - WARNING - Login failed: No user found with email test_1732956462.626442@example.com
2024-11-30 00:47:42,847 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:42,847 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:42,920 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:42] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:42,923 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:42,923 - app - DEBUG - Request Body: b'{"email": "test_1732956462.921464@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:47:42,923 - app - INFO - Login attempt received with data: {"email": "test_1732956462.921464@example.com", "password": "***"}
2024-11-30 00:47:43,145 - app - WARNING - Login failed: No user found with email test_1732956462.921464@example.com
2024-11-30 00:47:43,145 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:43,145 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:43,219 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:43] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:47:43,222 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:47:43,223 - app - DEBUG - Request Body: b'{"email": "test_1732956463.220111@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:47:43,223 - app - INFO - Login attempt received with data: {"email": "test_1732956463.220111@example.com", "password": "***"}
2024-11-30 00:47:43,440 - app - WARNING - Login failed: No user found with email test_1732956463.220111@example.com
2024-11-30 00:47:43,440 - app - WARNING - Authentication error during login: 
2024-11-30 00:47:43,440 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:47:43,514 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:47:43] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:00,465 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 00:48:00,520 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:48:00,793 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:48:00,793 - __main__ - INFO - Starting database initialization...
2024-11-30 00:48:00,793 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:48:00,793 - database - INFO - Initializing database connection...
2024-11-30 00:48:02,133 - database - INFO - Database connection test successful
2024-11-30 00:48:02,909 - database - INFO - Database tables created successfully
2024-11-30 00:48:02,985 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:48:03,059 - __main__ - INFO - Database initialized successfully
2024-11-30 00:48:03,285 - __main__ - INFO - Database connection test successful
2024-11-30 00:48:03,368 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:48:03,373 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:48:07,608 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:07,608 - app - DEBUG - Request Body: b''
2024-11-30 00:48:07,909 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:48:07,909 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:07] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:48:07,911 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:07,911 - app - DEBUG - Request Body: b''
2024-11-30 00:48:08,224 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:48:08,224 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:48:08,226 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:48:08,226 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:48:08,227 - app - ERROR - Registration error: 
2024-11-30 00:48:08,227 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:08,227 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:48:08,229 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 97
Content-Type: application/json


2024-11-30 00:48:08,229 - app - DEBUG - Request Body: b'{"username": "testuser_1732956488.224819", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 00:48:08,230 - app - ERROR - Registration error: 
2024-11-30 00:48:08,230 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:08,230 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:48:08,232 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 109
Content-Type: application/json


2024-11-30 00:48:08,232 - app - DEBUG - Request Body: b'{"username": "testuser_1732956488.224819", "email": "test_1732956488.224826@example.com", "password": "weak"}'
2024-11-30 00:48:08,232 - app - ERROR - Registration error: 
2024-11-30 00:48:08,232 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:08,232 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:48:08,234 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 117
Content-Type: application/json


2024-11-30 00:48:08,234 - app - DEBUG - Request Body: b'{"username": "testuser_1732956488.23322", "email": "test_1732956488.233227@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:08,234 - app - ERROR - Registration error: 
2024-11-30 00:48:08,234 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:08,235 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:48:08,236 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:48:08,237 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:48:08,237 - app - INFO - Login attempt received with data: {}
2024-11-30 00:48:08,237 - app - WARNING - Login attempt with no data
2024-11-30 00:48:08,237 - app - WARNING - Validation error during login: 
2024-11-30 00:48:08,237 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:08,237 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:48:08,238 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:48:08,238 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:48:08,238 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 00:48:08,463 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 00:48:08,464 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:08,464 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:08,540 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:08,542 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:48:08,542 - app - DEBUG - Request Body: b'{"email": "test_1732956488.54057@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:08,542 - app - INFO - Login attempt received with data: {"email": "test_1732956488.54057@example.com", "password": "***"}
2024-11-30 00:48:08,770 - app - WARNING - Login failed: No user found with email test_1732956488.54057@example.com
2024-11-30 00:48:08,770 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:08,770 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:08,846 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:08,849 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:08,849 - app - DEBUG - Request Body: b''
2024-11-30 00:48:08,850 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:08,850 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:48:08,851 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:08,851 - app - DEBUG - Request Body: b''
2024-11-30 00:48:08,851 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:48:08,852 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:48:08,852 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:08] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:48:08,853 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 76
Content-Type: application/json


2024-11-30 00:48:08,853 - app - DEBUG - Request Body: b'{"email": "test_1732956488.852484@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:08,853 - app - INFO - Login attempt received with data: {"email": "test_1732956488.852484@example.com", "password": "***"}
2024-11-30 00:48:09,083 - app - WARNING - Login failed: No user found with email test_1732956488.852484@example.com
2024-11-30 00:48:09,083 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:09,083 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:09,157 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:09] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:09,159 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:48:09,159 - app - DEBUG - Request Body: b'{"email": "test_1732956489.15786@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:09,159 - app - INFO - Login attempt received with data: {"email": "test_1732956489.15786@example.com", "password": "***"}
2024-11-30 00:48:09,388 - app - WARNING - Login failed: No user found with email test_1732956489.15786@example.com
2024-11-30 00:48:09,390 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:09,390 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:09,465 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:09] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:09,467 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 75
Content-Type: application/json


2024-11-30 00:48:09,468 - app - DEBUG - Request Body: b'{"email": "test_1732956489.46625@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:09,468 - app - INFO - Login attempt received with data: {"email": "test_1732956489.46625@example.com", "password": "***"}
2024-11-30 00:48:09,690 - app - WARNING - Login failed: No user found with email test_1732956489.46625@example.com
2024-11-30 00:48:09,690 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:09,690 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:09,764 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:09] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:19,984 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 00:48:20,027 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:48:20,292 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:48:20,292 - __main__ - INFO - Starting database initialization...
2024-11-30 00:48:20,292 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:48:20,292 - database - INFO - Initializing database connection...
2024-11-30 00:48:21,586 - database - INFO - Database connection test successful
2024-11-30 00:48:22,333 - database - INFO - Database tables created successfully
2024-11-30 00:48:22,409 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:48:22,483 - __main__ - INFO - Database initialized successfully
2024-11-30 00:48:22,701 - __main__ - INFO - Database connection test successful
2024-11-30 00:48:22,782 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:48:22,787 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:48:32,982 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:32,983 - app - DEBUG - Request Body: b''
2024-11-30 00:48:33,280 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:48:33,280 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:33] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:48:33,283 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:33,283 - app - DEBUG - Request Body: b''
2024-11-30 00:48:33,573 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:48:33,573 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:33] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:48:33,576 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:48:33,576 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:48:33,576 - app - ERROR - Registration error: 
2024-11-30 00:48:33,576 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:33,576 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:33] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:48:33,578 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 00:48:33,578 - app - DEBUG - Request Body: b'{"username": "testuser_1732956513", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 00:48:33,579 - app - ERROR - Registration error: 
2024-11-30 00:48:33,579 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:33,579 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:33] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:48:33,581 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 00:48:33,581 - app - DEBUG - Request Body: b'{"username": "testuser_1732956513", "email": "test_1732956513@example.com", "password": "weak"}'
2024-11-30 00:48:33,581 - app - ERROR - Registration error: 
2024-11-30 00:48:33,581 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:33,581 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:33] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:48:33,583 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:48:33,583 - app - DEBUG - Request Body: b'{"username": "testuser_1732956513", "email": "test_1732956513@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:34,449 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:48:34,522 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:34] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:48:34,525 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:48:34,525 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:48:34,525 - app - INFO - Login attempt received with data: {}
2024-11-30 00:48:34,525 - app - WARNING - Login attempt with no data
2024-11-30 00:48:34,525 - app - WARNING - Validation error during login: 
2024-11-30 00:48:34,525 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:48:34,526 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:34] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:48:34,528 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:48:34,528 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:48:34,528 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 00:48:34,751 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 00:48:34,751 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:34,752 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:34,825 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:34] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:34,848 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:48:34,848 - app - DEBUG - Request Body: b'{"email": "test_1732956514@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:34,848 - app - INFO - Login attempt received with data: {"email": "test_1732956514@example.com", "password": "***"}
2024-11-30 00:48:35,067 - app - WARNING - Login failed: No user found with email test_1732956514@example.com
2024-11-30 00:48:35,067 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:35,067 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:35,141 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:35] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:35,144 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:35,144 - app - DEBUG - Request Body: b''
2024-11-30 00:48:35,145 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:35,145 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:35] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:48:35,147 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:48:35,147 - app - DEBUG - Request Body: b''
2024-11-30 00:48:35,147 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:48:35,147 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:48:35,147 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:35] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:48:35,149 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:48:35,149 - app - DEBUG - Request Body: b'{"email": "test_1732956515@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:35,149 - app - INFO - Login attempt received with data: {"email": "test_1732956515@example.com", "password": "***"}
2024-11-30 00:48:35,372 - app - WARNING - Login failed: No user found with email test_1732956515@example.com
2024-11-30 00:48:35,372 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:35,372 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:35,446 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:35] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:35,448 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:48:35,448 - app - DEBUG - Request Body: b'{"email": "test_1732956515@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:35,449 - app - INFO - Login attempt received with data: {"email": "test_1732956515@example.com", "password": "***"}
2024-11-30 00:48:35,669 - app - WARNING - Login failed: No user found with email test_1732956515@example.com
2024-11-30 00:48:35,669 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:35,669 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:35,743 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:35] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:35,745 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:48:35,745 - app - DEBUG - Request Body: b'{"email": "test_1732956515@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:48:35,745 - app - INFO - Login attempt received with data: {"email": "test_1732956515@example.com", "password": "***"}
2024-11-30 00:48:35,965 - app - WARNING - Login failed: No user found with email test_1732956515@example.com
2024-11-30 00:48:35,965 - app - WARNING - Authentication error during login: 
2024-11-30 00:48:35,966 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:48:36,044 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:48:36] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:48:53,095 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 00:48:53,155 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:48:53,432 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:48:53,433 - __main__ - INFO - Starting database initialization...
2024-11-30 00:48:53,433 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:48:53,433 - database - INFO - Initializing database connection...
2024-11-30 00:48:54,806 - database - INFO - Database connection test successful
2024-11-30 00:48:55,561 - database - INFO - Database tables created successfully
2024-11-30 00:48:55,637 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:48:55,712 - __main__ - INFO - Database initialized successfully
2024-11-30 00:48:55,935 - __main__ - INFO - Database connection test successful
2024-11-30 00:48:56,014 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:48:56,021 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:50:33,729 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:50:33,730 - app - DEBUG - Request Body: b''
2024-11-30 00:50:34,029 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:50:34,029 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:34] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:50:34,031 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:50:34,031 - app - DEBUG - Request Body: b''
2024-11-30 00:50:34,326 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:50:34,326 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:34] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:50:34,329 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:50:34,329 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:50:34,329 - app - ERROR - Registration error: 
2024-11-30 00:50:34,329 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:50:34,329 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:34] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:50:34,331 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 00:50:34,331 - app - DEBUG - Request Body: b'{"username": "testuser_1732956634", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 00:50:34,333 - app - ERROR - Registration error: 
2024-11-30 00:50:34,333 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:50:34,334 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:34] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:50:34,336 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 00:50:34,336 - app - DEBUG - Request Body: b'{"username": "testuser_1732956634", "email": "test_1732956634@example.com", "password": "weak"}'
2024-11-30 00:50:34,336 - app - ERROR - Registration error: 
2024-11-30 00:50:34,336 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:50:34,336 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:34] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:50:34,343 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:50:34,343 - app - DEBUG - Request Body: b'{"username": "testuser_1732956634", "email": "test_1732956634@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:35,164 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:50:35,237 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:35] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:50:35,240 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:50:35,240 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:50:35,240 - app - INFO - Login attempt received with data: {}
2024-11-30 00:50:35,240 - app - WARNING - Login attempt with no data
2024-11-30 00:50:35,240 - app - WARNING - Validation error during login: 
2024-11-30 00:50:35,241 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:50:35,241 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:35] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:50:35,243 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:50:35,243 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:50:35,243 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 00:50:35,464 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 00:50:35,464 - app - WARNING - Authentication error during login: 
2024-11-30 00:50:35,464 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:50:35,541 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:35] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:50:35,548 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:50:35,548 - app - DEBUG - Request Body: b'{"username": "testuser_1732956635", "email": "test_1732956635@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:36,344 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:50:36,418 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:36] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:50:36,421 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:50:36,421 - app - DEBUG - Request Body: b'{"email": "test_1732956635@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:36,421 - app - INFO - Login attempt received with data: {"email": "test_1732956635@example.com", "password": "***"}
2024-11-30 00:50:36,643 - app - INFO - User found for login attempt - ID: 3, Username: testuser_1732956635
2024-11-30 00:50:36,644 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:50:36,857 - app - INFO - Password check result for user testuser_1732956635: valid
2024-11-30 00:50:36,857 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:50:36,857 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:50:36,857 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:50:36,933 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:36] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:50:36,936 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:50:36,936 - app - DEBUG - Request Body: b''
2024-11-30 00:50:36,938 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:50:36,938 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:36] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:50:36,951 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:50:36,951 - app - DEBUG - Request Body: b''
2024-11-30 00:50:36,951 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:50:36,951 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:50:36,951 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:36] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:50:36,956 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:50:36,956 - app - DEBUG - Request Body: b'{"username": "testuser_1732956636", "email": "test_1732956636@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:37,744 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:50:37,818 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:37] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:50:37,821 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:50:37,821 - app - DEBUG - Request Body: b'{"email": "test_1732956636@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:37,821 - app - INFO - Login attempt received with data: {"email": "test_1732956636@example.com", "password": "***"}
2024-11-30 00:50:38,042 - app - INFO - User found for login attempt - ID: 4, Username: testuser_1732956636
2024-11-30 00:50:38,042 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:50:38,256 - app - INFO - Password check result for user testuser_1732956636: valid
2024-11-30 00:50:38,256 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:50:38,256 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:50:38,256 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:50:38,332 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:38] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:50:38,340 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:50:38,340 - app - DEBUG - Request Body: b'{"username": "testuser_1732956638", "email": "test_1732956638@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:39,130 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:50:39,204 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:39] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:50:39,208 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:50:39,208 - app - DEBUG - Request Body: b'{"email": "test_1732956638@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:39,208 - app - INFO - Login attempt received with data: {"email": "test_1732956638@example.com", "password": "***"}
2024-11-30 00:50:39,429 - app - INFO - User found for login attempt - ID: 5, Username: testuser_1732956638
2024-11-30 00:50:39,429 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:50:39,643 - app - INFO - Password check result for user testuser_1732956638: valid
2024-11-30 00:50:39,643 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:50:39,643 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:50:39,643 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:50:39,716 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:39] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:50:39,718 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:50:39,718 - app - DEBUG - Request Body: b'{"username": "testuser_1732956639", "email": "test_1732956639@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:40,526 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:50:40,599 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:40] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:50:40,602 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:50:40,602 - app - DEBUG - Request Body: b'{"email": "test_1732956639@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:50:40,602 - app - INFO - Login attempt received with data: {"email": "test_1732956639@example.com", "password": "***"}
2024-11-30 00:50:40,821 - app - INFO - User found for login attempt - ID: 6, Username: testuser_1732956639
2024-11-30 00:50:40,822 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:50:41,032 - app - INFO - Password check result for user testuser_1732956639: valid
2024-11-30 00:50:41,032 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:50:41,032 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:50:41,033 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:50:41,106 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:50:41] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:50:55,376 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/models.py', reloading
2024-11-30 00:50:55,425 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:50:55,692 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:50:55,692 - __main__ - INFO - Starting database initialization...
2024-11-30 00:50:55,692 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:50:55,692 - database - INFO - Initializing database connection...
2024-11-30 00:50:57,204 - database - INFO - Database connection test successful
2024-11-30 00:50:58,198 - database - INFO - Database tables created successfully
2024-11-30 00:50:58,276 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:50:58,354 - __main__ - INFO - Database initialized successfully
2024-11-30 00:50:58,702 - __main__ - INFO - Database connection test successful
2024-11-30 00:50:58,804 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:50:58,812 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:55:57,571 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:55:57,572 - __main__ - INFO - Starting database initialization...
2024-11-30 00:55:57,572 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:55:57,572 - database - INFO - Initializing database connection...
2024-11-30 00:55:59,012 - database - INFO - Database connection test successful
2024-11-30 00:55:59,838 - database - INFO - Database tables created successfully
2024-11-30 00:55:59,917 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:55:59,993 - __main__ - INFO - Database initialized successfully
2024-11-30 00:56:00,217 - __main__ - INFO - Database connection test successful
2024-11-30 00:56:18,873 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:56:18,874 - app - DEBUG - Request Body: b''
2024-11-30 00:56:19,608 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:56:19,609 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:19] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:56:19,612 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:56:19,612 - app - DEBUG - Request Body: b''
2024-11-30 00:56:20,292 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:56:20,293 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:20] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:56:20,298 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:56:20,298 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:56:20,298 - app - ERROR - Registration error: 
2024-11-30 00:56:20,298 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:56:20,298 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:56:20,301 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 00:56:20,302 - app - DEBUG - Request Body: b'{"username": "testuser_1732956980", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 00:56:20,303 - app - ERROR - Registration error: 
2024-11-30 00:56:20,304 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:56:20,304 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:56:20,306 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 00:56:20,306 - app - DEBUG - Request Body: b'{"username": "testuser_1732956980", "email": "test_1732956980@example.com", "password": "weak"}'
2024-11-30 00:56:20,306 - app - ERROR - Registration error: 
2024-11-30 00:56:20,307 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:56:20,307 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:56:20,309 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:56:20,309 - app - DEBUG - Request Body: b'{"username": "testuser_1732956980", "email": "test_1732956980@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:21,107 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:56:21,184 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:21] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:56:21,186 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:56:21,187 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:56:21,187 - app - INFO - Login attempt received with data: {}
2024-11-30 00:56:21,187 - app - WARNING - Login attempt with no data
2024-11-30 00:56:21,187 - app - WARNING - Validation error during login: 
2024-11-30 00:56:21,187 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:56:21,187 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:21] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:56:21,189 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:56:21,189 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:56:21,189 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 00:56:21,408 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 00:56:21,408 - app - WARNING - Authentication error during login: 
2024-11-30 00:56:21,409 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:56:21,483 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:21] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:56:21,485 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:56:21,485 - app - DEBUG - Request Body: b'{"username": "testuser_1732956981", "email": "test_1732956981@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:22,299 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:56:22,373 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:22] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:56:22,376 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:56:22,376 - app - DEBUG - Request Body: b'{"email": "test_1732956981@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:22,376 - app - INFO - Login attempt received with data: {"email": "test_1732956981@example.com", "password": "***"}
2024-11-30 00:56:22,602 - app - INFO - User found for login attempt - ID: 8, Username: testuser_1732956981
2024-11-30 00:56:22,602 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:56:22,816 - app - INFO - Password check result for user testuser_1732956981: valid
2024-11-30 00:56:22,816 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:56:22,816 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:56:22,817 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:56:22,891 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:22] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:56:22,893 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:56:22,893 - app - DEBUG - Request Body: b''
2024-11-30 00:56:22,895 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:56:22,895 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:22] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:56:22,897 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:56:22,898 - app - DEBUG - Request Body: b''
2024-11-30 00:56:22,898 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:56:22,898 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:56:22,898 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:22] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:56:22,900 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:56:22,900 - app - DEBUG - Request Body: b'{"username": "testuser_1732956982", "email": "test_1732956982@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:23,709 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:56:23,783 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:23] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:56:23,786 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:56:23,786 - app - DEBUG - Request Body: b'{"email": "test_1732956982@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:23,786 - app - INFO - Login attempt received with data: {"email": "test_1732956982@example.com", "password": "***"}
2024-11-30 00:56:24,006 - app - INFO - User found for login attempt - ID: 9, Username: testuser_1732956982
2024-11-30 00:56:24,006 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:56:24,241 - app - INFO - Password check result for user testuser_1732956982: valid
2024-11-30 00:56:24,241 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:56:24,241 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:56:24,242 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:56:24,319 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:24] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:56:24,321 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:56:24,321 - app - DEBUG - Request Body: b'{"username": "testuser_1732956984", "email": "test_1732956984@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:25,146 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:56:25,221 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:25] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:56:25,224 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:56:25,224 - app - DEBUG - Request Body: b'{"email": "test_1732956984@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:25,224 - app - INFO - Login attempt received with data: {"email": "test_1732956984@example.com", "password": "***"}
2024-11-30 00:56:25,447 - app - INFO - User found for login attempt - ID: 10, Username: testuser_1732956984
2024-11-30 00:56:25,448 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:56:25,660 - app - INFO - Password check result for user testuser_1732956984: valid
2024-11-30 00:56:25,661 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:56:25,661 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:56:25,661 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:56:25,734 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:25] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:56:25,737 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:56:25,737 - app - DEBUG - Request Body: b'{"username": "testuser_1732956985", "email": "test_1732956985@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:26,541 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:56:26,615 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:26] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:56:26,618 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:56:26,619 - app - DEBUG - Request Body: b'{"email": "test_1732956985@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:56:26,619 - app - INFO - Login attempt received with data: {"email": "test_1732956985@example.com", "password": "***"}
2024-11-30 00:56:26,838 - app - INFO - User found for login attempt - ID: 11, Username: testuser_1732956985
2024-11-30 00:56:26,838 - app - DEBUG - Stored password hash exists: True
2024-11-30 00:56:27,053 - app - INFO - Password check result for user testuser_1732956985: valid
2024-11-30 00:56:27,053 - app - ERROR - Unexpected error during login: Object of type datetime is not JSON serializable
2024-11-30 00:56:27,053 - app - ERROR - Unexpected error: Object of type datetime is not JSON serializable
2024-11-30 00:56:27,053 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:56:27,127 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:56:27] "[35m[1mPOST /api/login HTTP/1.1[0m" 500 -
2024-11-30 00:57:01,078 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:57:01,078 - __main__ - INFO - Starting database initialization...
2024-11-30 00:57:01,078 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:57:01,078 - database - INFO - Initializing database connection...
2024-11-30 00:57:02,428 - database - INFO - Database connection test successful
2024-11-30 00:57:03,219 - database - INFO - Database tables created successfully
2024-11-30 00:57:03,297 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:57:03,371 - __main__ - INFO - Database initialized successfully
2024-11-30 00:57:03,598 - __main__ - INFO - Database connection test successful
2024-11-30 00:58:20,245 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 00:58:20,284 - werkzeug - INFO -  * Restarting with stat
2024-11-30 00:58:20,557 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 00:58:20,557 - __main__ - INFO - Starting database initialization...
2024-11-30 00:58:20,557 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 00:58:20,557 - database - INFO - Initializing database connection...
2024-11-30 00:58:21,856 - database - INFO - Database connection test successful
2024-11-30 00:58:22,631 - database - INFO - Database tables created successfully
2024-11-30 00:58:22,708 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 00:58:22,782 - __main__ - INFO - Database initialized successfully
2024-11-30 00:58:23,010 - __main__ - INFO - Database connection test successful
2024-11-30 00:58:23,094 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 00:58:23,099 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 00:58:30,454 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:58:30,455 - app - DEBUG - Request Body: b''
2024-11-30 00:58:30,755 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:58:30,756 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:30] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:58:30,758 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:58:30,758 - app - DEBUG - Request Body: b''
2024-11-30 00:58:31,061 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:58:31,061 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:31] "GET /api/health HTTP/1.1" 200 -
2024-11-30 00:58:31,064 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:58:31,064 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:58:31,064 - app - ERROR - Registration error: 
2024-11-30 00:58:31,064 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:58:31,064 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:31] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:58:31,066 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 00:58:31,067 - app - DEBUG - Request Body: b'{"username": "testuser_1732957111", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 00:58:31,067 - app - ERROR - Registration error: 
2024-11-30 00:58:31,067 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:58:31,067 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:31] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:58:31,069 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 00:58:31,069 - app - DEBUG - Request Body: b'{"username": "testuser_1732957111", "email": "test_1732957111@example.com", "password": "weak"}'
2024-11-30 00:58:31,069 - app - ERROR - Registration error: 
2024-11-30 00:58:31,070 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:58:31,070 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:31] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 00:58:31,072 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:58:31,072 - app - DEBUG - Request Body: b'{"username": "testuser_1732957111", "email": "test_1732957111@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:31,882 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:58:31,960 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:31] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:58:31,963 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 00:58:31,964 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:58:31,964 - app - INFO - Login attempt received with data: {}
2024-11-30 00:58:31,964 - app - WARNING - Login attempt with no data
2024-11-30 00:58:31,964 - app - WARNING - Validation error during login: 
2024-11-30 00:58:31,964 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:58:31,964 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:31] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 00:58:31,966 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 00:58:31,966 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 00:58:31,966 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 00:58:32,186 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 00:58:32,186 - app - WARNING - Authentication error during login: 
2024-11-30 00:58:32,186 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:58:32,260 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:32] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 00:58:32,263 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:58:32,263 - app - DEBUG - Request Body: b'{"username": "testuser_1732957112", "email": "test_1732957112@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:33,095 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:58:33,169 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:33] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:58:33,173 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:58:33,173 - app - DEBUG - Request Body: b'{"email": "test_1732957112@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:33,173 - app - INFO - Login attempt received with data: {"email": "test_1732957112@example.com", "password": "***"}
2024-11-30 00:58:33,403 - app - INFO - User found for login attempt - ID: 13, Username: testuser_1732957112
2024-11-30 00:58:33,623 - app - INFO - Password check result for user testuser_1732957112: valid
2024-11-30 00:58:33,623 - app - INFO - Token generated successfully for user testuser_1732957112
2024-11-30 00:58:33,623 - app - INFO - Login successful for user testuser_1732957112
2024-11-30 00:58:33,623 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:58:33,704 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:33] "POST /api/login HTTP/1.1" 200 -
2024-11-30 00:58:33,706 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:58:33,706 - app - DEBUG - Request Body: b''
2024-11-30 00:58:33,707 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 00:58:33,707 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:33] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 00:58:33,709 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 00:58:33,709 - app - DEBUG - Request Body: b''
2024-11-30 00:58:33,709 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 00:58:33,709 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:58:33,709 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:33] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 00:58:33,711 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:58:33,712 - app - DEBUG - Request Body: b'{"username": "testuser_1732957113", "email": "test_1732957113@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:34,527 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:58:34,602 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:34] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:58:34,605 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:58:34,606 - app - DEBUG - Request Body: b'{"email": "test_1732957113@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:34,606 - app - INFO - Login attempt received with data: {"email": "test_1732957113@example.com", "password": "***"}
2024-11-30 00:58:34,827 - app - INFO - User found for login attempt - ID: 14, Username: testuser_1732957113
2024-11-30 00:58:35,040 - app - INFO - Password check result for user testuser_1732957113: valid
2024-11-30 00:58:35,040 - app - INFO - Token generated successfully for user testuser_1732957113
2024-11-30 00:58:35,040 - app - INFO - Login successful for user testuser_1732957113
2024-11-30 00:58:35,041 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:58:35,114 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:35] "POST /api/login HTTP/1.1" 200 -
2024-11-30 00:58:35,116 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxNCwiZXhwIjoxNzMzMDQzNTE1fQ.TOSrsCLVjqQF6x5JH8GP9RvuugPZaCIwhhc5Y2bio1w
Content-Length: 2
Content-Type: application/json


2024-11-30 00:58:35,116 - app - DEBUG - Request Body: b'{}'
2024-11-30 00:58:35,345 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:58:35,421 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:35] "[31m[1mPOST /api/leads HTTP/1.1[0m" 422 -
2024-11-30 00:58:35,423 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxNCwiZXhwIjoxNzMzMDQzNTE1fQ.TOSrsCLVjqQF6x5JH8GP9RvuugPZaCIwhhc5Y2bio1w
Content-Length: 121
Content-Type: application/json


2024-11-30 00:58:35,423 - app - DEBUG - Request Body: b'{"name": "Test Lead", "email": "testlead@example.com", "company": "Test Company", "phone": "1234567890", "status": "new"}'
2024-11-30 00:58:35,790 - app - ERROR - Unexpected error: (psycopg2.errors.UndefinedColumn) column "phone" of relation "leads" does not exist
LINE 1: INSERT INTO leads (name, email, phone, status, notes, create...
                                        ^

[SQL: INSERT INTO leads (name, email, phone, status, notes, created_at, updated_at, user_id) VALUES (%(name)s, %(email)s, %(phone)s, %(status)s, %(notes)s, %(created_at)s, %(updated_at)s, %(user_id)s) RETURNING leads.id]
[parameters: {'name': 'Test Lead', 'email': 'testlead@example.com', 'phone': '1234567890', 'status': 'new', 'notes': None, 'created_at': datetime.datetime(2024, 11, 30, 8, 58, 35, 644616), 'updated_at': datetime.datetime(2024, 11, 30, 8, 58, 35, 644618), 'user_id': 14}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 00:58:35,790 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:58:35,790 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:35] "[35m[1mPOST /api/leads HTTP/1.1[0m" 500 -
2024-11-30 00:58:35,792 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:58:35,792 - app - DEBUG - Request Body: b'{"username": "testuser_1732957115", "email": "test_1732957115@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:36,595 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:58:36,669 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:36] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:58:36,671 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:58:36,671 - app - DEBUG - Request Body: b'{"email": "test_1732957115@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:36,671 - app - INFO - Login attempt received with data: {"email": "test_1732957115@example.com", "password": "***"}
2024-11-30 00:58:36,911 - app - INFO - User found for login attempt - ID: 15, Username: testuser_1732957115
2024-11-30 00:58:37,124 - app - INFO - Password check result for user testuser_1732957115: valid
2024-11-30 00:58:37,124 - app - INFO - Token generated successfully for user testuser_1732957115
2024-11-30 00:58:37,124 - app - INFO - Login successful for user testuser_1732957115
2024-11-30 00:58:37,125 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:58:37,200 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:37] "POST /api/login HTTP/1.1" 200 -
2024-11-30 00:58:37,202 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxNSwiZXhwIjoxNzMzMDQzNTE3fQ.06xDbm9hnYW76bMTGo-7nmSLMUae92_c_ZHuCE2M6U4


2024-11-30 00:58:37,202 - app - DEBUG - Request Body: b''
2024-11-30 00:58:37,499 - app - ERROR - Unexpected error: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 15}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 00:58:37,499 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 00:58:37,573 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:37] "[35m[1mGET /api/leads HTTP/1.1[0m" 500 -
2024-11-30 00:58:37,575 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 00:58:37,575 - app - DEBUG - Request Body: b'{"username": "testuser_1732957117", "email": "test_1732957117@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:38,377 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 00:58:38,450 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:38] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 00:58:38,453 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 00:58:38,453 - app - DEBUG - Request Body: b'{"email": "test_1732957117@example.com", "password": "Test#Pass123!"}'
2024-11-30 00:58:38,453 - app - INFO - Login attempt received with data: {"email": "test_1732957117@example.com", "password": "***"}
2024-11-30 00:58:38,682 - app - INFO - User found for login attempt - ID: 16, Username: testuser_1732957117
2024-11-30 00:58:38,899 - app - INFO - Password check result for user testuser_1732957117: valid
2024-11-30 00:58:38,899 - app - INFO - Token generated successfully for user testuser_1732957117
2024-11-30 00:58:38,899 - app - INFO - Login successful for user testuser_1732957117
2024-11-30 00:58:38,899 - app - DEBUG - Response Status: 200 OK
2024-11-30 00:58:38,977 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:38] "POST /api/login HTTP/1.1" 200 -
2024-11-30 00:58:38,980 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxNiwiZXhwIjoxNzMzMDQzNTE4fQ.87m87UFcfjFTIA5qBsJ5GnuibBfsp_Hor8IrMlwntvM
Content-Length: 236
Content-Type: multipart/form-data; boundary=d538a618372d42efeeb39991c909de90


2024-11-30 00:58:38,980 - app - DEBUG - Request Body: b'--d538a618372d42efeeb39991c909de90\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--d538a618372d42efeeb39991c909de90--\r\n'
2024-11-30 00:58:39,347 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 00:58:39,347 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 00:58:39] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 422 -
2024-11-30 01:00:28,226 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 01:00:28,270 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:00:28,547 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:00:28,547 - __main__ - INFO - Starting database initialization...
2024-11-30 01:00:28,547 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:00:28,547 - database - INFO - Initializing database connection...
2024-11-30 01:00:28,547 - database - ERROR - Database initialization error: Either 'SQLALCHEMY_DATABASE_URI' or 'SQLALCHEMY_BINDS' must be set.
2024-11-30 01:00:45,624 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:00:45,624 - __main__ - INFO - Starting database initialization...
2024-11-30 01:00:45,624 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:00:45,624 - database - INFO - Initializing database connection...
2024-11-30 01:00:45,624 - database - ERROR - Database initialization error: Either 'SQLALCHEMY_DATABASE_URI' or 'SQLALCHEMY_BINDS' must be set.
2024-11-30 01:01:54,137 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:01:54,138 - __main__ - INFO - Starting database initialization...
2024-11-30 01:01:54,138 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:01:54,138 - database - INFO - Initializing database connection...
2024-11-30 01:01:55,486 - database - INFO - Database connection test successful
2024-11-30 01:01:56,314 - database - INFO - Database tables created successfully
2024-11-30 01:01:56,390 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:01:56,476 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5002
 * Running on http://169.231.162.40:5002
2024-11-30 01:01:56,476 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 01:01:56,477 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:01:56,651 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:01:56,651 - __main__ - INFO - Starting database initialization...
2024-11-30 01:01:56,651 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:01:56,651 - database - INFO - Initializing database connection...
2024-11-30 01:01:57,953 - database - INFO - Database connection test successful
2024-11-30 01:01:58,722 - database - INFO - Database tables created successfully
2024-11-30 01:01:58,800 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:01:58,879 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:01:58,885 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:02:03,323 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:02:03,324 - app - DEBUG - Request Body: b''
2024-11-30 01:02:03,544 - __main__ - INFO - Database connection test successful
2024-11-30 01:02:03,544 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:02:03,618 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:03] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:02:03,621 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:02:03,621 - app - DEBUG - Request Body: b''
2024-11-30 01:02:03,841 - __main__ - INFO - Database connection test successful
2024-11-30 01:02:03,841 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:02:03,915 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:03] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:02:03,919 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:02:03,919 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:02:03,919 - app - ERROR - Registration error: 
2024-11-30 01:02:03,919 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:02:03,920 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:03] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:02:03,922 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 01:02:03,922 - app - DEBUG - Request Body: b'{"username": "testuser_1732957323", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 01:02:03,923 - app - ERROR - Registration error: 
2024-11-30 01:02:03,923 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:02:03,923 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:03] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:02:03,924 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 01:02:03,925 - app - DEBUG - Request Body: b'{"username": "testuser_1732957323", "email": "test_1732957323@example.com", "password": "weak"}'
2024-11-30 01:02:03,925 - app - ERROR - Registration error: 
2024-11-30 01:02:03,925 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:02:03,925 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:03] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:02:03,926 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:02:03,926 - app - DEBUG - Request Body: b'{"username": "testuser_1732957323", "email": "test_1732957323@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:04,755 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:02:04,829 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:04] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:02:04,832 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:02:04,832 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:02:04,832 - app - INFO - Login attempt received with data: {}
2024-11-30 01:02:04,832 - app - WARNING - Login attempt with no data
2024-11-30 01:02:04,832 - app - WARNING - Validation error during login: 
2024-11-30 01:02:04,832 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:02:04,832 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:04] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 01:02:04,835 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 01:02:04,835 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 01:02:04,835 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 01:02:05,058 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 01:02:05,058 - app - WARNING - Authentication error during login: 
2024-11-30 01:02:05,058 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:02:05,132 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:05] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 01:02:05,134 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:02:05,134 - app - DEBUG - Request Body: b'{"username": "testuser_1732957325", "email": "test_1732957325@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:05,944 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:02:06,019 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:06] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:02:06,022 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:02:06,022 - app - DEBUG - Request Body: b'{"email": "test_1732957325@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:06,022 - app - INFO - Login attempt received with data: {"email": "test_1732957325@example.com", "password": "***"}
2024-11-30 01:02:06,241 - app - INFO - User found for login attempt - ID: 18, Username: testuser_1732957325
2024-11-30 01:02:06,454 - app - INFO - Password check result for user testuser_1732957325: valid
2024-11-30 01:02:06,455 - app - INFO - Token generated successfully for user testuser_1732957325
2024-11-30 01:02:06,455 - app - INFO - Login successful for user testuser_1732957325
2024-11-30 01:02:06,455 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:02:06,528 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:06] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:02:06,531 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:02:06,531 - app - DEBUG - Request Body: b''
2024-11-30 01:02:06,532 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:02:06,532 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:06] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:02:06,534 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:02:06,534 - app - DEBUG - Request Body: b''
2024-11-30 01:02:06,534 - app - ERROR - Unhandled error: name 'not_found_error' is not defined
2024-11-30 01:02:06,534 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:02:06,534 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:06] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 01:02:06,536 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:02:06,536 - app - DEBUG - Request Body: b'{"username": "testuser_1732957326", "email": "test_1732957326@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:07,324 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:02:07,398 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:07] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:02:07,400 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:02:07,401 - app - DEBUG - Request Body: b'{"email": "test_1732957326@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:07,401 - app - INFO - Login attempt received with data: {"email": "test_1732957326@example.com", "password": "***"}
2024-11-30 01:02:07,623 - app - INFO - User found for login attempt - ID: 19, Username: testuser_1732957326
2024-11-30 01:02:07,840 - app - INFO - Password check result for user testuser_1732957326: valid
2024-11-30 01:02:07,840 - app - INFO - Token generated successfully for user testuser_1732957326
2024-11-30 01:02:07,840 - app - INFO - Login successful for user testuser_1732957326
2024-11-30 01:02:07,840 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:02:07,913 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:07] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:02:07,915 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxOSwiZXhwIjoxNzMzMDQzNzI3fQ.EgNWM6cSM0034AXJCy7J4vvJBBedDpvnwX3uWEzTGnM
Content-Length: 2
Content-Type: application/json


2024-11-30 01:02:07,916 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:02:08,138 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:02:08,212 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:08] "[31m[1mPOST /api/leads HTTP/1.1[0m" 422 -
2024-11-30 01:02:08,215 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxOSwiZXhwIjoxNzMzMDQzNzI3fQ.EgNWM6cSM0034AXJCy7J4vvJBBedDpvnwX3uWEzTGnM
Content-Length: 121
Content-Type: application/json


2024-11-30 01:02:08,215 - app - DEBUG - Request Body: b'{"name": "Test Lead", "email": "testlead@example.com", "company": "Test Company", "phone": "1234567890", "status": "new"}'
2024-11-30 01:02:08,582 - app - ERROR - Unhandled error: (psycopg2.errors.UndefinedColumn) column "phone" of relation "leads" does not exist
LINE 1: INSERT INTO leads (name, email, phone, status, notes, create...
                                        ^

[SQL: INSERT INTO leads (name, email, phone, status, notes, created_at, updated_at, user_id) VALUES (%(name)s, %(email)s, %(phone)s, %(status)s, %(notes)s, %(created_at)s, %(updated_at)s, %(user_id)s) RETURNING leads.id]
[parameters: {'name': 'Test Lead', 'email': 'testlead@example.com', 'phone': '1234567890', 'status': 'new', 'notes': None, 'created_at': datetime.datetime(2024, 11, 30, 9, 2, 8, 435899), 'updated_at': datetime.datetime(2024, 11, 30, 9, 2, 8, 435901), 'user_id': 19}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:02:08,582 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:02:08,582 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:08] "[35m[1mPOST /api/leads HTTP/1.1[0m" 500 -
2024-11-30 01:02:08,584 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:02:08,584 - app - DEBUG - Request Body: b'{"username": "testuser_1732957328", "email": "test_1732957328@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:09,389 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:02:09,462 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:09] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:02:09,465 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:02:09,465 - app - DEBUG - Request Body: b'{"email": "test_1732957328@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:09,465 - app - INFO - Login attempt received with data: {"email": "test_1732957328@example.com", "password": "***"}
2024-11-30 01:02:09,687 - app - INFO - User found for login attempt - ID: 20, Username: testuser_1732957328
2024-11-30 01:02:09,900 - app - INFO - Password check result for user testuser_1732957328: valid
2024-11-30 01:02:09,900 - app - INFO - Token generated successfully for user testuser_1732957328
2024-11-30 01:02:09,900 - app - INFO - Login successful for user testuser_1732957328
2024-11-30 01:02:09,900 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:02:09,974 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:09] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:02:09,976 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyMCwiZXhwIjoxNzMzMDQzNzI5fQ.M92Ywwm80iCxSPgbkPb53_8Zwi1VCQ4KRJ3gX9vefto


2024-11-30 01:02:09,976 - app - DEBUG - Request Body: b''
2024-11-30 01:02:10,272 - app - ERROR - Unhandled error: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 20}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:02:10,273 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:02:10,345 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:10] "[35m[1mGET /api/leads HTTP/1.1[0m" 500 -
2024-11-30 01:02:10,348 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:02:10,348 - app - DEBUG - Request Body: b'{"username": "testuser_1732957330", "email": "test_1732957330@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:11,152 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:02:11,226 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:11] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:02:11,228 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:02:11,228 - app - DEBUG - Request Body: b'{"email": "test_1732957330@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:02:11,228 - app - INFO - Login attempt received with data: {"email": "test_1732957330@example.com", "password": "***"}
2024-11-30 01:02:11,456 - app - INFO - User found for login attempt - ID: 21, Username: testuser_1732957330
2024-11-30 01:02:11,671 - app - INFO - Password check result for user testuser_1732957330: valid
2024-11-30 01:02:11,671 - app - INFO - Token generated successfully for user testuser_1732957330
2024-11-30 01:02:11,671 - app - INFO - Login successful for user testuser_1732957330
2024-11-30 01:02:11,671 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:02:11,745 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:11] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:02:11,749 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyMSwiZXhwIjoxNzMzMDQzNzMxfQ.xEWWJDFqqOXBcVJ-Erv5BTYeLrTJCldrIAMAig3dyoQ
Content-Length: 236
Content-Type: multipart/form-data; boundary=89d46ac66d330c65b6d8ba3859795785


2024-11-30 01:02:11,749 - app - DEBUG - Request Body: b'--89d46ac66d330c65b6d8ba3859795785\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--89d46ac66d330c65b6d8ba3859795785--\r\n'
2024-11-30 01:02:12,119 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:02:12,119 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:02:12] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 422 -
2024-11-30 01:02:36,351 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 01:02:36,407 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:02:36,685 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:02:36,685 - __main__ - INFO - Starting database initialization...
2024-11-30 01:02:36,685 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:02:36,685 - database - INFO - Initializing database connection...
2024-11-30 01:02:38,101 - database - INFO - Database connection test successful
2024-11-30 01:02:38,853 - database - INFO - Database tables created successfully
2024-11-30 01:02:38,931 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:02:39,014 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:02:39,019 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:03:05,117 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 01:03:05,157 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:03:05,415 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:03:05,415 - __main__ - INFO - Starting database initialization...
2024-11-30 01:03:05,415 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:03:05,415 - database - INFO - Initializing database connection...
2024-11-30 01:03:06,714 - database - INFO - Database connection test successful
2024-11-30 01:03:07,466 - database - INFO - Database tables created successfully
2024-11-30 01:03:07,541 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:03:07,623 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:03:07,627 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:03:19,099 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/auth.py', reloading
2024-11-30 01:03:19,133 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:03:19,404 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:03:19,405 - __main__ - INFO - Starting database initialization...
2024-11-30 01:03:19,405 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:03:19,405 - database - INFO - Initializing database connection...
2024-11-30 01:03:20,685 - database - INFO - Database connection test successful
2024-11-30 01:03:21,437 - database - INFO - Database tables created successfully
2024-11-30 01:03:21,512 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:03:21,593 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:03:21,598 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:03:27,054 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:03:27,055 - app - DEBUG - Request Body: b''
2024-11-30 01:03:27,281 - __main__ - INFO - Database connection test successful
2024-11-30 01:03:27,281 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:03:27,355 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:27] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:03:27,357 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:03:27,358 - app - DEBUG - Request Body: b''
2024-11-30 01:03:27,576 - __main__ - INFO - Database connection test successful
2024-11-30 01:03:27,576 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:03:27,648 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:27] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:03:27,650 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:03:27,650 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:03:27,650 - app - ERROR - Registration error: 
2024-11-30 01:03:27,651 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:03:27,651 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:27] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:03:27,652 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 01:03:27,652 - app - DEBUG - Request Body: b'{"username": "testuser_1732957407", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 01:03:27,653 - app - ERROR - Registration error: 
2024-11-30 01:03:27,653 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:03:27,653 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:27] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:03:27,654 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 01:03:27,654 - app - DEBUG - Request Body: b'{"username": "testuser_1732957407", "email": "test_1732957407@example.com", "password": "weak"}'
2024-11-30 01:03:27,655 - app - ERROR - Registration error: 
2024-11-30 01:03:27,655 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:03:27,655 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:27] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:03:27,656 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:03:27,656 - app - DEBUG - Request Body: b'{"username": "testuser_1732957407", "email": "test_1732957407@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:28,477 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:03:28,550 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:28] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:03:28,554 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:03:28,554 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:03:28,554 - app - INFO - Login attempt received with data: {}
2024-11-30 01:03:28,555 - app - WARNING - Login attempt with no data
2024-11-30 01:03:28,555 - app - WARNING - Validation error during login: 
2024-11-30 01:03:28,555 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:03:28,555 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:28] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 01:03:28,557 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 01:03:28,557 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 01:03:28,557 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 01:03:28,785 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 01:03:28,785 - app - WARNING - Authentication error during login: 
2024-11-30 01:03:28,785 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:03:28,888 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:28] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 01:03:28,891 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:03:28,891 - app - DEBUG - Request Body: b'{"username": "testuser_1732957408", "email": "test_1732957408@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:29,705 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:03:29,779 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:29] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:03:29,781 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:03:29,781 - app - DEBUG - Request Body: b'{"email": "test_1732957408@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:29,781 - app - INFO - Login attempt received with data: {"email": "test_1732957408@example.com", "password": "***"}
2024-11-30 01:03:30,004 - app - INFO - User found for login attempt - ID: 23, Username: testuser_1732957408
2024-11-30 01:03:30,222 - app - INFO - Password check result for user testuser_1732957408: valid
2024-11-30 01:03:30,222 - app - INFO - Token generated successfully for user testuser_1732957408
2024-11-30 01:03:30,222 - app - INFO - Login successful for user testuser_1732957408
2024-11-30 01:03:30,223 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:03:30,298 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:30] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:03:30,301 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:03:30,301 - app - DEBUG - Request Body: b''
2024-11-30 01:03:30,301 - app - WARNING - No token provided in request
2024-11-30 01:03:30,301 - app - ERROR - Error in get_leads: 
2024-11-30 01:03:30,301 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:03:30,301 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:30] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:03:30,303 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:03:30,303 - app - DEBUG - Request Body: b''
2024-11-30 01:03:30,303 - app - ERROR - Unhandled error: name 'not_found_error' is not defined
2024-11-30 01:03:30,303 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:03:30,303 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:30] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 01:03:30,305 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:03:30,305 - app - DEBUG - Request Body: b'{"username": "testuser_1732957410", "email": "test_1732957410@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:31,099 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:03:31,171 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:31] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:03:31,174 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:03:31,174 - app - DEBUG - Request Body: b'{"email": "test_1732957410@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:31,174 - app - INFO - Login attempt received with data: {"email": "test_1732957410@example.com", "password": "***"}
2024-11-30 01:03:31,398 - app - INFO - User found for login attempt - ID: 24, Username: testuser_1732957410
2024-11-30 01:03:31,614 - app - INFO - Password check result for user testuser_1732957410: valid
2024-11-30 01:03:31,615 - app - INFO - Token generated successfully for user testuser_1732957410
2024-11-30 01:03:31,615 - app - INFO - Login successful for user testuser_1732957410
2024-11-30 01:03:31,615 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:03:31,691 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:31] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:03:31,693 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNCwiZXhwIjoxNzMzMDQzODExfQ.0hkazy6oRagBllpXZPLxSSl04nw0l2Ki5TT5LntUC1U
Content-Length: 2
Content-Type: application/json


2024-11-30 01:03:31,693 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:03:31,956 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:03:31,956 - app - ERROR - Error in create_lead: 
2024-11-30 01:03:31,956 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:03:32,029 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:32] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:03:32,031 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:03:32,031 - app - DEBUG - Request Body: b'{"username": "testuser_1732957412", "email": "test_1732957412@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:32,822 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:03:32,896 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:32] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:03:32,899 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:03:32,900 - app - DEBUG - Request Body: b'{"email": "test_1732957412@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:32,900 - app - INFO - Login attempt received with data: {"email": "test_1732957412@example.com", "password": "***"}
2024-11-30 01:03:33,121 - app - INFO - User found for login attempt - ID: 25, Username: testuser_1732957412
2024-11-30 01:03:33,340 - app - INFO - Password check result for user testuser_1732957412: valid
2024-11-30 01:03:33,340 - app - INFO - Token generated successfully for user testuser_1732957412
2024-11-30 01:03:33,340 - app - INFO - Login successful for user testuser_1732957412
2024-11-30 01:03:33,340 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:03:33,414 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:33] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:03:33,416 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNSwiZXhwIjoxNzMzMDQzODEzfQ.4bQ59dFtX5xC2y3SEjKCqMu3fBGlEaEEkMH46wgfI1Y


2024-11-30 01:03:33,416 - app - DEBUG - Request Body: b''
2024-11-30 01:03:33,706 - app - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 25}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:03:33,707 - app - ERROR - Error in get_leads: 
2024-11-30 01:03:33,707 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:03:33,779 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:33] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:03:33,781 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:03:33,781 - app - DEBUG - Request Body: b'{"username": "testuser_1732957413", "email": "test_1732957413@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:34,596 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:03:34,670 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:34] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:03:34,673 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:03:34,673 - app - DEBUG - Request Body: b'{"email": "test_1732957413@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:03:34,673 - app - INFO - Login attempt received with data: {"email": "test_1732957413@example.com", "password": "***"}
2024-11-30 01:03:34,896 - app - INFO - User found for login attempt - ID: 26, Username: testuser_1732957413
2024-11-30 01:03:35,115 - app - INFO - Password check result for user testuser_1732957413: valid
2024-11-30 01:03:35,115 - app - INFO - Token generated successfully for user testuser_1732957413
2024-11-30 01:03:35,115 - app - INFO - Login successful for user testuser_1732957413
2024-11-30 01:03:35,115 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:03:35,193 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:35] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:03:35,196 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNiwiZXhwIjoxNzMzMDQzODE1fQ.jkaFc3pkeTjFzJB50j-UHhhYPXNJIQXb3NAx-l5ezmg
Content-Length: 236
Content-Type: multipart/form-data; boundary=2f738f01e6cd55257a22e5305c15fd02


2024-11-30 01:03:35,196 - app - DEBUG - Request Body: b'--2f738f01e6cd55257a22e5305c15fd02\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--2f738f01e6cd55257a22e5305c15fd02--\r\n'
2024-11-30 01:03:35,558 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:03:35,558 - app - ERROR - Error in upload_csv: 
2024-11-30 01:03:35,559 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:03:35,559 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:03:35] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 01:04:16,587 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 01:04:16,629 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:04:16,911 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:04:16,911 - __main__ - INFO - Starting database initialization...
2024-11-30 01:04:16,911 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:04:16,911 - database - INFO - Initializing database connection...
2024-11-30 01:04:18,207 - database - INFO - Database connection test successful
2024-11-30 01:04:18,974 - database - INFO - Database tables created successfully
2024-11-30 01:04:19,050 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:04:19,137 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:04:19,145 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:04:23,847 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:04:23,848 - app - DEBUG - Request Body: b''
2024-11-30 01:04:24,093 - __main__ - INFO - Database connection test successful
2024-11-30 01:04:24,094 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:04:24,170 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:24] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:04:24,172 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:04:24,172 - app - DEBUG - Request Body: b''
2024-11-30 01:04:24,390 - __main__ - INFO - Database connection test successful
2024-11-30 01:04:24,390 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:04:24,475 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:24] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:04:24,484 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:04:24,485 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:04:24,485 - app - ERROR - Registration error: 
2024-11-30 01:04:24,485 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:04:24,486 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:24] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:04:24,492 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 01:04:24,493 - app - DEBUG - Request Body: b'{"username": "testuser_1732957464", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 01:04:24,493 - app - ERROR - Registration error: 
2024-11-30 01:04:24,494 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:04:24,495 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:24] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:04:24,498 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 01:04:24,499 - app - DEBUG - Request Body: b'{"username": "testuser_1732957464", "email": "test_1732957464@example.com", "password": "weak"}'
2024-11-30 01:04:24,499 - app - ERROR - Registration error: 
2024-11-30 01:04:24,499 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:04:24,499 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:24] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:04:24,501 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:04:24,501 - app - DEBUG - Request Body: b'{"username": "testuser_1732957464", "email": "test_1732957464@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:25,343 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:04:25,418 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:25] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:04:25,421 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:04:25,421 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:04:25,421 - app - INFO - Login attempt received with data: {}
2024-11-30 01:04:25,421 - app - WARNING - Login attempt with no data
2024-11-30 01:04:25,421 - app - WARNING - Validation error during login: 
2024-11-30 01:04:25,421 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:04:25,421 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:25] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 01:04:25,423 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 01:04:25,423 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 01:04:25,423 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 01:04:25,648 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 01:04:25,648 - app - WARNING - Authentication error during login: 
2024-11-30 01:04:25,648 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:04:25,724 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:25] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 01:04:25,726 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:04:25,727 - app - DEBUG - Request Body: b'{"username": "testuser_1732957465", "email": "test_1732957465@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:26,556 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:04:26,630 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:26] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:04:26,633 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:04:26,633 - app - DEBUG - Request Body: b'{"email": "test_1732957465@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:26,633 - app - INFO - Login attempt received with data: {"email": "test_1732957465@example.com", "password": "***"}
2024-11-30 01:04:26,859 - app - INFO - User found for login attempt - ID: 28, Username: testuser_1732957465
2024-11-30 01:04:27,084 - app - INFO - Password check result for user testuser_1732957465: valid
2024-11-30 01:04:27,085 - app - INFO - Token generated successfully for user testuser_1732957465
2024-11-30 01:04:27,085 - app - INFO - Login successful for user testuser_1732957465
2024-11-30 01:04:27,085 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:04:27,162 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:27] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:04:27,164 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:04:27,164 - app - DEBUG - Request Body: b''
2024-11-30 01:04:27,164 - app - WARNING - No token provided in request
2024-11-30 01:04:27,164 - app - ERROR - Error in get_leads: 
2024-11-30 01:04:27,164 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:04:27,164 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:27] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:04:27,166 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:04:27,166 - app - DEBUG - Request Body: b''
2024-11-30 01:04:27,166 - app - ERROR - Unhandled error: name 'not_found_error' is not defined
2024-11-30 01:04:27,166 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:04:27,166 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:27] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 01:04:27,168 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:04:27,168 - app - DEBUG - Request Body: b'{"username": "testuser_1732957467", "email": "test_1732957467@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:27,971 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:04:28,045 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:28] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:04:28,047 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:04:28,047 - app - DEBUG - Request Body: b'{"email": "test_1732957467@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:28,048 - app - INFO - Login attempt received with data: {"email": "test_1732957467@example.com", "password": "***"}
2024-11-30 01:04:28,276 - app - INFO - User found for login attempt - ID: 29, Username: testuser_1732957467
2024-11-30 01:04:28,498 - app - INFO - Password check result for user testuser_1732957467: valid
2024-11-30 01:04:28,498 - app - INFO - Token generated successfully for user testuser_1732957467
2024-11-30 01:04:28,498 - app - INFO - Login successful for user testuser_1732957467
2024-11-30 01:04:28,498 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:04:28,578 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:28] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:04:28,580 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyOSwiZXhwIjoxNzMzMDQzODY4fQ.wMwWMiLWPTR72bf5ekeuTViS6X7VipCQvGpPsrkrDLg
Content-Length: 2
Content-Type: application/json


2024-11-30 01:04:28,580 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:04:28,802 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:04:28,803 - app - ERROR - Error in create_lead: 
2024-11-30 01:04:28,803 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:04:28,877 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:28] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:04:28,879 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:04:28,879 - app - DEBUG - Request Body: b'{"username": "testuser_1732957468", "email": "test_1732957468@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:29,682 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:04:29,756 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:29] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:04:29,758 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:04:29,759 - app - DEBUG - Request Body: b'{"email": "test_1732957468@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:29,759 - app - INFO - Login attempt received with data: {"email": "test_1732957468@example.com", "password": "***"}
2024-11-30 01:04:29,984 - app - INFO - User found for login attempt - ID: 30, Username: testuser_1732957468
2024-11-30 01:04:30,204 - app - INFO - Password check result for user testuser_1732957468: valid
2024-11-30 01:04:30,204 - app - INFO - Token generated successfully for user testuser_1732957468
2024-11-30 01:04:30,204 - app - INFO - Login successful for user testuser_1732957468
2024-11-30 01:04:30,204 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:04:30,283 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:30] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:04:30,285 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozMCwiZXhwIjoxNzMzMDQzODcwfQ.DZJoJ6wNcoS6bymK0AbDBnw2GJ1Z6Y5PcD0j9pVjmDA


2024-11-30 01:04:30,285 - app - DEBUG - Request Body: b''
2024-11-30 01:04:30,582 - app - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 30}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:04:30,582 - app - ERROR - Error in get_leads: 
2024-11-30 01:04:30,582 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:04:30,656 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:30] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:04:30,658 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:04:30,658 - app - DEBUG - Request Body: b'{"username": "testuser_1732957470", "email": "test_1732957470@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:31,462 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:04:31,535 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:31] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:04:31,538 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:04:31,538 - app - DEBUG - Request Body: b'{"email": "test_1732957470@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:04:31,538 - app - INFO - Login attempt received with data: {"email": "test_1732957470@example.com", "password": "***"}
2024-11-30 01:04:31,773 - app - INFO - User found for login attempt - ID: 31, Username: testuser_1732957470
2024-11-30 01:04:31,994 - app - INFO - Password check result for user testuser_1732957470: valid
2024-11-30 01:04:31,994 - app - INFO - Token generated successfully for user testuser_1732957470
2024-11-30 01:04:31,994 - app - INFO - Login successful for user testuser_1732957470
2024-11-30 01:04:31,994 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:04:32,074 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:32] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:04:32,077 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozMSwiZXhwIjoxNzMzMDQzODcxfQ.H968D9XBomX11zd48K_JW9-gT3Fkxis0ULD70otNm5E
Content-Length: 236
Content-Type: multipart/form-data; boundary=a007236e01035a0c717476e6d614e705


2024-11-30 01:04:32,077 - app - DEBUG - Request Body: b'--a007236e01035a0c717476e6d614e705\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--a007236e01035a0c717476e6d614e705--\r\n'
2024-11-30 01:04:32,445 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:04:32,445 - app - ERROR - Error in upload_csv: 
2024-11-30 01:04:32,445 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:04:32,445 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:04:32] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 01:05:04,822 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 01:05:04,864 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:05:05,129 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:05:05,129 - __main__ - INFO - Starting database initialization...
2024-11-30 01:05:05,129 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:05:05,129 - database - INFO - Initializing database connection...
2024-11-30 01:05:06,447 - database - INFO - Database connection test successful
2024-11-30 01:05:07,231 - database - INFO - Database tables created successfully
2024-11-30 01:05:07,308 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:05:07,392 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:05:07,399 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:33:23,936 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:33:23,940 - app - DEBUG - Request Body: b''
2024-11-30 01:33:25,244 - __main__ - INFO - Database connection test successful
2024-11-30 01:33:25,245 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:33:25,323 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:25] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:33:25,327 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:33:25,327 - app - DEBUG - Request Body: b''
2024-11-30 01:33:25,960 - __main__ - INFO - Database connection test successful
2024-11-30 01:33:25,961 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:33:26,036 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:26] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:33:26,040 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:33:26,041 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:33:26,041 - app - ERROR - Registration error: 
2024-11-30 01:33:26,041 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:33:26,041 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:26] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:33:26,043 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 01:33:26,044 - app - DEBUG - Request Body: b'{"username": "testuser_1732959206", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 01:33:26,044 - app - ERROR - Registration error: 
2024-11-30 01:33:26,045 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:33:26,045 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:26] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:33:26,047 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 01:33:26,048 - app - DEBUG - Request Body: b'{"username": "testuser_1732959206", "email": "test_1732959206@example.com", "password": "weak"}'
2024-11-30 01:33:26,048 - app - ERROR - Registration error: 
2024-11-30 01:33:26,048 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:33:26,051 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:26] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:33:26,052 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:33:26,052 - app - DEBUG - Request Body: b'{"username": "testuser_1732959206", "email": "test_1732959206@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:26,950 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:33:27,026 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:27] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:33:27,029 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:33:27,030 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:33:27,030 - app - INFO - Login attempt received with data: {}
2024-11-30 01:33:27,030 - app - WARNING - Login attempt with no data
2024-11-30 01:33:27,030 - app - WARNING - Validation error during login: 
2024-11-30 01:33:27,030 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:33:27,030 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:27] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 01:33:27,032 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 01:33:27,032 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 01:33:27,032 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 01:33:27,258 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 01:33:27,259 - app - WARNING - Authentication error during login: 
2024-11-30 01:33:27,259 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:33:27,334 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:27] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 01:33:27,337 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:33:27,337 - app - DEBUG - Request Body: b'{"username": "testuser_1732959207", "email": "test_1732959207@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:28,165 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:33:28,241 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:28] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:33:28,243 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:33:28,243 - app - DEBUG - Request Body: b'{"email": "test_1732959207@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:28,244 - app - INFO - Login attempt received with data: {"email": "test_1732959207@example.com", "password": "***"}
2024-11-30 01:33:28,471 - app - INFO - User found for login attempt - ID: 33, Username: testuser_1732959207
2024-11-30 01:33:28,690 - app - INFO - Password check result for user testuser_1732959207: valid
2024-11-30 01:33:28,692 - app - INFO - Token generated successfully for user testuser_1732959207
2024-11-30 01:33:28,692 - app - INFO - Login successful for user testuser_1732959207
2024-11-30 01:33:28,692 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:33:28,772 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:28] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:33:28,775 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:33:28,775 - app - DEBUG - Request Body: b''
2024-11-30 01:33:28,775 - app - WARNING - No token provided in request
2024-11-30 01:33:28,775 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:33:28,775 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:28] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:33:28,777 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:33:28,777 - app - DEBUG - Request Body: b''
2024-11-30 01:33:28,777 - app - ERROR - Unhandled error: name 'not_found_error' is not defined
2024-11-30 01:33:28,777 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:33:28,777 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:28] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 01:33:28,779 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:33:28,779 - app - DEBUG - Request Body: b'{"username": "testuser_1732959208", "email": "test_1732959208@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:29,604 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:33:29,680 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:29] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:33:29,683 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:33:29,683 - app - DEBUG - Request Body: b'{"email": "test_1732959208@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:29,683 - app - INFO - Login attempt received with data: {"email": "test_1732959208@example.com", "password": "***"}
2024-11-30 01:33:29,909 - app - INFO - User found for login attempt - ID: 34, Username: testuser_1732959208
2024-11-30 01:33:30,130 - app - INFO - Password check result for user testuser_1732959208: valid
2024-11-30 01:33:30,130 - app - INFO - Token generated successfully for user testuser_1732959208
2024-11-30 01:33:30,130 - app - INFO - Login successful for user testuser_1732959208
2024-11-30 01:33:30,130 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:33:30,206 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:30] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:33:30,208 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNCwiZXhwIjoxNzMzMDQ1NjEwfQ.I5k7e5m4FYa9Pv9BvlNMxDBxCzILCtmGZZdpAb7qo0U
Content-Length: 2
Content-Type: application/json


2024-11-30 01:33:30,208 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:33:30,514 - app - ERROR - Error in create_lead: 
2024-11-30 01:33:30,514 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:33:30,514 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:33:30,515 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:30] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:33:30,517 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:33:30,517 - app - DEBUG - Request Body: b'{"username": "testuser_1732959210", "email": "test_1732959210@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:31,331 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:33:31,407 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:31] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:33:31,410 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:33:31,410 - app - DEBUG - Request Body: b'{"email": "test_1732959210@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:31,410 - app - INFO - Login attempt received with data: {"email": "test_1732959210@example.com", "password": "***"}
2024-11-30 01:33:31,635 - app - INFO - User found for login attempt - ID: 35, Username: testuser_1732959210
2024-11-30 01:33:31,860 - app - INFO - Password check result for user testuser_1732959210: valid
2024-11-30 01:33:31,860 - app - INFO - Token generated successfully for user testuser_1732959210
2024-11-30 01:33:31,860 - app - INFO - Login successful for user testuser_1732959210
2024-11-30 01:33:31,860 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:33:31,940 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:31] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:33:31,942 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNSwiZXhwIjoxNzMzMDQ1NjExfQ.P4dBBYKldvvmNB5P4XD5lIbieMI2kgVKTgjk65zx0wc


2024-11-30 01:33:31,942 - app - DEBUG - Request Body: b''
2024-11-30 01:33:32,251 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 35}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:33:32,251 - app - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 35}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:33:32,251 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:33:32,327 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:32] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:33:32,329 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:33:32,329 - app - DEBUG - Request Body: b'{"username": "testuser_1732959212", "email": "test_1732959212@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:33,153 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:33:33,229 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:33] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:33:33,232 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:33:33,233 - app - DEBUG - Request Body: b'{"email": "test_1732959212@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:33:33,233 - app - INFO - Login attempt received with data: {"email": "test_1732959212@example.com", "password": "***"}
2024-11-30 01:33:33,460 - app - INFO - User found for login attempt - ID: 36, Username: testuser_1732959212
2024-11-30 01:33:33,678 - app - INFO - Password check result for user testuser_1732959212: valid
2024-11-30 01:33:33,678 - app - INFO - Token generated successfully for user testuser_1732959212
2024-11-30 01:33:33,678 - app - INFO - Login successful for user testuser_1732959212
2024-11-30 01:33:33,678 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:33:33,753 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:33] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:33:33,755 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozNiwiZXhwIjoxNzMzMDQ1NjEzfQ.thEJlFopxFT-n58YL6EdAGkbSUZjJJo7TJtg0K7_BGQ
Content-Length: 236
Content-Type: multipart/form-data; boundary=566390e097125be474d32e61e9c687f2


2024-11-30 01:33:33,756 - app - DEBUG - Request Body: b'--566390e097125be474d32e61e9c687f2\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--566390e097125be474d32e61e9c687f2--\r\n'
2024-11-30 01:33:34,061 - app - ERROR - Error in upload_csv: 'company' is an invalid keyword argument for Lead
2024-11-30 01:33:34,061 - app - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 01:33:34,061 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:33:34,062 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:33:34] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 01:33:50,858 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/error_handlers.py', reloading
2024-11-30 01:33:50,909 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:33:51,168 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:33:51,168 - __main__ - INFO - Starting database initialization...
2024-11-30 01:33:51,168 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:33:51,168 - database - INFO - Initializing database connection...
2024-11-30 01:33:52,552 - database - INFO - Database connection test successful
2024-11-30 01:33:53,349 - database - INFO - Database tables created successfully
2024-11-30 01:33:53,450 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:33:53,532 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:33:53,540 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:34:13,481 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/auth.py', reloading
2024-11-30 01:34:13,522 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:34:13,789 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:34:13,789 - __main__ - INFO - Starting database initialization...
2024-11-30 01:34:13,789 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:34:13,789 - database - INFO - Initializing database connection...
2024-11-30 01:34:15,118 - database - INFO - Database connection test successful
2024-11-30 01:34:15,880 - database - INFO - Database tables created successfully
2024-11-30 01:34:15,960 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:34:16,051 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:34:16,058 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:34:21,117 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:34:21,118 - app - DEBUG - Request Body: b''
2024-11-30 01:34:21,345 - __main__ - INFO - Database connection test successful
2024-11-30 01:34:21,345 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:34:21,419 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:21] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:34:21,422 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:34:21,422 - app - DEBUG - Request Body: b''
2024-11-30 01:34:21,648 - __main__ - INFO - Database connection test successful
2024-11-30 01:34:21,648 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:34:21,724 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:21] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:34:21,726 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:34:21,726 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:34:21,727 - app - ERROR - Registration error: 
2024-11-30 01:34:21,727 - app - WARNING - Validation error: 
2024-11-30 01:34:21,727 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:34:21,727 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:21] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:34:21,729 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 01:34:21,729 - app - DEBUG - Request Body: b'{"username": "testuser_1732959261", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 01:34:21,729 - app - ERROR - Registration error: 
2024-11-30 01:34:21,729 - app - WARNING - Validation error: 
2024-11-30 01:34:21,729 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:34:21,729 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:21] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:34:21,731 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 01:34:21,731 - app - DEBUG - Request Body: b'{"username": "testuser_1732959261", "email": "test_1732959261@example.com", "password": "weak"}'
2024-11-30 01:34:21,731 - app - ERROR - Registration error: 
2024-11-30 01:34:21,731 - app - WARNING - Validation error: 
2024-11-30 01:34:21,732 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:34:21,732 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:21] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:34:21,733 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:34:21,734 - app - DEBUG - Request Body: b'{"username": "testuser_1732959261", "email": "test_1732959261@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:22,562 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:34:22,638 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:22] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:34:22,641 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:34:22,641 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:34:22,641 - app - INFO - Login attempt received with data: {}
2024-11-30 01:34:22,641 - app - WARNING - Login attempt with no data
2024-11-30 01:34:22,641 - app - WARNING - Validation error during login: 
2024-11-30 01:34:22,641 - app - WARNING - Validation error: 
2024-11-30 01:34:22,642 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:34:22,642 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:22] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 01:34:22,644 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 01:34:22,644 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 01:34:22,644 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 01:34:22,867 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 01:34:22,867 - app - WARNING - Authentication error during login: 
2024-11-30 01:34:22,867 - app - WARNING - Authentication error: 
2024-11-30 01:34:22,867 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:34:22,941 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:22] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 01:34:22,943 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:34:22,943 - app - DEBUG - Request Body: b'{"username": "testuser_1732959262", "email": "test_1732959262@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:23,790 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:34:23,865 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:23] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:34:23,867 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:34:23,867 - app - DEBUG - Request Body: b'{"email": "test_1732959262@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:23,867 - app - INFO - Login attempt received with data: {"email": "test_1732959262@example.com", "password": "***"}
2024-11-30 01:34:24,096 - app - INFO - User found for login attempt - ID: 38, Username: testuser_1732959262
2024-11-30 01:34:24,331 - app - INFO - Password check result for user testuser_1732959262: valid
2024-11-30 01:34:24,331 - app - INFO - Token generated successfully for user testuser_1732959262
2024-11-30 01:34:24,331 - app - INFO - Login successful for user testuser_1732959262
2024-11-30 01:34:24,332 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:34:24,411 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:24] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:34:24,414 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:34:24,414 - app - DEBUG - Request Body: b''
2024-11-30 01:34:24,414 - app - WARNING - No token provided in request
2024-11-30 01:34:24,414 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:34:24,414 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:24] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:34:24,416 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:34:24,416 - app - DEBUG - Request Body: b''
2024-11-30 01:34:24,416 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 01:34:24,416 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:34:24,416 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:24] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 01:34:24,418 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:34:24,418 - app - DEBUG - Request Body: b'{"username": "testuser_1732959264", "email": "test_1732959264@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:25,246 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:34:25,330 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:25] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:34:25,335 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:34:25,335 - app - DEBUG - Request Body: b'{"email": "test_1732959264@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:25,336 - app - INFO - Login attempt received with data: {"email": "test_1732959264@example.com", "password": "***"}
2024-11-30 01:34:25,558 - app - INFO - User found for login attempt - ID: 39, Username: testuser_1732959264
2024-11-30 01:34:25,783 - app - INFO - Password check result for user testuser_1732959264: valid
2024-11-30 01:34:25,783 - app - INFO - Token generated successfully for user testuser_1732959264
2024-11-30 01:34:25,783 - app - INFO - Login successful for user testuser_1732959264
2024-11-30 01:34:25,783 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:34:25,861 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:25] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:34:25,863 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozOSwiZXhwIjoxNzMzMDQ1NjY1fQ.6Ojqz2UMi9iTvBCRyCYj9dP_7umx0nn5bd25TXnJnyo
Content-Length: 2
Content-Type: application/json


2024-11-30 01:34:25,863 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:34:26,167 - app - ERROR - Error in create_lead: 
2024-11-30 01:34:26,167 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:34:26,167 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:34:26,168 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:26] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:34:26,170 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:34:26,170 - app - DEBUG - Request Body: b'{"username": "testuser_1732959266", "email": "test_1732959266@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:26,975 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:34:27,050 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:27] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:34:27,053 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:34:27,053 - app - DEBUG - Request Body: b'{"email": "test_1732959266@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:27,053 - app - INFO - Login attempt received with data: {"email": "test_1732959266@example.com", "password": "***"}
2024-11-30 01:34:27,277 - app - INFO - User found for login attempt - ID: 40, Username: testuser_1732959266
2024-11-30 01:34:27,494 - app - INFO - Password check result for user testuser_1732959266: valid
2024-11-30 01:34:27,494 - app - INFO - Token generated successfully for user testuser_1732959266
2024-11-30 01:34:27,494 - app - INFO - Login successful for user testuser_1732959266
2024-11-30 01:34:27,495 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:34:27,573 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:27] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:34:27,576 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0MCwiZXhwIjoxNzMzMDQ1NjY3fQ.GXAF4yhI5Sv_sZr_T8kqKk_JKxClC-o3OvQ1sjdMv_o


2024-11-30 01:34:27,576 - app - DEBUG - Request Body: b''
2024-11-30 01:34:27,877 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 40}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:34:27,878 - app - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 40}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:34:27,878 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:34:27,954 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:27] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:34:27,957 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:34:27,957 - app - DEBUG - Request Body: b'{"username": "testuser_1732959267", "email": "test_1732959267@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:28,756 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:34:28,832 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:28] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:34:28,835 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:34:28,835 - app - DEBUG - Request Body: b'{"email": "test_1732959267@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:34:28,835 - app - INFO - Login attempt received with data: {"email": "test_1732959267@example.com", "password": "***"}
2024-11-30 01:34:29,058 - app - INFO - User found for login attempt - ID: 41, Username: testuser_1732959267
2024-11-30 01:34:29,275 - app - INFO - Password check result for user testuser_1732959267: valid
2024-11-30 01:34:29,275 - app - INFO - Token generated successfully for user testuser_1732959267
2024-11-30 01:34:29,275 - app - INFO - Login successful for user testuser_1732959267
2024-11-30 01:34:29,276 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:34:29,353 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:29] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:34:29,355 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0MSwiZXhwIjoxNzMzMDQ1NjY5fQ.2PtTadUkJinkNy6tws1cXH-lnQNLzihy934mYFQbEn4
Content-Length: 236
Content-Type: multipart/form-data; boundary=2fd03d95b51bab24b3fa66ba207d5fdb


2024-11-30 01:34:29,356 - app - DEBUG - Request Body: b'--2fd03d95b51bab24b3fa66ba207d5fdb\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--2fd03d95b51bab24b3fa66ba207d5fdb--\r\n'
2024-11-30 01:34:29,659 - app - ERROR - Error in upload_csv: 'company' is an invalid keyword argument for Lead
2024-11-30 01:34:29,660 - app - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 01:34:29,660 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:34:29,660 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:34:29] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 01:35:06,868 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 01:35:06,926 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:35:07,187 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:35:07,188 - __main__ - INFO - Starting database initialization...
2024-11-30 01:35:07,188 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:35:07,188 - database - INFO - Initializing database connection...
2024-11-30 01:35:08,536 - database - INFO - Database connection test successful
2024-11-30 01:35:09,317 - database - INFO - Database tables created successfully
2024-11-30 01:35:09,395 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:35:09,479 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:35:09,486 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:35:17,867 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 01:35:17,935 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:35:18,178 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:35:18,178 - __main__ - INFO - Starting database initialization...
2024-11-30 01:35:18,178 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:35:18,178 - database - INFO - Initializing database connection...
2024-11-30 01:35:19,490 - database - INFO - Database connection test successful
2024-11-30 01:35:20,260 - database - INFO - Database tables created successfully
2024-11-30 01:35:20,336 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:35:20,419 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:35:20,423 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:35:28,925 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:35:28,926 - app - DEBUG - Request Body: b''
2024-11-30 01:35:29,154 - __main__ - INFO - Database connection test successful
2024-11-30 01:35:29,155 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:35:29,229 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:29] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:35:29,231 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:35:29,232 - app - DEBUG - Request Body: b''
2024-11-30 01:35:29,455 - __main__ - INFO - Database connection test successful
2024-11-30 01:35:29,455 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:35:29,529 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:29] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:35:29,532 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:35:29,532 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:35:29,532 - app - ERROR - Registration error: 
2024-11-30 01:35:29,532 - app - WARNING - Validation error: 
2024-11-30 01:35:29,532 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:35:29,532 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:29] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:35:29,534 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 01:35:29,534 - app - DEBUG - Request Body: b'{"username": "testuser_1732959329", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 01:35:29,534 - app - ERROR - Registration error: 
2024-11-30 01:35:29,534 - app - WARNING - Validation error: 
2024-11-30 01:35:29,534 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:35:29,534 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:29] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:35:29,536 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 01:35:29,536 - app - DEBUG - Request Body: b'{"username": "testuser_1732959329", "email": "test_1732959329@example.com", "password": "weak"}'
2024-11-30 01:35:29,536 - app - ERROR - Registration error: 
2024-11-30 01:35:29,536 - app - WARNING - Validation error: 
2024-11-30 01:35:29,536 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:35:29,536 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:29] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:35:29,538 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:35:29,538 - app - DEBUG - Request Body: b'{"username": "testuser_1732959329", "email": "test_1732959329@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:30,368 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:35:30,441 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:30] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:35:30,444 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:35:30,445 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:35:30,445 - app - INFO - Login attempt received with data: {}
2024-11-30 01:35:30,445 - app - WARNING - Login attempt with no data
2024-11-30 01:35:30,445 - app - WARNING - Validation error during login: 
2024-11-30 01:35:30,445 - app - WARNING - Validation error: 
2024-11-30 01:35:30,445 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:35:30,445 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:30] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 01:35:30,447 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 01:35:30,447 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 01:35:30,447 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 01:35:30,672 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 01:35:30,672 - app - WARNING - Authentication error during login: 
2024-11-30 01:35:30,672 - app - WARNING - Authentication error: 
2024-11-30 01:35:30,672 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:35:30,746 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:30] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 01:35:30,748 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:35:30,749 - app - DEBUG - Request Body: b'{"username": "testuser_1732959330", "email": "test_1732959330@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:31,563 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:35:31,637 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:31] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:35:31,640 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:35:31,640 - app - DEBUG - Request Body: b'{"email": "test_1732959330@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:31,640 - app - INFO - Login attempt received with data: {"email": "test_1732959330@example.com", "password": "***"}
2024-11-30 01:35:31,865 - app - INFO - User found for login attempt - ID: 43, Username: testuser_1732959330
2024-11-30 01:35:32,083 - app - INFO - Password check result for user testuser_1732959330: valid
2024-11-30 01:35:32,083 - app - INFO - Token generated successfully for user testuser_1732959330
2024-11-30 01:35:32,083 - app - INFO - Login successful for user testuser_1732959330
2024-11-30 01:35:32,083 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:35:32,158 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:32] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:35:32,160 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:35:32,161 - app - DEBUG - Request Body: b''
2024-11-30 01:35:32,161 - app - WARNING - No token provided in request
2024-11-30 01:35:32,161 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:35:32,161 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:32] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:35:32,162 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:35:32,162 - app - DEBUG - Request Body: b''
2024-11-30 01:35:32,163 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 01:35:32,163 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:35:32,163 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:32] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 01:35:32,165 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:35:32,165 - app - DEBUG - Request Body: b'{"username": "testuser_1732959332", "email": "test_1732959332@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:32,963 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:35:33,037 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:33] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:35:33,041 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:35:33,041 - app - DEBUG - Request Body: b'{"email": "test_1732959332@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:33,041 - app - INFO - Login attempt received with data: {"email": "test_1732959332@example.com", "password": "***"}
2024-11-30 01:35:33,264 - app - INFO - User found for login attempt - ID: 44, Username: testuser_1732959332
2024-11-30 01:35:33,485 - app - INFO - Password check result for user testuser_1732959332: valid
2024-11-30 01:35:33,485 - app - INFO - Token generated successfully for user testuser_1732959332
2024-11-30 01:35:33,485 - app - INFO - Login successful for user testuser_1732959332
2024-11-30 01:35:33,485 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:35:33,560 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:33] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:35:33,563 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0NCwiZXhwIjoxNzMzMDQ1NzMzfQ.qORCFtst3avbJlv8DlCnd_ZYAoa3XbXFE5Vc48MGcK8
Content-Length: 2
Content-Type: application/json


2024-11-30 01:35:33,563 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:35:33,859 - app - ERROR - Error in create_lead: 
2024-11-30 01:35:33,859 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:35:33,860 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:35:33,860 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:33] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:35:33,862 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:35:33,862 - app - DEBUG - Request Body: b'{"username": "testuser_1732959333", "email": "test_1732959333@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:34,663 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:35:34,736 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:34] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:35:34,739 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:35:34,740 - app - DEBUG - Request Body: b'{"email": "test_1732959333@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:34,740 - app - INFO - Login attempt received with data: {"email": "test_1732959333@example.com", "password": "***"}
2024-11-30 01:35:34,964 - app - INFO - User found for login attempt - ID: 45, Username: testuser_1732959333
2024-11-30 01:35:35,183 - app - INFO - Password check result for user testuser_1732959333: valid
2024-11-30 01:35:35,183 - app - INFO - Token generated successfully for user testuser_1732959333
2024-11-30 01:35:35,183 - app - INFO - Login successful for user testuser_1732959333
2024-11-30 01:35:35,183 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:35:35,258 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:35] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:35:35,260 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0NSwiZXhwIjoxNzMzMDQ1NzM1fQ.gFh-4i8FIejSmQiHL-_I59aKdjOHSojqTKd05i2CzIs


2024-11-30 01:35:35,260 - app - DEBUG - Request Body: b''
2024-11-30 01:35:35,557 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 45}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:35:35,557 - app - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 45}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:35:35,558 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:35:35,633 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:35] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:35:35,635 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:35:35,635 - app - DEBUG - Request Body: b'{"username": "testuser_1732959335", "email": "test_1732959335@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:36,448 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:35:36,522 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:36] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:35:36,526 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:35:36,526 - app - DEBUG - Request Body: b'{"email": "test_1732959335@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:35:36,526 - app - INFO - Login attempt received with data: {"email": "test_1732959335@example.com", "password": "***"}
2024-11-30 01:35:36,748 - app - INFO - User found for login attempt - ID: 46, Username: testuser_1732959335
2024-11-30 01:35:36,966 - app - INFO - Password check result for user testuser_1732959335: valid
2024-11-30 01:35:36,966 - app - INFO - Token generated successfully for user testuser_1732959335
2024-11-30 01:35:36,966 - app - INFO - Login successful for user testuser_1732959335
2024-11-30 01:35:36,966 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:35:37,045 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:37] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:35:37,048 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0NiwiZXhwIjoxNzMzMDQ1NzM2fQ.PbXOAeE-kv-6WSQHia2uo3bcqyggXblzoSwV5BXK4y0
Content-Length: 236
Content-Type: multipart/form-data; boundary=f6e507f2bb7af3d4d912091ba32fea8e


2024-11-30 01:35:37,048 - app - DEBUG - Request Body: b'--f6e507f2bb7af3d4d912091ba32fea8e\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--f6e507f2bb7af3d4d912091ba32fea8e--\r\n'
2024-11-30 01:35:37,346 - app - ERROR - Error in upload_csv: 'company' is an invalid keyword argument for Lead
2024-11-30 01:35:37,346 - app - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 01:35:37,346 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:35:37,346 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:35:37] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 01:35:54,632 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/auth.py', reloading
2024-11-30 01:35:54,711 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:35:54,987 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:35:54,987 - __main__ - INFO - Starting database initialization...
2024-11-30 01:35:54,987 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:35:54,987 - database - INFO - Initializing database connection...
2024-11-30 01:35:56,297 - database - INFO - Database connection test successful
2024-11-30 01:35:57,049 - database - INFO - Database tables created successfully
2024-11-30 01:35:57,127 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:35:57,208 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:35:57,214 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:37:33,673 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:37:33,677 - app - DEBUG - Request Body: b''
2024-11-30 01:37:33,904 - __main__ - INFO - Database connection test successful
2024-11-30 01:37:33,904 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:37:33,978 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:33] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:37:33,981 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:37:33,981 - app - DEBUG - Request Body: b''
2024-11-30 01:37:34,202 - __main__ - INFO - Database connection test successful
2024-11-30 01:37:34,203 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:37:34,277 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:34] "GET /api/health HTTP/1.1" 200 -
2024-11-30 01:37:34,279 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:37:34,279 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:37:34,279 - app - ERROR - Registration error: 
2024-11-30 01:37:34,279 - app - WARNING - Validation error: 
2024-11-30 01:37:34,279 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:37:34,279 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:34] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:37:34,283 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 01:37:34,283 - app - DEBUG - Request Body: b'{"username": "testuser_1732959454", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 01:37:34,283 - app - ERROR - Registration error: 
2024-11-30 01:37:34,283 - app - WARNING - Validation error: 
2024-11-30 01:37:34,283 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:37:34,283 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:34] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:37:34,295 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 01:37:34,295 - app - DEBUG - Request Body: b'{"username": "testuser_1732959454", "email": "test_1732959454@example.com", "password": "weak"}'
2024-11-30 01:37:34,295 - app - ERROR - Registration error: 
2024-11-30 01:37:34,295 - app - WARNING - Validation error: 
2024-11-30 01:37:34,302 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:37:34,302 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:34] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 01:37:34,305 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:37:34,305 - app - DEBUG - Request Body: b'{"username": "testuser_1732959454", "email": "test_1732959454@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:35,119 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:37:35,193 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:35] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:37:35,195 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 01:37:35,195 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:37:35,196 - app - INFO - Login attempt received with data: {}
2024-11-30 01:37:35,196 - app - WARNING - Login attempt with no data
2024-11-30 01:37:35,196 - app - WARNING - Validation error during login: 
2024-11-30 01:37:35,196 - app - WARNING - Validation error: 
2024-11-30 01:37:35,196 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 01:37:35,196 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:35] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 01:37:35,198 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 01:37:35,198 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 01:37:35,198 - app - INFO - Login attempt received with data: {"email": "nonexistent@example.com", "password": "***"}
2024-11-30 01:37:35,421 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 01:37:35,421 - app - WARNING - Authentication error during login: 
2024-11-30 01:37:35,422 - app - WARNING - Authentication error: 
2024-11-30 01:37:35,422 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:37:35,495 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:35] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 01:37:35,498 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:37:35,498 - app - DEBUG - Request Body: b'{"username": "testuser_1732959455", "email": "test_1732959455@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:36,312 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:37:36,391 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:36] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:37:36,393 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:37:36,393 - app - DEBUG - Request Body: b'{"email": "test_1732959455@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:36,393 - app - INFO - Login attempt received with data: {"email": "test_1732959455@example.com", "password": "***"}
2024-11-30 01:37:36,617 - app - INFO - User found for login attempt - ID: 48, Username: testuser_1732959455
2024-11-30 01:37:36,834 - app - INFO - Password check result for user testuser_1732959455: valid
2024-11-30 01:37:36,834 - app - INFO - Token generated successfully for user testuser_1732959455
2024-11-30 01:37:36,834 - app - INFO - Login successful for user testuser_1732959455
2024-11-30 01:37:36,834 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:37:36,911 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:36] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:37:36,914 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:37:36,914 - app - DEBUG - Request Body: b''
2024-11-30 01:37:36,914 - app - WARNING - No token provided in request
2024-11-30 01:37:36,914 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:37:36,914 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:36] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:37:36,916 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 01:37:36,916 - app - DEBUG - Request Body: b''
2024-11-30 01:37:36,916 - app - ERROR - Unexpected error: name 'not_found_error' is not defined
2024-11-30 01:37:36,916 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:37:36,916 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:36] "[35m[1mGET /api/upload-csv HTTP/1.1[0m" 500 -
2024-11-30 01:37:36,918 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:37:36,918 - app - DEBUG - Request Body: b'{"username": "testuser_1732959456", "email": "test_1732959456@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:37,713 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:37:37,787 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:37] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:37:37,789 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:37:37,790 - app - DEBUG - Request Body: b'{"email": "test_1732959456@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:37,790 - app - INFO - Login attempt received with data: {"email": "test_1732959456@example.com", "password": "***"}
2024-11-30 01:37:38,013 - app - INFO - User found for login attempt - ID: 49, Username: testuser_1732959456
2024-11-30 01:37:38,232 - app - INFO - Password check result for user testuser_1732959456: valid
2024-11-30 01:37:38,232 - app - INFO - Token generated successfully for user testuser_1732959456
2024-11-30 01:37:38,232 - app - INFO - Login successful for user testuser_1732959456
2024-11-30 01:37:38,232 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:37:38,310 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:38] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:37:38,312 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0OSwiZXhwIjoxNzMzMDQ1ODU4fQ.wFdh4qlZ13BUz1MIG2etvJOFNW2qq50EAvjKASNuOug
Content-Length: 2
Content-Type: application/json


2024-11-30 01:37:38,312 - app - DEBUG - Request Body: b'{}'
2024-11-30 01:37:38,611 - app - ERROR - Error in create_lead: 
2024-11-30 01:37:38,611 - app - ERROR - Unexpected error in token validation: 
2024-11-30 01:37:38,611 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:37:38,611 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:38] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:37:38,613 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:37:38,614 - app - DEBUG - Request Body: b'{"username": "testuser_1732959458", "email": "test_1732959458@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:39,432 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:37:39,505 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:39] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:37:39,508 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:37:39,509 - app - DEBUG - Request Body: b'{"email": "test_1732959458@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:39,509 - app - INFO - Login attempt received with data: {"email": "test_1732959458@example.com", "password": "***"}
2024-11-30 01:37:39,732 - app - INFO - User found for login attempt - ID: 50, Username: testuser_1732959458
2024-11-30 01:37:39,953 - app - INFO - Password check result for user testuser_1732959458: valid
2024-11-30 01:37:39,953 - app - INFO - Token generated successfully for user testuser_1732959458
2024-11-30 01:37:39,953 - app - INFO - Login successful for user testuser_1732959458
2024-11-30 01:37:39,953 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:37:40,027 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:40] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:37:40,029 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MCwiZXhwIjoxNzMzMDQ1ODU5fQ.dIvvYnj3wuxVAMhc1jCNPyQXQ9q6jW6dqKgDAYsuhF0


2024-11-30 01:37:40,029 - app - DEBUG - Request Body: b''
2024-11-30 01:37:40,323 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 50}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:37:40,323 - app - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 50}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 01:37:40,324 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:37:40,398 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:40] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 01:37:40,400 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 01:37:40,400 - app - DEBUG - Request Body: b'{"username": "testuser_1732959460", "email": "test_1732959460@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:41,198 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 01:37:41,273 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:41] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 01:37:41,276 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 01:37:41,276 - app - DEBUG - Request Body: b'{"email": "test_1732959460@example.com", "password": "Test#Pass123!"}'
2024-11-30 01:37:41,276 - app - INFO - Login attempt received with data: {"email": "test_1732959460@example.com", "password": "***"}
2024-11-30 01:37:41,499 - app - INFO - User found for login attempt - ID: 51, Username: testuser_1732959460
2024-11-30 01:37:41,716 - app - INFO - Password check result for user testuser_1732959460: valid
2024-11-30 01:37:41,716 - app - INFO - Token generated successfully for user testuser_1732959460
2024-11-30 01:37:41,716 - app - INFO - Login successful for user testuser_1732959460
2024-11-30 01:37:41,717 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:37:41,792 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:41] "POST /api/login HTTP/1.1" 200 -
2024-11-30 01:37:41,796 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MSwiZXhwIjoxNzMzMDQ1ODYxfQ.F2rCTtWaPEJJ1d3x3SqycySMoypfVItnrVuytR7MSFU
Content-Length: 236
Content-Type: multipart/form-data; boundary=47c901e62880e239623d7c57e53711ca


2024-11-30 01:37:41,796 - app - DEBUG - Request Body: b'--47c901e62880e239623d7c57e53711ca\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--47c901e62880e239623d7c57e53711ca--\r\n'
2024-11-30 01:37:42,095 - app - ERROR - Error in upload_csv: 'company' is an invalid keyword argument for Lead
2024-11-30 01:37:42,096 - app - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 01:37:42,096 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 01:37:42,096 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 01:37:42] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 01:38:31,784 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 01:38:31,852 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:38:32,106 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:38:32,106 - __main__ - INFO - Starting database initialization...
2024-11-30 01:38:32,106 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:38:32,106 - database - INFO - Initializing database connection...
2024-11-30 01:38:33,426 - database - INFO - Database connection test successful
2024-11-30 01:38:34,197 - database - INFO - Database tables created successfully
2024-11-30 01:38:34,273 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:38:34,354 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:38:34,359 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:51:33,218 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/auth.py', reloading
2024-11-30 01:51:33,300 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:51:33,627 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:51:33,627 - __main__ - INFO - Starting database initialization...
2024-11-30 01:51:33,627 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:51:33,627 - database - INFO - Initializing database connection...
2024-11-30 01:51:35,712 - database - INFO - Database connection test successful
2024-11-30 01:51:36,481 - database - INFO - Database tables created successfully
2024-11-30 01:51:36,573 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:51:36,658 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:51:36,664 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:51:51,207 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 01:51:51,268 - werkzeug - INFO -  * Restarting with stat
2024-11-30 01:51:51,505 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 01:51:51,505 - __main__ - INFO - Starting database initialization...
2024-11-30 01:51:51,505 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 01:51:51,505 - database - INFO - Initializing database connection...
2024-11-30 01:51:52,829 - database - INFO - Database connection test successful
2024-11-30 01:51:53,602 - database - INFO - Database tables created successfully
2024-11-30 01:51:53,680 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 01:51:53,763 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 01:51:53,768 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 01:53:41,576 - werkzeug - ERROR - 165.154.59.118 - - [30/Nov/2024 01:53:41] code 400, message Bad request version ('\x00\x9eÌ¨Ìª\x003\x00=\x00\x16À')
2024-11-30 01:53:41,577 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:53:41] "[35m[1m\x16\x03\x01\x01\x17\x01\x00\x01\x13\x03\x03\x7f®\x08NL\x99ZÀ «\x16ú½X>6úbrÅ§\x07\x85è¨\x93\x09ä¦T\x1bá ¾Ý# ´l:^§6:B#\x93/\x98\x7få\x97þ(Â\x14ç-U¢f²*X$\x004Ì¨Ì©À/À0À+À,À\x09\x00\x9eÌ¨Ìª\x003\x00=\x00\x16À[0m" HTTPStatus.BAD_REQUEST -
2024-11-30 01:54:02,123 - werkzeug - ERROR - 165.154.59.118 - - [30/Nov/2024 01:54:02] code 400, message Bad request version ('GetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00')
2024-11-30 01:54:02,123 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:54:02] "[35m[1m\x00\x00\x00\x1f\x00\x00\x00\x00\x00\x00\x00\x0cGetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00[0m" HTTPStatus.BAD_REQUEST -
2024-11-30 01:54:02,290 - app - DEBUG - Request Headers: Host: 169.231.162.40:5002
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0


2024-11-30 01:54:02,290 - app - DEBUG - Request Body: b''
2024-11-30 01:54:02,290 - app - DEBUG - Request Headers: {'Host': '169.231.162.40:5002', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0'}
2024-11-30 01:54:02,296 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:54:02,296 - app - DEBUG - Response Headers: {'Content-Type': 'text/html; charset=utf-8', 'Content-Length': '489', 'Access-Control-Allow-Origin': '*'}
2024-11-30 01:54:02,296 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:54:02,298 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:54:02] "GET / HTTP/1.1" 200 -
2024-11-30 01:54:02,655 - app - DEBUG - Request Headers: Host: 169.231.162.40:5002
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Accept-Encoding: gzip


2024-11-30 01:54:02,656 - app - DEBUG - Request Body: b''
2024-11-30 01:54:02,656 - app - DEBUG - Request Headers: {'Host': '169.231.162.40:5002', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Accept-Encoding': 'gzip'}
2024-11-30 01:54:02,656 - app - ERROR - index.html not found in /Users/joshuahopkins/Desktop/FollowMyLead20/static
2024-11-30 01:54:02,656 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:02,656 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 01:54:02,656 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:02,656 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:54:02] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 500 -
2024-11-30 01:54:03,015 - app - DEBUG - Request Headers: Host: 169.231.162.40:5002
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Accept-Encoding: gzip


2024-11-30 01:54:03,015 - app - DEBUG - Request Body: b''
2024-11-30 01:54:03,015 - app - DEBUG - Request Headers: {'Host': '169.231.162.40:5002', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Accept-Encoding': 'gzip'}
2024-11-30 01:54:03,015 - app - ERROR - index.html not found in /Users/joshuahopkins/Desktop/FollowMyLead20/static
2024-11-30 01:54:03,015 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:03,015 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 01:54:03,015 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:03,015 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:54:03] "[35m[1mGET /robots.txt HTTP/1.1[0m" 500 -
2024-11-30 01:54:03,372 - app - DEBUG - Request Headers: Host: 169.231.162.40:5002
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Accept-Encoding: gzip


2024-11-30 01:54:03,373 - app - DEBUG - Request Body: b''
2024-11-30 01:54:03,373 - app - DEBUG - Request Headers: {'Host': '169.231.162.40:5002', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Accept-Encoding': 'gzip'}
2024-11-30 01:54:03,373 - app - ERROR - index.html not found in /Users/joshuahopkins/Desktop/FollowMyLead20/static
2024-11-30 01:54:03,373 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:03,373 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 01:54:03,373 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:03,373 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:54:03] "[35m[1mGET /sitemap.xml HTTP/1.1[0m" 500 -
2024-11-30 01:54:03,722 - app - DEBUG - Request Headers: Host: 169.231.162.40:5002
User-Agent: Go-http-client/1.1
Accept-Encoding: gzip


2024-11-30 01:54:03,722 - app - DEBUG - Request Body: b''
2024-11-30 01:54:03,722 - app - DEBUG - Request Headers: {'Host': '169.231.162.40:5002', 'User-Agent': 'Go-http-client/1.1', 'Accept-Encoding': 'gzip'}
2024-11-30 01:54:03,725 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:54:03,725 - app - DEBUG - Response Headers: {'Content-Disposition': 'inline; filename=bundle.js', 'Content-Type': 'text/javascript; charset=utf-8', 'Content-Length': '235507', 'Last-Modified': 'Sat, 30 Nov 2024 09:12:28 GMT', 'Cache-Control': 'no-cache', 'ETag': '"1732957948.0-235507-4275902391"', 'Date': 'Sat, 30 Nov 2024 09:54:03 GMT', 'Access-Control-Allow-Origin': '*'}
2024-11-30 01:54:03,725 - app - DEBUG - Response Status: 200 OK
2024-11-30 01:54:03,725 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:54:03] "GET /static/js/bundle.js HTTP/1.1" 200 -
2024-11-30 01:54:04,913 - app - DEBUG - Request Headers: Host: 169.231.162.40:5002
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Accept-Encoding: gzip


2024-11-30 01:54:04,914 - app - DEBUG - Request Body: b''
2024-11-30 01:54:04,914 - app - DEBUG - Request Headers: {'Host': '169.231.162.40:5002', 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_0) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.56 Safari/535.11', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Accept-Encoding': 'gzip'}
2024-11-30 01:54:04,915 - app - ERROR - index.html not found in /Users/joshuahopkins/Desktop/FollowMyLead20/static
2024-11-30 01:54:04,915 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:04,915 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 01:54:04,916 - app - DEBUG - Response Status: 500 INTERNAL SERVER ERROR
2024-11-30 01:54:04,916 - werkzeug - INFO - 165.154.59.118 - - [30/Nov/2024 01:54:04] "[35m[1mGET /config.json HTTP/1.1[0m" 500 -
2024-11-30 02:17:08,619 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 02:17:08,690 - werkzeug - INFO -  * Restarting with stat
2024-11-30 02:17:08,990 - __main__ - INFO - Using SECRET_KEY: generated
2024-11-30 02:17:08,990 - __main__ - INFO - Starting database initialization...
2024-11-30 02:17:08,990 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 02:17:08,990 - database - INFO - Initializing database connection...
2024-11-30 02:17:11,179 - database - INFO - Database connection test successful
2024-11-30 02:17:11,960 - database - INFO - Database tables created successfully
2024-11-30 02:17:12,049 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 02:17:12,129 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 02:17:12,134 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 02:19:43,227 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 02:19:43,227 - app - DEBUG - Request Body: b'{"username": "testuser_1732961983", "email": "test_1732961983@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:19:43,228 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '104', 'Content-Type': 'application/json'}
2024-11-30 02:19:43,228 - app - DEBUG - Request JSON: {'username': 'testuser_1732961983', 'email': 'test_1732961983@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:19:44,068 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:19:44,068 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '209', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:44,068 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:19:44,142 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:44] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:19:44,144 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:19:44,145 - app - DEBUG - Request Body: b'{"email": "test_1732961983@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:19:44,145 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:19:44,145 - app - DEBUG - Request JSON: {'email': 'test_1732961983@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:19:44,572 - app - INFO - Token generated successfully for user testuser_1732961983
2024-11-30 02:19:44,572 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:19:44,572 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:44,572 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:19:44,646 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:44] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:19:44,648 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:19:44,649 - app - DEBUG - Request Body: b''
2024-11-30 02:19:44,649 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:19:44,870 - __main__ - INFO - Database connection test successful
2024-11-30 02:19:44,871 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:19:44,871 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '53', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:44,871 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:19:44,944 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:44] "GET /api/health HTTP/1.1" 200 -
2024-11-30 02:19:44,947 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:19:44,947 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:19:44,947 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:19:44,947 - app - DEBUG - Request JSON: {}
2024-11-30 02:19:44,948 - app - ERROR - Registration error: 
2024-11-30 02:19:44,948 - app - WARNING - Validation error: 
2024-11-30 02:19:44,948 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:44,948 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:44,948 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:44,948 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:44] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:19:44,950 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 02:19:44,950 - app - DEBUG - Request Body: b'{"username": "testuser_1732961983", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 02:19:44,950 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '90', 'Content-Type': 'application/json'}
2024-11-30 02:19:44,950 - app - DEBUG - Request JSON: {'username': 'testuser_1732961983', 'email': 'invalid_email', 'password': 'Test#Pass123!'}
2024-11-30 02:19:44,950 - app - ERROR - Registration error: 
2024-11-30 02:19:44,950 - app - WARNING - Validation error: 
2024-11-30 02:19:44,950 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:44,950 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:44,950 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:44,951 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:44] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:19:44,952 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 02:19:44,953 - app - DEBUG - Request Body: b'{"username": "testuser_1732961983", "email": "test_1732961983@example.com", "password": "weak"}'
2024-11-30 02:19:44,953 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '95', 'Content-Type': 'application/json'}
2024-11-30 02:19:44,953 - app - DEBUG - Request JSON: {'username': 'testuser_1732961983', 'email': 'test_1732961983@example.com', 'password': 'weak'}
2024-11-30 02:19:44,953 - app - ERROR - Registration error: 
2024-11-30 02:19:44,953 - app - WARNING - Validation error: 
2024-11-30 02:19:44,953 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:44,953 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:44,953 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:44,953 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:44] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:19:44,955 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 106
Content-Type: application/json


2024-11-30 02:19:44,955 - app - DEBUG - Request Body: b'{"username": "testuser2_1732961984", "email": "test2_1732961984@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:19:44,955 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '106', 'Content-Type': 'application/json'}
2024-11-30 02:19:44,955 - app - DEBUG - Request JSON: {'username': 'testuser2_1732961984', 'email': 'test2_1732961984@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:19:45,752 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:19:45,752 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '211', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:45,752 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:19:45,825 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:45] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:19:45,830 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:19:45,830 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:19:45,830 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:19:45,830 - app - DEBUG - Request JSON: {}
2024-11-30 02:19:45,830 - app - WARNING - Login attempt with no data
2024-11-30 02:19:45,830 - app - WARNING - Validation error during login: 
2024-11-30 02:19:45,830 - app - WARNING - Validation error: 
2024-11-30 02:19:45,830 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:45,830 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:45,830 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:19:45,830 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:45] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 02:19:45,832 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 02:19:45,832 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 02:19:45,833 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '65', 'Content-Type': 'application/json'}
2024-11-30 02:19:45,833 - app - DEBUG - Request JSON: {'email': 'nonexistent@example.com', 'password': 'WrongPass123!'}
2024-11-30 02:19:46,056 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 02:19:46,056 - app - WARNING - Authentication error during login: 
2024-11-30 02:19:46,056 - app - WARNING - Authentication error: 
2024-11-30 02:19:46,056 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:46,056 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:46,056 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:46,130 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:46] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 02:19:46,133 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:19:46,133 - app - DEBUG - Request Body: b'{"email": "test_1732961983@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:19:46,133 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:19:46,133 - app - DEBUG - Request JSON: {'email': 'test_1732961983@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:19:46,561 - app - INFO - Token generated successfully for user testuser_1732961983
2024-11-30 02:19:46,561 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:19:46,561 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:46,561 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:19:46,636 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:46] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:19:46,643 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:19:46,643 - app - DEBUG - Request Body: b''
2024-11-30 02:19:46,643 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:19:46,643 - auth - WARNING - No Authorization header present
2024-11-30 02:19:46,643 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:46,643 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '34', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:46,643 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:46,644 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:46] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:19:46,645 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:19:46,646 - app - DEBUG - Request Body: b''
2024-11-30 02:19:46,646 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:19:46,646 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:19:46,646 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:46,646 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:19:46,646 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:46] "[33mGET /api/upload-csv HTTP/1.1[0m" 404 -
2024-11-30 02:19:46,666 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MiwiZXhwIjoxNzMzMDQ4Mzg0fQ.RFwMA5yU5heF1kwg6ftQ83UZlXygnVOZnF9i_1NvDqk
Content-Length: 2
Content-Type: application/json


2024-11-30 02:19:46,666 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:19:46,666 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MiwiZXhwIjoxNzMzMDQ4Mzg0fQ.RFwMA5yU5heF1kwg6ftQ83UZlXygnVOZnF9i_1NvDqk', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:19:46,666 - app - DEBUG - Request JSON: {}
2024-11-30 02:19:46,888 - app - WARNING - Validation error in create_lead: 
2024-11-30 02:19:46,962 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:19:46,964 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:46,964 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:46,964 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:46,964 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:46] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:19:46,972 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MiwiZXhwIjoxNzMzMDQ4Mzg0fQ.RFwMA5yU5heF1kwg6ftQ83UZlXygnVOZnF9i_1NvDqk


2024-11-30 02:19:46,972 - app - DEBUG - Request Body: b''
2024-11-30 02:19:46,972 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MiwiZXhwIjoxNzMzMDQ4Mzg0fQ.RFwMA5yU5heF1kwg6ftQ83UZlXygnVOZnF9i_1NvDqk'}
2024-11-30 02:19:47,265 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 52}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:19:47,265 - auth - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 52}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:19:47,265 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:47,265 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:47,265 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:47,339 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:47] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:19:47,346 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MiwiZXhwIjoxNzMzMDQ4Mzg0fQ.RFwMA5yU5heF1kwg6ftQ83UZlXygnVOZnF9i_1NvDqk
Content-Length: 236
Content-Type: multipart/form-data; boundary=b0e7ecd829cc3182480001d395edeee4


2024-11-30 02:19:47,346 - app - DEBUG - Request Body: b'--b0e7ecd829cc3182480001d395edeee4\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--b0e7ecd829cc3182480001d395edeee4--\r\n'
2024-11-30 02:19:47,346 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1MiwiZXhwIjoxNzMzMDQ4Mzg0fQ.RFwMA5yU5heF1kwg6ftQ83UZlXygnVOZnF9i_1NvDqk', 'Content-Length': '236', 'Content-Type': 'multipart/form-data; boundary=b0e7ecd829cc3182480001d395edeee4'}
2024-11-30 02:19:47,347 - app - DEBUG - Request Files: {'file': <FileStorage: 'test_leads.csv' ('text/csv')>}
2024-11-30 02:19:47,570 - app - ERROR - Error processing CSV data: 'company' is an invalid keyword argument for Lead
2024-11-30 02:19:47,570 - app - WARNING - Validation error in upload_csv: 
2024-11-30 02:19:47,646 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:19:47,646 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:47,646 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:19:47,646 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:19:47,646 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:19:47] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 02:20:21,177 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 02:20:21,245 - werkzeug - INFO -  * Restarting with stat
2024-11-30 02:20:21,511 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 02:20:21,511 - __main__ - INFO - Starting database initialization...
2024-11-30 02:20:21,511 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 02:20:21,511 - database - INFO - Initializing database connection...
2024-11-30 02:20:22,845 - database - INFO - Database connection test successful
2024-11-30 02:20:23,601 - database - INFO - Database tables created successfully
2024-11-30 02:20:23,679 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 02:20:23,762 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 02:20:23,766 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 02:21:20,508 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 02:21:20,508 - __main__ - INFO - Starting database initialization...
2024-11-30 02:21:20,508 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 02:21:20,508 - database - INFO - Initializing database connection...
2024-11-30 02:21:21,801 - database - INFO - Database connection test successful
2024-11-30 02:21:22,555 - database - INFO - Database tables created successfully
2024-11-30 02:21:22,631 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 02:21:59,944 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 02:21:59,945 - app - DEBUG - Request Body: b'{"username": "testuser_1732962119", "email": "test_1732962119@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:21:59,945 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '104', 'Content-Type': 'application/json'}
2024-11-30 02:21:59,945 - app - DEBUG - Request JSON: {'username': 'testuser_1732962119', 'email': 'test_1732962119@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:22:00,753 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:22:00,753 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '209', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:00,753 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:22:00,828 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:00] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:22:00,831 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:22:00,832 - app - DEBUG - Request Body: b'{"email": "test_1732962119@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:22:00,832 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:22:00,832 - app - DEBUG - Request JSON: {'email': 'test_1732962119@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:22:01,254 - app - INFO - Token generated successfully for user testuser_1732962119
2024-11-30 02:22:01,254 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:22:01,254 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:01,254 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:22:01,328 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:01] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:22:01,331 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:22:01,331 - app - DEBUG - Request Body: b''
2024-11-30 02:22:01,331 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:22:01,555 - __main__ - INFO - Database connection test successful
2024-11-30 02:22:01,555 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:22:01,555 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '53', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:01,555 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:22:01,630 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:01] "GET /api/health HTTP/1.1" 200 -
2024-11-30 02:22:01,640 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:22:01,640 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:22:01,640 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:22:01,641 - app - DEBUG - Request JSON: {}
2024-11-30 02:22:01,641 - app - ERROR - Registration error: 
2024-11-30 02:22:01,641 - app - WARNING - Validation error: 
2024-11-30 02:22:01,641 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:01,641 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:01,641 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:01,641 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:01] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:22:01,649 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 02:22:01,649 - app - DEBUG - Request Body: b'{"username": "testuser_1732962119", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 02:22:01,649 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '90', 'Content-Type': 'application/json'}
2024-11-30 02:22:01,649 - app - DEBUG - Request JSON: {'username': 'testuser_1732962119', 'email': 'invalid_email', 'password': 'Test#Pass123!'}
2024-11-30 02:22:01,649 - app - ERROR - Registration error: 
2024-11-30 02:22:01,649 - app - WARNING - Validation error: 
2024-11-30 02:22:01,649 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:01,649 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:01,649 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:01,649 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:01] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:22:01,651 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 02:22:01,652 - app - DEBUG - Request Body: b'{"username": "testuser_1732962119", "email": "test_1732962119@example.com", "password": "weak"}'
2024-11-30 02:22:01,652 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '95', 'Content-Type': 'application/json'}
2024-11-30 02:22:01,652 - app - DEBUG - Request JSON: {'username': 'testuser_1732962119', 'email': 'test_1732962119@example.com', 'password': 'weak'}
2024-11-30 02:22:01,652 - app - ERROR - Registration error: 
2024-11-30 02:22:01,652 - app - WARNING - Validation error: 
2024-11-30 02:22:01,652 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:01,652 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:01,652 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:01,652 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:01] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:22:01,655 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 106
Content-Type: application/json


2024-11-30 02:22:01,655 - app - DEBUG - Request Body: b'{"username": "testuser2_1732962121", "email": "test2_1732962121@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:22:01,655 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '106', 'Content-Type': 'application/json'}
2024-11-30 02:22:01,655 - app - DEBUG - Request JSON: {'username': 'testuser2_1732962121', 'email': 'test2_1732962121@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:22:02,479 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:22:02,479 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '211', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:02,479 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:22:02,553 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:02] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:22:02,557 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:22:02,557 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:22:02,557 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:22:02,557 - app - DEBUG - Request JSON: {}
2024-11-30 02:22:02,557 - app - WARNING - Login attempt with no data
2024-11-30 02:22:02,557 - app - WARNING - Validation error during login: 
2024-11-30 02:22:02,557 - app - WARNING - Validation error: 
2024-11-30 02:22:02,558 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:02,558 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:02,558 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:22:02,558 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:02] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 02:22:02,560 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 02:22:02,560 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 02:22:02,560 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '65', 'Content-Type': 'application/json'}
2024-11-30 02:22:02,560 - app - DEBUG - Request JSON: {'email': 'nonexistent@example.com', 'password': 'WrongPass123!'}
2024-11-30 02:22:02,782 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 02:22:02,782 - app - WARNING - Authentication error during login: 
2024-11-30 02:22:02,782 - app - WARNING - Authentication error: 
2024-11-30 02:22:02,782 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:02,782 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:02,782 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:02,856 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:02] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 02:22:02,859 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:22:02,859 - app - DEBUG - Request Body: b'{"email": "test_1732962119@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:22:02,859 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:22:02,859 - app - DEBUG - Request JSON: {'email': 'test_1732962119@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:22:03,284 - app - INFO - Token generated successfully for user testuser_1732962119
2024-11-30 02:22:03,285 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:22:03,285 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:03,285 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:22:03,360 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:03] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:22:03,363 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:22:03,363 - app - DEBUG - Request Body: b''
2024-11-30 02:22:03,363 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:22:03,363 - auth - WARNING - No Authorization header present
2024-11-30 02:22:03,363 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:03,363 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '34', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:03,363 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:03,363 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:03] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:22:03,365 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:22:03,365 - app - DEBUG - Request Body: b''
2024-11-30 02:22:03,365 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:22:03,366 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:22:03,366 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:03,366 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:22:03,366 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:03] "[33mGET /api/upload-csv HTTP/1.1[0m" 404 -
2024-11-30 02:22:03,388 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NCwiZXhwIjoxNzMzMDQ4NTIxfQ.Jy_0iHNOH44u-oDDpZ8QIdWOufiWdwM76EZWjJj5Ab8
Content-Length: 2
Content-Type: application/json


2024-11-30 02:22:03,388 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:22:03,388 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NCwiZXhwIjoxNzMzMDQ4NTIxfQ.Jy_0iHNOH44u-oDDpZ8QIdWOufiWdwM76EZWjJj5Ab8', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:22:03,388 - app - DEBUG - Request JSON: {}
2024-11-30 02:22:03,610 - app - WARNING - Validation error in create_lead: 
2024-11-30 02:22:03,684 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:22:03,684 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:03,684 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:03,684 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:03,684 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:03] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:22:03,691 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NCwiZXhwIjoxNzMzMDQ4NTIxfQ.Jy_0iHNOH44u-oDDpZ8QIdWOufiWdwM76EZWjJj5Ab8


2024-11-30 02:22:03,691 - app - DEBUG - Request Body: b''
2024-11-30 02:22:03,691 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NCwiZXhwIjoxNzMzMDQ4NTIxfQ.Jy_0iHNOH44u-oDDpZ8QIdWOufiWdwM76EZWjJj5Ab8'}
2024-11-30 02:22:03,991 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 54}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:22:03,991 - auth - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 54}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:22:03,991 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:03,991 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:03,991 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:04,067 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:04] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:22:04,073 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NCwiZXhwIjoxNzMzMDQ4NTIxfQ.Jy_0iHNOH44u-oDDpZ8QIdWOufiWdwM76EZWjJj5Ab8
Content-Length: 236
Content-Type: multipart/form-data; boundary=4d06b3a4630e69dee6a0088fc9fefeb1


2024-11-30 02:22:04,073 - app - DEBUG - Request Body: b'--4d06b3a4630e69dee6a0088fc9fefeb1\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--4d06b3a4630e69dee6a0088fc9fefeb1--\r\n'
2024-11-30 02:22:04,073 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NCwiZXhwIjoxNzMzMDQ4NTIxfQ.Jy_0iHNOH44u-oDDpZ8QIdWOufiWdwM76EZWjJj5Ab8', 'Content-Length': '236', 'Content-Type': 'multipart/form-data; boundary=4d06b3a4630e69dee6a0088fc9fefeb1'}
2024-11-30 02:22:04,074 - app - DEBUG - Request Files: {'file': <FileStorage: 'test_leads.csv' ('text/csv')>}
2024-11-30 02:22:04,296 - app - ERROR - Error processing CSV data: 'company' is an invalid keyword argument for Lead
2024-11-30 02:22:04,296 - app - WARNING - Validation error in upload_csv: 
2024-11-30 02:22:04,369 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:22:04,370 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:04,370 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:22:04,370 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:22:04,370 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:22:04] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 02:22:26,955 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 02:22:27,028 - werkzeug - INFO -  * Restarting with stat
2024-11-30 02:22:27,274 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 02:22:27,274 - __main__ - INFO - Starting database initialization...
2024-11-30 02:22:27,274 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 02:22:27,274 - database - INFO - Initializing database connection...
2024-11-30 02:22:28,605 - database - INFO - Database connection test successful
2024-11-30 02:22:29,378 - database - INFO - Database tables created successfully
2024-11-30 02:22:29,454 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 02:22:29,535 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 02:22:29,541 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 02:38:05,495 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 02:38:05,495 - __main__ - INFO - Starting database initialization...
2024-11-30 02:38:05,495 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 02:38:05,495 - database - INFO - Initializing database connection...
2024-11-30 02:38:08,539 - database - INFO - Database connection test successful
2024-11-30 02:38:09,664 - database - INFO - Database tables created successfully
2024-11-30 02:38:09,772 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 02:38:18,157 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 02:38:18,158 - app - DEBUG - Request Body: b'{"username": "testuser_1732963098", "email": "test_1732963098@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:38:18,158 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '104', 'Content-Type': 'application/json'}
2024-11-30 02:38:18,158 - app - DEBUG - Request JSON: {'username': 'testuser_1732963098', 'email': 'test_1732963098@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:38:19,776 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:38:19,776 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '209', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:19,776 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:38:19,852 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:19] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:38:19,856 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:38:19,857 - app - DEBUG - Request Body: b'{"email": "test_1732963098@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:38:19,857 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:38:19,857 - app - DEBUG - Request JSON: {'email': 'test_1732963098@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:38:20,277 - app - INFO - Token generated successfully for user testuser_1732963098
2024-11-30 02:38:20,278 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:38:20,278 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:20,278 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:38:20,352 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:20] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:38:20,355 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:38:20,355 - app - DEBUG - Request Body: b''
2024-11-30 02:38:20,355 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:38:20,580 - __main__ - INFO - Database connection test successful
2024-11-30 02:38:20,581 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:38:20,581 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '53', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:20,581 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:38:20,697 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:20] "GET /api/health HTTP/1.1" 200 -
2024-11-30 02:38:20,700 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:38:20,701 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:38:20,701 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:38:20,701 - app - DEBUG - Request JSON: {}
2024-11-30 02:38:20,701 - app - ERROR - Registration error: 
2024-11-30 02:38:20,701 - app - WARNING - Validation error: 
2024-11-30 02:38:20,701 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:20,701 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:20,701 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:20,701 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:38:20,703 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 02:38:20,703 - app - DEBUG - Request Body: b'{"username": "testuser_1732963098", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 02:38:20,703 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '90', 'Content-Type': 'application/json'}
2024-11-30 02:38:20,703 - app - DEBUG - Request JSON: {'username': 'testuser_1732963098', 'email': 'invalid_email', 'password': 'Test#Pass123!'}
2024-11-30 02:38:20,703 - app - ERROR - Registration error: 
2024-11-30 02:38:20,703 - app - WARNING - Validation error: 
2024-11-30 02:38:20,703 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:20,703 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:20,703 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:20,704 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:38:20,705 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 02:38:20,705 - app - DEBUG - Request Body: b'{"username": "testuser_1732963098", "email": "test_1732963098@example.com", "password": "weak"}'
2024-11-30 02:38:20,705 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '95', 'Content-Type': 'application/json'}
2024-11-30 02:38:20,705 - app - DEBUG - Request JSON: {'username': 'testuser_1732963098', 'email': 'test_1732963098@example.com', 'password': 'weak'}
2024-11-30 02:38:20,705 - app - ERROR - Registration error: 
2024-11-30 02:38:20,705 - app - WARNING - Validation error: 
2024-11-30 02:38:20,706 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:20,706 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:20,706 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:20,706 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:38:20,708 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 106
Content-Type: application/json


2024-11-30 02:38:20,708 - app - DEBUG - Request Body: b'{"username": "testuser2_1732963100", "email": "test2_1732963100@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:38:20,708 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '106', 'Content-Type': 'application/json'}
2024-11-30 02:38:20,708 - app - DEBUG - Request JSON: {'username': 'testuser2_1732963100', 'email': 'test2_1732963100@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:38:21,978 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:38:21,978 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '211', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:21,978 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:38:22,140 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:22] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:38:22,152 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:38:22,152 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:38:22,152 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:38:22,152 - app - DEBUG - Request JSON: {}
2024-11-30 02:38:22,152 - app - WARNING - Login attempt with no data
2024-11-30 02:38:22,152 - app - WARNING - Validation error during login: 
2024-11-30 02:38:22,152 - app - WARNING - Validation error: 
2024-11-30 02:38:22,153 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:22,153 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:22,153 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:38:22,153 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:22] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 02:38:22,159 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 02:38:22,160 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 02:38:22,160 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '65', 'Content-Type': 'application/json'}
2024-11-30 02:38:22,160 - app - DEBUG - Request JSON: {'email': 'nonexistent@example.com', 'password': 'WrongPass123!'}
2024-11-30 02:38:22,644 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 02:38:22,644 - app - WARNING - Authentication error during login: 
2024-11-30 02:38:22,644 - app - WARNING - Authentication error: 
2024-11-30 02:38:22,645 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:22,645 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:22,646 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:22,821 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:22] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 02:38:22,824 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:38:22,824 - app - DEBUG - Request Body: b'{"email": "test_1732963098@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:38:22,824 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:38:22,824 - app - DEBUG - Request JSON: {'email': 'test_1732963098@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:38:23,527 - app - INFO - Token generated successfully for user testuser_1732963098
2024-11-30 02:38:23,527 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:38:23,527 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:23,527 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:38:23,678 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:23] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:38:23,683 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:38:23,683 - app - DEBUG - Request Body: b''
2024-11-30 02:38:23,683 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:38:23,683 - auth - WARNING - No Authorization header present
2024-11-30 02:38:23,683 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:23,683 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '34', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:23,683 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:23,683 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:23] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:38:23,686 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:38:23,686 - app - DEBUG - Request Body: b''
2024-11-30 02:38:23,686 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:38:23,686 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:38:23,686 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:23,686 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:38:23,686 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:23] "[33mGET /api/upload-csv HTTP/1.1[0m" 404 -
2024-11-30 02:38:23,706 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NiwiZXhwIjoxNzMzMDQ5NTAwfQ.7fQPX89ng83PrmbkOb1ovgozfX_Iymw5Z12DLbfvcv4
Content-Length: 2
Content-Type: application/json


2024-11-30 02:38:23,707 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:38:23,707 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NiwiZXhwIjoxNzMzMDQ5NTAwfQ.7fQPX89ng83PrmbkOb1ovgozfX_Iymw5Z12DLbfvcv4', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:38:23,707 - app - DEBUG - Request JSON: {}
2024-11-30 02:38:23,967 - app - WARNING - Validation error in create_lead: 
2024-11-30 02:38:24,069 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:38:24,069 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:24,069 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:24,069 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:24,069 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:24] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:38:24,076 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NiwiZXhwIjoxNzMzMDQ5NTAwfQ.7fQPX89ng83PrmbkOb1ovgozfX_Iymw5Z12DLbfvcv4


2024-11-30 02:38:24,076 - app - DEBUG - Request Body: b''
2024-11-30 02:38:24,076 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NiwiZXhwIjoxNzMzMDQ5NTAwfQ.7fQPX89ng83PrmbkOb1ovgozfX_Iymw5Z12DLbfvcv4'}
2024-11-30 02:38:24,583 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 56}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:38:24,584 - auth - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 56}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:38:24,584 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:24,584 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:24,584 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:24,721 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:24] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:38:24,730 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NiwiZXhwIjoxNzMzMDQ5NTAwfQ.7fQPX89ng83PrmbkOb1ovgozfX_Iymw5Z12DLbfvcv4
Content-Length: 236
Content-Type: multipart/form-data; boundary=c9794658c592221b304c107aa40439c9


2024-11-30 02:38:24,730 - app - DEBUG - Request Body: b'--c9794658c592221b304c107aa40439c9\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--c9794658c592221b304c107aa40439c9--\r\n'
2024-11-30 02:38:24,730 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1NiwiZXhwIjoxNzMzMDQ5NTAwfQ.7fQPX89ng83PrmbkOb1ovgozfX_Iymw5Z12DLbfvcv4', 'Content-Length': '236', 'Content-Type': 'multipart/form-data; boundary=c9794658c592221b304c107aa40439c9'}
2024-11-30 02:38:24,731 - app - DEBUG - Request Files: {'file': <FileStorage: 'test_leads.csv' ('text/csv')>}
2024-11-30 02:38:25,095 - app - ERROR - Error processing CSV data: 'company' is an invalid keyword argument for Lead
2024-11-30 02:38:25,095 - app - WARNING - Validation error in upload_csv: 
2024-11-30 02:38:25,225 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:38:25,226 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:25,227 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:38:25,227 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:38:25,227 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:38:25] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 02:38:51,250 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 02:38:51,302 - werkzeug - INFO -  * Restarting with stat
2024-11-30 02:38:51,602 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 02:38:51,602 - __main__ - INFO - Starting database initialization...
2024-11-30 02:38:51,602 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 02:38:51,602 - database - INFO - Initializing database connection...
2024-11-30 02:38:52,921 - database - INFO - Database connection test successful
2024-11-30 02:38:53,676 - database - INFO - Database tables created successfully
2024-11-30 02:38:53,752 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 02:38:53,833 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 02:38:53,838 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 02:39:01,184 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/test_api.py', reloading
2024-11-30 02:39:01,227 - werkzeug - INFO -  * Restarting with stat
2024-11-30 02:39:01,518 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 02:39:01,518 - __main__ - INFO - Starting database initialization...
2024-11-30 02:39:01,518 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 02:39:01,518 - database - INFO - Initializing database connection...
2024-11-30 02:39:02,863 - database - INFO - Database connection test successful
2024-11-30 02:39:03,650 - database - INFO - Database tables created successfully
2024-11-30 02:39:03,729 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 02:39:03,813 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 02:39:03,817 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 02:59:49,693 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 02:59:49,693 - app - DEBUG - Request Body: b'{"username": "testuser_1732964389", "email": "test_1732964389@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:59:49,694 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '104', 'Content-Type': 'application/json'}
2024-11-30 02:59:49,694 - app - DEBUG - Request JSON: {'username': 'testuser_1732964389', 'email': 'test_1732964389@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:59:52,050 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:59:52,050 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '209', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:52,051 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:59:52,126 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:52] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:59:52,130 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:59:52,131 - app - DEBUG - Request Body: b'{"email": "test_1732964389@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:59:52,131 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:59:52,131 - app - DEBUG - Request JSON: {'email': 'test_1732964389@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:59:52,563 - app - INFO - Token generated successfully for user testuser_1732964389
2024-11-30 02:59:52,563 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:59:52,563 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:52,563 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:59:52,640 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:52] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:59:52,643 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:59:52,643 - app - DEBUG - Request Body: b''
2024-11-30 02:59:52,643 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:59:52,872 - __main__ - INFO - Database connection test successful
2024-11-30 02:59:52,873 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:59:52,873 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '53', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:52,873 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:59:52,949 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:52] "GET /api/health HTTP/1.1" 200 -
2024-11-30 02:59:52,952 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:59:52,952 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:59:52,952 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:59:52,952 - app - DEBUG - Request JSON: {}
2024-11-30 02:59:52,952 - app - ERROR - Registration error: 
2024-11-30 02:59:52,952 - app - WARNING - Validation error: 
2024-11-30 02:59:52,952 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:52,952 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:52,952 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:52,952 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:52] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:59:52,954 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 02:59:52,954 - app - DEBUG - Request Body: b'{"username": "testuser_1732964389", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 02:59:52,954 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '90', 'Content-Type': 'application/json'}
2024-11-30 02:59:52,954 - app - DEBUG - Request JSON: {'username': 'testuser_1732964389', 'email': 'invalid_email', 'password': 'Test#Pass123!'}
2024-11-30 02:59:52,954 - app - ERROR - Registration error: 
2024-11-30 02:59:52,954 - app - WARNING - Validation error: 
2024-11-30 02:59:52,954 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:52,955 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:52,955 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:52,955 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:52] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:59:52,956 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 02:59:52,957 - app - DEBUG - Request Body: b'{"username": "testuser_1732964389", "email": "test_1732964389@example.com", "password": "weak"}'
2024-11-30 02:59:52,957 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '95', 'Content-Type': 'application/json'}
2024-11-30 02:59:52,957 - app - DEBUG - Request JSON: {'username': 'testuser_1732964389', 'email': 'test_1732964389@example.com', 'password': 'weak'}
2024-11-30 02:59:52,957 - app - ERROR - Registration error: 
2024-11-30 02:59:52,957 - app - WARNING - Validation error: 
2024-11-30 02:59:52,957 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:52,957 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:52,957 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:52,957 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:52] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 02:59:52,959 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 106
Content-Type: application/json


2024-11-30 02:59:52,959 - app - DEBUG - Request Body: b'{"username": "testuser2_1732964392", "email": "test2_1732964392@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:59:52,960 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '106', 'Content-Type': 'application/json'}
2024-11-30 02:59:52,960 - app - DEBUG - Request JSON: {'username': 'testuser2_1732964392', 'email': 'test2_1732964392@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:59:53,818 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:59:53,818 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '211', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:53,818 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 02:59:53,894 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:53] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 02:59:53,897 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 02:59:53,897 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:59:53,897 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:59:53,897 - app - DEBUG - Request JSON: {}
2024-11-30 02:59:53,898 - app - WARNING - Login attempt with no data
2024-11-30 02:59:53,898 - app - WARNING - Validation error during login: 
2024-11-30 02:59:53,898 - app - WARNING - Validation error: 
2024-11-30 02:59:53,898 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:53,898 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:53,898 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 02:59:53,898 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:53] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 02:59:53,901 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 02:59:53,901 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 02:59:53,901 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '65', 'Content-Type': 'application/json'}
2024-11-30 02:59:53,901 - app - DEBUG - Request JSON: {'email': 'nonexistent@example.com', 'password': 'WrongPass123!'}
2024-11-30 02:59:54,136 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 02:59:54,136 - app - WARNING - Authentication error during login: 
2024-11-30 02:59:54,137 - app - WARNING - Authentication error: 
2024-11-30 02:59:54,137 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:54,137 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:54,137 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:54,212 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:54] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 02:59:54,216 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 02:59:54,216 - app - DEBUG - Request Body: b'{"email": "test_1732964389@example.com", "password": "Test#Pass123!"}'
2024-11-30 02:59:54,216 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 02:59:54,216 - app - DEBUG - Request JSON: {'email': 'test_1732964389@example.com', 'password': 'Test#Pass123!'}
2024-11-30 02:59:54,700 - app - INFO - Token generated successfully for user testuser_1732964389
2024-11-30 02:59:54,700 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:59:54,700 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:54,700 - app - DEBUG - Response Status: 200 OK
2024-11-30 02:59:54,779 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:54] "POST /api/login HTTP/1.1" 200 -
2024-11-30 02:59:54,782 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:59:54,782 - app - DEBUG - Request Body: b''
2024-11-30 02:59:54,782 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:59:54,782 - auth - WARNING - No Authorization header present
2024-11-30 02:59:54,782 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:54,782 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '34', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:54,782 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:54,783 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:54] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:59:54,784 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 02:59:54,784 - app - DEBUG - Request Body: b''
2024-11-30 02:59:54,784 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 02:59:54,784 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:59:54,784 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:54,784 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 02:59:54,785 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:54] "[33mGET /api/upload-csv HTTP/1.1[0m" 404 -
2024-11-30 02:59:54,803 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1OCwiZXhwIjoxNzMzMDUwNzkyfQ.Nbv_VnnDrYEWzovNnUjA7mf_Xe0_X0dg8-tPP8RvTjE
Content-Length: 2
Content-Type: application/json


2024-11-30 02:59:54,803 - app - DEBUG - Request Body: b'{}'
2024-11-30 02:59:54,803 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1OCwiZXhwIjoxNzMzMDUwNzkyfQ.Nbv_VnnDrYEWzovNnUjA7mf_Xe0_X0dg8-tPP8RvTjE', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 02:59:54,803 - app - DEBUG - Request JSON: {}
2024-11-30 02:59:55,033 - app - WARNING - Validation error in create_lead: 
2024-11-30 02:59:55,109 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:59:55,109 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:55,109 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:55,109 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:55,109 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:55] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:59:55,117 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1OCwiZXhwIjoxNzMzMDUwNzkyfQ.Nbv_VnnDrYEWzovNnUjA7mf_Xe0_X0dg8-tPP8RvTjE


2024-11-30 02:59:55,117 - app - DEBUG - Request Body: b''
2024-11-30 02:59:55,117 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1OCwiZXhwIjoxNzMzMDUwNzkyfQ.Nbv_VnnDrYEWzovNnUjA7mf_Xe0_X0dg8-tPP8RvTjE'}
2024-11-30 02:59:55,425 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 58}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:59:55,425 - auth - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 58}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 02:59:55,425 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:55,425 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:55,425 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:55,501 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:55] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 02:59:55,508 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1OCwiZXhwIjoxNzMzMDUwNzkyfQ.Nbv_VnnDrYEWzovNnUjA7mf_Xe0_X0dg8-tPP8RvTjE
Content-Length: 236
Content-Type: multipart/form-data; boundary=1a0110c67b70bf418d7448c26987be55


2024-11-30 02:59:55,509 - app - DEBUG - Request Body: b'--1a0110c67b70bf418d7448c26987be55\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--1a0110c67b70bf418d7448c26987be55--\r\n'
2024-11-30 02:59:55,509 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1OCwiZXhwIjoxNzMzMDUwNzkyfQ.Nbv_VnnDrYEWzovNnUjA7mf_Xe0_X0dg8-tPP8RvTjE', 'Content-Length': '236', 'Content-Type': 'multipart/form-data; boundary=1a0110c67b70bf418d7448c26987be55'}
2024-11-30 02:59:55,509 - app - DEBUG - Request Files: {'file': <FileStorage: 'test_leads.csv' ('text/csv')>}
2024-11-30 02:59:55,738 - app - ERROR - Error processing CSV data: 'company' is an invalid keyword argument for Lead
2024-11-30 02:59:55,738 - app - WARNING - Validation error in upload_csv: 
2024-11-30 02:59:55,814 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 02:59:55,814 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:55,814 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 02:59:55,814 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 02:59:55,815 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 02:59:55] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 03:00:15,239 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/auth.py', reloading
2024-11-30 03:00:15,279 - werkzeug - INFO -  * Restarting with stat
2024-11-30 03:00:15,542 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 03:00:15,542 - __main__ - INFO - Starting database initialization...
2024-11-30 03:00:15,542 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 03:00:15,542 - database - INFO - Initializing database connection...
2024-11-30 03:00:16,988 - database - INFO - Database connection test successful
2024-11-30 03:00:17,826 - database - INFO - Database tables created successfully
2024-11-30 03:00:17,923 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 03:00:18,044 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 03:00:18,054 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 11:29:16,496 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 11:29:16,500 - app - DEBUG - Request Body: b'{"username": "testuser_1732994956", "email": "test_1732994956@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:29:16,500 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '104', 'Content-Type': 'application/json'}
2024-11-30 11:29:16,500 - app - DEBUG - Request JSON: {'username': 'testuser_1732994956', 'email': 'test_1732994956@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:29:19,565 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:29:19,565 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '209', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:19,565 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:29:19,650 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:19] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 11:29:19,655 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 11:29:19,655 - app - DEBUG - Request Body: b'{"email": "test_1732994956@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:29:19,655 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 11:29:19,655 - app - DEBUG - Request JSON: {'email': 'test_1732994956@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:29:20,155 - app - INFO - Token generated successfully for user testuser_1732994956
2024-11-30 11:29:20,155 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:29:20,155 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:20,155 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:29:20,237 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:20] "POST /api/login HTTP/1.1" 200 -
2024-11-30 11:29:20,251 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 11:29:20,251 - app - DEBUG - Request Body: b''
2024-11-30 11:29:20,251 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 11:29:20,559 - __main__ - INFO - Database connection test successful
2024-11-30 11:29:20,559 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:29:20,559 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '53', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:20,559 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:29:20,635 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:20] "GET /api/health HTTP/1.1" 200 -
2024-11-30 11:29:20,639 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 11:29:20,639 - app - DEBUG - Request Body: b'{}'
2024-11-30 11:29:20,639 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 11:29:20,639 - app - DEBUG - Request JSON: {}
2024-11-30 11:29:20,639 - app - ERROR - Registration error: 
2024-11-30 11:29:20,639 - app - WARNING - Validation error: 
2024-11-30 11:29:20,639 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:20,639 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:20,639 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:20,639 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 11:29:20,641 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 11:29:20,641 - app - DEBUG - Request Body: b'{"username": "testuser_1732994956", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 11:29:20,641 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '90', 'Content-Type': 'application/json'}
2024-11-30 11:29:20,641 - app - DEBUG - Request JSON: {'username': 'testuser_1732994956', 'email': 'invalid_email', 'password': 'Test#Pass123!'}
2024-11-30 11:29:20,641 - app - ERROR - Registration error: 
2024-11-30 11:29:20,641 - app - WARNING - Validation error: 
2024-11-30 11:29:20,642 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:20,642 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:20,642 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:20,642 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 11:29:20,644 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 11:29:20,644 - app - DEBUG - Request Body: b'{"username": "testuser_1732994956", "email": "test_1732994956@example.com", "password": "weak"}'
2024-11-30 11:29:20,644 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '95', 'Content-Type': 'application/json'}
2024-11-30 11:29:20,644 - app - DEBUG - Request JSON: {'username': 'testuser_1732994956', 'email': 'test_1732994956@example.com', 'password': 'weak'}
2024-11-30 11:29:20,644 - app - ERROR - Registration error: 
2024-11-30 11:29:20,645 - app - WARNING - Validation error: 
2024-11-30 11:29:20,645 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:20,645 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:20,645 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:20,645 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:20] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 11:29:20,663 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 106
Content-Type: application/json


2024-11-30 11:29:20,663 - app - DEBUG - Request Body: b'{"username": "testuser2_1732994960", "email": "test2_1732994960@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:29:20,663 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '106', 'Content-Type': 'application/json'}
2024-11-30 11:29:20,663 - app - DEBUG - Request JSON: {'username': 'testuser2_1732994960', 'email': 'test2_1732994960@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:29:21,536 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:29:21,536 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '211', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:21,536 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:29:21,612 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:21] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 11:29:21,615 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 11:29:21,615 - app - DEBUG - Request Body: b'{}'
2024-11-30 11:29:21,615 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 11:29:21,615 - app - DEBUG - Request JSON: {}
2024-11-30 11:29:21,615 - app - WARNING - Login attempt with no data
2024-11-30 11:29:21,615 - app - WARNING - Validation error during login: 
2024-11-30 11:29:21,615 - app - WARNING - Validation error: 
2024-11-30 11:29:21,615 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:21,615 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:21,615 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:29:21,615 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:21] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 11:29:21,617 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 11:29:21,617 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 11:29:21,617 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '65', 'Content-Type': 'application/json'}
2024-11-30 11:29:21,617 - app - DEBUG - Request JSON: {'email': 'nonexistent@example.com', 'password': 'WrongPass123!'}
2024-11-30 11:29:21,911 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 11:29:21,911 - app - WARNING - Authentication error during login: 
2024-11-30 11:29:21,911 - app - WARNING - Authentication error: 
2024-11-30 11:29:21,912 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:21,912 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:21,912 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:21,985 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:21] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 11:29:21,988 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 11:29:21,988 - app - DEBUG - Request Body: b'{"email": "test_1732994956@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:29:21,988 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 11:29:21,988 - app - DEBUG - Request JSON: {'email': 'test_1732994956@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:29:22,457 - app - INFO - Token generated successfully for user testuser_1732994956
2024-11-30 11:29:22,457 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:29:22,457 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '302', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:22,457 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:29:22,532 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:22] "POST /api/login HTTP/1.1" 200 -
2024-11-30 11:29:22,535 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 11:29:22,535 - app - DEBUG - Request Body: b''
2024-11-30 11:29:22,535 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 11:29:22,535 - auth - INFO - Received Authorization header: None
2024-11-30 11:29:22,535 - auth - WARNING - No Authorization header present
2024-11-30 11:29:22,535 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:22,535 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '34', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:22,535 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:22,535 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:22] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 11:29:22,537 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 11:29:22,537 - app - DEBUG - Request Body: b''
2024-11-30 11:29:22,537 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 11:29:22,537 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 11:29:22,537 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:22,537 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 11:29:22,538 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:22] "[33mGET /api/upload-csv HTTP/1.1[0m" 404 -
2024-11-30 11:29:22,556 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs
Content-Length: 2
Content-Type: application/json


2024-11-30 11:29:22,557 - app - DEBUG - Request Body: b'{}'
2024-11-30 11:29:22,557 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 11:29:22,557 - app - DEBUG - Request JSON: {}
2024-11-30 11:29:22,557 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs
2024-11-30 11:29:22,557 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs']
2024-11-30 11:29:22,557 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 11:29:22,557 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 11:29:22,557 - auth - INFO - Decoded token data: {'user_id': 60, 'exp': 1733081360}
2024-11-30 11:29:22,780 - auth - INFO - Successfully authenticated user: testuser_1732994956
2024-11-30 11:29:22,780 - app - WARNING - Validation error in create_lead: 
2024-11-30 11:29:22,857 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 11:29:22,857 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:22,857 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:22,857 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:22,857 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:22] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 11:29:22,867 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs


2024-11-30 11:29:22,867 - app - DEBUG - Request Body: b''
2024-11-30 11:29:22,867 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs'}
2024-11-30 11:29:22,867 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs
2024-11-30 11:29:22,867 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs']
2024-11-30 11:29:22,867 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 11:29:22,867 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 11:29:22,867 - auth - INFO - Decoded token data: {'user_id': 60, 'exp': 1733081360}
2024-11-30 11:29:23,110 - auth - INFO - Successfully authenticated user: testuser_1732994956
2024-11-30 11:29:23,193 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 60}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 11:29:23,193 - auth - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 60}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 11:29:23,193 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:23,193 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:23,193 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:23,270 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:23] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 11:29:23,276 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs
Content-Length: 236
Content-Type: multipart/form-data; boundary=1216e946c5eb8ff2643267b609e87294


2024-11-30 11:29:23,277 - app - DEBUG - Request Body: b'--1216e946c5eb8ff2643267b609e87294\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--1216e946c5eb8ff2643267b609e87294--\r\n'
2024-11-30 11:29:23,277 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs', 'Content-Length': '236', 'Content-Type': 'multipart/form-data; boundary=1216e946c5eb8ff2643267b609e87294'}
2024-11-30 11:29:23,277 - app - DEBUG - Request Files: {'file': <FileStorage: 'test_leads.csv' ('text/csv')>}
2024-11-30 11:29:23,277 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs
2024-11-30 11:29:23,277 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MCwiZXhwIjoxNzMzMDgxMzYwfQ.wt3FFr4yfbUBVUR60WhVjIOrwRqQBFwGW62W3qB2vQs']
2024-11-30 11:29:23,277 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 11:29:23,277 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 11:29:23,277 - auth - INFO - Decoded token data: {'user_id': 60, 'exp': 1733081360}
2024-11-30 11:29:23,581 - auth - INFO - Successfully authenticated user: testuser_1732994956
2024-11-30 11:29:23,581 - app - ERROR - Error processing CSV data: 'company' is an invalid keyword argument for Lead
2024-11-30 11:29:23,581 - app - WARNING - Validation error in upload_csv: 
2024-11-30 11:29:23,654 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 11:29:23,655 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:23,655 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:29:23,655 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:29:23,655 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:29:23] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 11:29:56,040 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/auth.py', reloading
2024-11-30 11:29:56,109 - werkzeug - INFO -  * Restarting with stat
2024-11-30 11:29:56,430 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 11:29:56,430 - __main__ - INFO - Starting database initialization...
2024-11-30 11:29:56,430 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 11:29:56,430 - database - INFO - Initializing database connection...
2024-11-30 11:29:57,767 - database - INFO - Database connection test successful
2024-11-30 11:29:58,566 - database - INFO - Database tables created successfully
2024-11-30 11:29:58,661 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 11:29:58,745 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 11:29:58,751 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 11:30:33,069 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/utils.py', reloading
2024-11-30 11:30:33,108 - werkzeug - INFO -  * Restarting with stat
2024-11-30 11:30:33,396 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 11:30:33,396 - __main__ - INFO - Starting database initialization...
2024-11-30 11:30:33,396 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 11:30:33,396 - database - INFO - Initializing database connection...
2024-11-30 11:30:35,113 - database - INFO - Database connection test successful
2024-11-30 11:30:36,194 - database - INFO - Database tables created successfully
2024-11-30 11:30:36,283 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 11:30:36,371 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 11:30:36,376 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 11:30:43,682 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 11:30:43,758 - werkzeug - INFO -  * Restarting with stat
2024-11-30 11:30:44,003 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 11:30:44,003 - __main__ - INFO - Starting database initialization...
2024-11-30 11:30:44,003 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 11:30:44,003 - database - INFO - Initializing database connection...
2024-11-30 11:30:46,732 - database - INFO - Database connection test successful
2024-11-30 11:30:47,848 - database - INFO - Database tables created successfully
2024-11-30 11:30:48,133 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 11:30:48,240 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 11:30:48,246 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 11:31:05,894 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 104
Content-Type: application/json


2024-11-30 11:31:05,895 - app - DEBUG - Request Body: b'{"username": "testuser_1732995065", "email": "test_1732995065@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:31:05,896 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '104', 'Content-Type': 'application/json'}
2024-11-30 11:31:05,896 - app - DEBUG - Request JSON: {'username': 'testuser_1732995065', 'email': 'test_1732995065@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:31:06,885 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:31:06,885 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '212', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:06,885 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:31:07,024 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:07] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 11:31:07,028 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 11:31:07,029 - app - DEBUG - Request Body: b'{"email": "test_1732995065@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:31:07,029 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 11:31:07,029 - app - DEBUG - Request JSON: {'email': 'test_1732995065@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:31:07,488 - app - INFO - Token generated successfully for user testuser_1732995065
2024-11-30 11:31:07,488 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:31:07,488 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '305', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:07,488 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:31:07,619 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:07] "POST /api/login HTTP/1.1" 200 -
2024-11-30 11:31:07,633 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 11:31:07,634 - app - DEBUG - Request Body: b''
2024-11-30 11:31:07,634 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 11:31:07,900 - __main__ - INFO - Database connection test successful
2024-11-30 11:31:07,900 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:31:07,900 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '53', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:07,900 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:31:08,056 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:08] "GET /api/health HTTP/1.1" 200 -
2024-11-30 11:31:08,059 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 11:31:08,059 - app - DEBUG - Request Body: b'{}'
2024-11-30 11:31:08,059 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 11:31:08,059 - app - DEBUG - Request JSON: {}
2024-11-30 11:31:08,059 - app - ERROR - Registration error: 
2024-11-30 11:31:08,059 - app - WARNING - Validation error: 
2024-11-30 11:31:08,059 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:08,059 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:08,059 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:08,060 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:08] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 11:31:08,062 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 90
Content-Type: application/json


2024-11-30 11:31:08,062 - app - DEBUG - Request Body: b'{"username": "testuser_1732995065", "email": "invalid_email", "password": "Test#Pass123!"}'
2024-11-30 11:31:08,062 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '90', 'Content-Type': 'application/json'}
2024-11-30 11:31:08,062 - app - DEBUG - Request JSON: {'username': 'testuser_1732995065', 'email': 'invalid_email', 'password': 'Test#Pass123!'}
2024-11-30 11:31:08,062 - app - ERROR - Registration error: 
2024-11-30 11:31:08,062 - app - WARNING - Validation error: 
2024-11-30 11:31:08,062 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:08,062 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:08,062 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:08,062 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:08] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 11:31:08,064 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 95
Content-Type: application/json


2024-11-30 11:31:08,064 - app - DEBUG - Request Body: b'{"username": "testuser_1732995065", "email": "test_1732995065@example.com", "password": "weak"}'
2024-11-30 11:31:08,064 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '95', 'Content-Type': 'application/json'}
2024-11-30 11:31:08,064 - app - DEBUG - Request JSON: {'username': 'testuser_1732995065', 'email': 'test_1732995065@example.com', 'password': 'weak'}
2024-11-30 11:31:08,064 - app - ERROR - Registration error: 
2024-11-30 11:31:08,064 - app - WARNING - Validation error: 
2024-11-30 11:31:08,064 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:08,065 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:08,065 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:08,065 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:08] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 11:31:08,067 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 106
Content-Type: application/json


2024-11-30 11:31:08,067 - app - DEBUG - Request Body: b'{"username": "testuser2_1732995068", "email": "test2_1732995068@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:31:08,067 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '106', 'Content-Type': 'application/json'}
2024-11-30 11:31:08,067 - app - DEBUG - Request JSON: {'username': 'testuser2_1732995068', 'email': 'test2_1732995068@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:31:09,012 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:31:09,012 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '214', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:09,012 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 11:31:09,129 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:09] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 11:31:09,132 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 2
Content-Type: application/json


2024-11-30 11:31:09,132 - app - DEBUG - Request Body: b'{}'
2024-11-30 11:31:09,132 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 11:31:09,132 - app - DEBUG - Request JSON: {}
2024-11-30 11:31:09,132 - app - WARNING - Login attempt with no data
2024-11-30 11:31:09,132 - app - WARNING - Validation error during login: 
2024-11-30 11:31:09,132 - app - WARNING - Validation error: 
2024-11-30 11:31:09,132 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:09,132 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:09,132 - app - DEBUG - Response Status: 422 UNPROCESSABLE ENTITY
2024-11-30 11:31:09,132 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:09] "[31m[1mPOST /api/login HTTP/1.1[0m" 422 -
2024-11-30 11:31:09,134 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 65
Content-Type: application/json


2024-11-30 11:31:09,134 - app - DEBUG - Request Body: b'{"email": "nonexistent@example.com", "password": "WrongPass123!"}'
2024-11-30 11:31:09,134 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '65', 'Content-Type': 'application/json'}
2024-11-30 11:31:09,134 - app - DEBUG - Request JSON: {'email': 'nonexistent@example.com', 'password': 'WrongPass123!'}
2024-11-30 11:31:09,441 - app - WARNING - Login failed: No user found with email nonexistent@example.com
2024-11-30 11:31:09,442 - app - WARNING - Authentication error during login: 
2024-11-30 11:31:09,442 - app - WARNING - Authentication error: 
2024-11-30 11:31:09,442 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:09,442 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '18', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:09,442 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:09,522 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:09] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 11:31:09,525 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Content-Length: 69
Content-Type: application/json


2024-11-30 11:31:09,525 - app - DEBUG - Request Body: b'{"email": "test_1732995065@example.com", "password": "Test#Pass123!"}'
2024-11-30 11:31:09,525 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '69', 'Content-Type': 'application/json'}
2024-11-30 11:31:09,525 - app - DEBUG - Request JSON: {'email': 'test_1732995065@example.com', 'password': 'Test#Pass123!'}
2024-11-30 11:31:10,648 - app - INFO - Token generated successfully for user testuser_1732995065
2024-11-30 11:31:10,648 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:31:10,648 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '305', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:10,648 - app - DEBUG - Response Status: 200 OK
2024-11-30 11:31:10,955 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:10] "POST /api/login HTTP/1.1" 200 -
2024-11-30 11:31:10,958 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 11:31:10,958 - app - DEBUG - Request Body: b''
2024-11-30 11:31:10,959 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 11:31:10,959 - auth - INFO - Received Authorization header: None
2024-11-30 11:31:10,959 - auth - WARNING - No Authorization header present
2024-11-30 11:31:10,959 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:10,959 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '34', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:10,959 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:10,959 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:10] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 11:31:10,961 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive


2024-11-30 11:31:10,961 - app - DEBUG - Request Body: b''
2024-11-30 11:31:10,961 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
2024-11-30 11:31:10,961 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 11:31:10,961 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '36', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:10,961 - app - DEBUG - Response Status: 404 NOT FOUND
2024-11-30 11:31:10,961 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:10] "[33mGET /api/upload-csv HTTP/1.1[0m" 404 -
2024-11-30 11:31:10,980 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE
Content-Length: 2
Content-Type: application/json


2024-11-30 11:31:10,981 - app - DEBUG - Request Body: b'{}'
2024-11-30 11:31:10,981 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE', 'Content-Length': '2', 'Content-Type': 'application/json'}
2024-11-30 11:31:10,981 - app - DEBUG - Request JSON: {}
2024-11-30 11:31:10,981 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE
2024-11-30 11:31:10,981 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE']
2024-11-30 11:31:10,981 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 11:31:10,981 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 11:31:10,981 - auth - INFO - Decoded token data: {'user_id': 62, 'exp': 1733081467}
2024-11-30 11:31:11,924 - auth - INFO - Successfully authenticated user: testuser_1732995065
2024-11-30 11:31:11,925 - app - WARNING - Validation error in create_lead: 
2024-11-30 11:31:12,000 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 11:31:12,000 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:12,000 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:12,001 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:12,001 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:12] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 11:31:12,011 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE


2024-11-30 11:31:12,011 - app - DEBUG - Request Body: b''
2024-11-30 11:31:12,011 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE'}
2024-11-30 11:31:12,012 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE
2024-11-30 11:31:12,012 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE']
2024-11-30 11:31:12,012 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 11:31:12,012 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 11:31:12,012 - auth - INFO - Decoded token data: {'user_id': 62, 'exp': 1733081467}
2024-11-30 11:31:12,408 - auth - INFO - Successfully authenticated user: testuser_1732995065
2024-11-30 11:31:12,482 - app - ERROR - Error in get_leads: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 62}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 11:31:12,482 - auth - ERROR - Unexpected error in token validation: (psycopg2.errors.UndefinedColumn) column leads.phone does not exist
LINE 1: ...s.name AS leads_name, leads.email AS leads_email, leads.phon...
                                                             ^

[SQL: SELECT leads.id AS leads_id, leads.name AS leads_name, leads.email AS leads_email, leads.phone AS leads_phone, leads.status AS leads_status, leads.notes AS leads_notes, leads.created_at AS leads_created_at, leads.updated_at AS leads_updated_at, leads.user_id AS leads_user_id 
FROM leads 
WHERE leads.user_id = %(user_id_1)s]
[parameters: {'user_id_1': 62}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-11-30 11:31:12,482 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:12,482 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:12,482 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:12,556 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:12] "[31m[1mGET /api/leads HTTP/1.1[0m" 401 -
2024-11-30 11:31:12,563 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: python-requests/2.31.0
Accept-Encoding: gzip, deflate
Accept: */*
Connection: keep-alive
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE
Content-Length: 236
Content-Type: multipart/form-data; boundary=7cf8f0ab33ed96d1e6ebc54715d3294d


2024-11-30 11:31:12,563 - app - DEBUG - Request Body: b'--7cf8f0ab33ed96d1e6ebc54715d3294d\r\nContent-Disposition: form-data; name="file"; filename="test_leads.csv"\r\nContent-Type: text/csv\r\n\r\nname,email,company\nTest Lead,testlead@example.com,Test Company\r\n--7cf8f0ab33ed96d1e6ebc54715d3294d--\r\n'
2024-11-30 11:31:12,563 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'python-requests/2.31.0', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE', 'Content-Length': '236', 'Content-Type': 'multipart/form-data; boundary=7cf8f0ab33ed96d1e6ebc54715d3294d'}
2024-11-30 11:31:12,564 - app - DEBUG - Request Files: {'file': <FileStorage: 'test_leads.csv' ('text/csv')>}
2024-11-30 11:31:12,565 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE
2024-11-30 11:31:12,565 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2MiwiZXhwIjoxNzMzMDgxNDY3fQ.KZQ4HQ7jqFtOpjOpHjKrEQ_bPU9d4zVfQs7XjTDEdfE']
2024-11-30 11:31:12,565 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 11:31:12,565 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 11:31:12,565 - auth - INFO - Decoded token data: {'user_id': 62, 'exp': 1733081467}
2024-11-30 11:31:12,937 - auth - INFO - Successfully authenticated user: testuser_1732995065
2024-11-30 11:31:12,937 - app - ERROR - Error processing CSV data: 'company' is an invalid keyword argument for Lead
2024-11-30 11:31:12,937 - app - WARNING - Validation error in upload_csv: 
2024-11-30 11:31:13,011 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 11:31:13,011 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:13,011 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '38', 'Access-Control-Allow-Origin': '*'}
2024-11-30 11:31:13,011 - app - DEBUG - Response Status: 401 UNAUTHORIZED
2024-11-30 11:31:13,011 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 11:31:13] "[31m[1mPOST /api/upload-csv HTTP/1.1[0m" 401 -
2024-11-30 14:01:20,181 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:01:20,181 - app - INFO - Starting database initialization...
2024-11-30 14:01:20,181 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:01:20,181 - database - INFO - Initializing database connection...
2024-11-30 14:01:22,346 - database - INFO - Database connection test successful
2024-11-30 14:01:23,138 - database - INFO - Database tables created successfully
2024-11-30 14:01:23,234 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:01:23,315 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5002
2024-11-30 14:01:23,315 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 14:02:22,738 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 14:02:22,852 - werkzeug - INFO -  * Restarting with stat
2024-11-30 14:02:23,106 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 14:02:23,106 - __main__ - INFO - Starting database initialization...
2024-11-30 14:02:23,106 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:02:23,106 - database - INFO - Initializing database connection...
2024-11-30 14:02:24,470 - database - INFO - Database connection test successful
2024-11-30 14:02:25,255 - database - INFO - Database tables created successfully
2024-11-30 14:02:25,333 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:02:43,929 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:02:43,929 - app - INFO - Starting database initialization...
2024-11-30 14:02:43,929 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:02:43,929 - database - INFO - Initializing database connection...
2024-11-30 14:02:45,259 - database - INFO - Database connection test successful
2024-11-30 14:02:46,034 - database - INFO - Database tables created successfully
2024-11-30 14:02:46,112 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:06:45,017 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:06:45,017 - app - INFO - Starting database initialization...
2024-11-30 14:06:45,017 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:06:45,017 - database - INFO - Initializing database connection...
2024-11-30 14:06:46,397 - database - INFO - Database connection test successful
2024-11-30 14:06:47,184 - database - INFO - Database tables created successfully
2024-11-30 14:06:47,259 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:06:47,342 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:06:47,342 - app - INFO - Starting database initialization...
2024-11-30 14:06:47,342 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:06:47,342 - database - INFO - Initializing database connection...
2024-11-30 14:06:48,625 - database - INFO - Database connection test successful
2024-11-30 14:06:49,385 - database - INFO - Database tables created successfully
2024-11-30 14:06:49,461 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:06:49,537 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:06:49,537 - app - INFO - Starting database initialization...
2024-11-30 14:06:49,537 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:06:49,537 - database - INFO - Initializing database connection...
2024-11-30 14:06:50,860 - database - INFO - Database connection test successful
2024-11-30 14:06:51,619 - database - INFO - Database tables created successfully
2024-11-30 14:06:51,699 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:06:51,781 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:06:51,782 - app - INFO - Starting database initialization...
2024-11-30 14:06:51,782 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:06:51,782 - database - INFO - Initializing database connection...
2024-11-30 14:06:53,092 - database - INFO - Database connection test successful
2024-11-30 14:06:53,842 - database - INFO - Database tables created successfully
2024-11-30 14:06:53,922 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:06:54,000 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:06:54,000 - app - INFO - Starting database initialization...
2024-11-30 14:06:54,000 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:06:54,000 - database - INFO - Initializing database connection...
2024-11-30 14:06:55,262 - database - INFO - Database connection test successful
2024-11-30 14:06:56,025 - database - INFO - Database tables created successfully
2024-11-30 14:06:56,106 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:06:56,195 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:06:56,195 - app - INFO - Starting database initialization...
2024-11-30 14:06:56,195 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:06:56,195 - database - INFO - Initializing database connection...
2024-11-30 14:06:57,529 - database - INFO - Database connection test successful
2024-11-30 14:06:58,307 - database - INFO - Database tables created successfully
2024-11-30 14:06:58,384 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:06:58,488 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:06:58,488 - app - INFO - Starting database initialization...
2024-11-30 14:06:58,488 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:06:58,488 - database - INFO - Initializing database connection...
2024-11-30 14:06:59,809 - database - INFO - Database connection test successful
2024-11-30 14:07:00,598 - database - INFO - Database tables created successfully
2024-11-30 14:07:00,676 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:00,755 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:00,755 - app - INFO - Starting database initialization...
2024-11-30 14:07:00,755 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:00,755 - database - INFO - Initializing database connection...
2024-11-30 14:07:02,041 - database - INFO - Database connection test successful
2024-11-30 14:07:02,828 - database - INFO - Database tables created successfully
2024-11-30 14:07:02,904 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:31,719 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:31,719 - app - INFO - Starting database initialization...
2024-11-30 14:07:31,719 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:31,719 - database - INFO - Initializing database connection...
2024-11-30 14:07:33,078 - database - INFO - Database connection test successful
2024-11-30 14:07:33,836 - database - INFO - Database tables created successfully
2024-11-30 14:07:33,914 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:35,386 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:07:35,459 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2NCwiZXhwIjoxNzMzMDkwODU1fQ.TdDepAzbuYO_wUi8mIMR75A_srh8orTWfw4XeCpeY8M
2024-11-30 14:07:35,459 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2NCwiZXhwIjoxNzMzMDkwODU1fQ.TdDepAzbuYO_wUi8mIMR75A_srh8orTWfw4XeCpeY8M']
2024-11-30 14:07:35,460 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:07:35,460 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:07:35,460 - auth - INFO - Decoded token data: {'user_id': 64, 'exp': 1733090855}
2024-11-30 14:07:35,688 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:07:35,688 - app - ERROR - Error in create_lead: 'company' is an invalid keyword argument for Lead
2024-11-30 14:07:35,764 - auth - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 14:07:36,297 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:36,297 - app - INFO - Starting database initialization...
2024-11-30 14:07:36,297 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:36,297 - database - INFO - Initializing database connection...
2024-11-30 14:07:37,575 - database - INFO - Database connection test successful
2024-11-30 14:07:38,610 - database - INFO - Database tables created successfully
2024-11-30 14:07:38,689 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:40,097 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:07:40,174 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4NjB9.Apncz5JNGinA3zaNIaSqJfAbQbGoyNx_5Ty-XcBNuS0
2024-11-30 14:07:40,174 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4NjB9.Apncz5JNGinA3zaNIaSqJfAbQbGoyNx_5Ty-XcBNuS0']
2024-11-30 14:07:40,174 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:07:40,174 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:07:40,174 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090860}
2024-11-30 14:07:40,404 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:07:40,404 - app - WARNING - Validation error in create_lead: 
2024-11-30 14:07:40,479 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 14:07:41,016 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:41,016 - app - INFO - Starting database initialization...
2024-11-30 14:07:41,016 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:41,016 - database - INFO - Initializing database connection...
2024-11-30 14:07:42,268 - database - INFO - Database connection test successful
2024-11-30 14:07:43,170 - database - INFO - Database tables created successfully
2024-11-30 14:07:43,246 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:44,616 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:07:44,690 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwMDA4NjR9.9rhDpyfAIXVuRU8Nxg-y-YzHByrV5zCHu8thPu56iEg
2024-11-30 14:07:44,690 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwMDA4NjR9.9rhDpyfAIXVuRU8Nxg-y-YzHByrV5zCHu8thPu56iEg']
2024-11-30 14:07:44,690 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:07:44,690 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:07:44,690 - auth - WARNING - Token has expired
2024-11-30 14:07:45,212 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:45,212 - app - INFO - Starting database initialization...
2024-11-30 14:07:45,212 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:45,212 - database - INFO - Initializing database connection...
2024-11-30 14:07:46,477 - database - INFO - Database connection test successful
2024-11-30 14:07:47,401 - database - INFO - Database tables created successfully
2024-11-30 14:07:47,477 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:48,871 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:07:48,946 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4Njh9.UpxnLcPfRrPb-mfE0ZgEdrSoaR7-lDliZfN37Urds1c
2024-11-30 14:07:48,946 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4Njh9.UpxnLcPfRrPb-mfE0ZgEdrSoaR7-lDliZfN37Urds1c']
2024-11-30 14:07:48,946 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:07:48,946 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:07:48,946 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090868}
2024-11-30 14:07:49,169 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:07:49,857 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:49,858 - app - INFO - Starting database initialization...
2024-11-30 14:07:49,858 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:49,858 - database - INFO - Initializing database connection...
2024-11-30 14:07:51,124 - database - INFO - Database connection test successful
2024-11-30 14:07:52,051 - database - INFO - Database tables created successfully
2024-11-30 14:07:52,127 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:53,512 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:07:53,585 - auth - INFO - Received Authorization header: None
2024-11-30 14:07:53,585 - auth - WARNING - No Authorization header present
2024-11-30 14:07:54,107 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:54,107 - app - INFO - Starting database initialization...
2024-11-30 14:07:54,107 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:54,107 - database - INFO - Initializing database connection...
2024-11-30 14:07:55,367 - database - INFO - Database connection test successful
2024-11-30 14:07:56,313 - database - INFO - Database tables created successfully
2024-11-30 14:07:56,389 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:07:57,796 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:07:57,872 - auth - INFO - Received Authorization header: InvalidFormat token123
2024-11-30 14:07:57,872 - auth - INFO - Token parts: ['InvalidFormat', 'token123']
2024-11-30 14:07:57,872 - auth - WARNING - Invalid Authorization header format
2024-11-30 14:07:58,393 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:07:58,393 - app - INFO - Starting database initialization...
2024-11-30 14:07:58,393 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:07:58,393 - database - INFO - Initializing database connection...
2024-11-30 14:07:59,687 - database - INFO - Database connection test successful
2024-11-30 14:08:00,606 - database - INFO - Database tables created successfully
2024-11-30 14:08:00,682 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:08:02,058 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:08:02,135 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4ODJ9.7vK5GoudInGAwitmltYt5otgZ0B3aiWY1u60lXqUiZY
2024-11-30 14:08:02,135 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4ODJ9.7vK5GoudInGAwitmltYt5otgZ0B3aiWY1u60lXqUiZY']
2024-11-30 14:08:02,135 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:08:02,135 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:08:02,135 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090882}
2024-11-30 14:08:02,368 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:08:02,368 - app - ERROR - Error processing CSV data: 'company' is an invalid keyword argument for Lead
2024-11-30 14:08:02,368 - app - WARNING - Validation error in upload_csv: 
2024-11-30 14:08:02,443 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 14:08:02,957 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:08:02,957 - app - INFO - Starting database initialization...
2024-11-30 14:08:02,957 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:08:02,957 - database - INFO - Initializing database connection...
2024-11-30 14:08:04,206 - database - INFO - Database connection test successful
2024-11-30 14:08:05,123 - database - INFO - Database tables created successfully
2024-11-30 14:08:05,199 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:08:06,593 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:08:06,669 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4ODZ9.eI7Omv2-NgHEtmAf675pGR9i0OIArvJna3qL7vkiSn4
2024-11-30 14:08:06,669 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA4ODZ9.eI7Omv2-NgHEtmAf675pGR9i0OIArvJna3qL7vkiSn4']
2024-11-30 14:08:06,669 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:08:06,669 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:08:06,669 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090886}
2024-11-30 14:08:06,891 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:08:06,891 - app - WARNING - Validation error in upload_csv: 
2024-11-30 14:08:06,965 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 14:08:47,552 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:08:47,552 - app - INFO - Starting database initialization...
2024-11-30 14:08:47,552 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:08:47,552 - database - INFO - Initializing database connection...
2024-11-30 14:08:48,902 - database - INFO - Database connection test successful
2024-11-30 14:08:49,836 - database - INFO - Database tables created successfully
2024-11-30 14:08:49,916 - database - INFO - Database tables: ['leads', 'users']
2024-11-30 14:09:01,409 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:01,409 - app - INFO - Starting database initialization...
2024-11-30 14:09:01,409 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:01,409 - database - INFO - Initializing database connection...
2024-11-30 14:09:02,702 - database - INFO - Database connection test successful
2024-11-30 14:09:03,487 - database - INFO - Database tables created successfully
2024-11-30 14:09:03,563 - database - INFO - Database tables: ['leads', 'users']
2024-11-30 14:09:20,468 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:20,469 - app - INFO - Starting database initialization...
2024-11-30 14:09:20,469 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:20,469 - database - INFO - Initializing database connection...
2024-11-30 14:09:21,748 - database - INFO - Database connection test successful
2024-11-30 14:09:22,524 - database - INFO - Database tables created successfully
2024-11-30 14:09:22,602 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:09:24,011 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:24,087 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5NjR9.Rcroo56KgKKMcru4S_O5-IBxfpRHem-38XfMhDejb7I
2024-11-30 14:09:24,087 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5NjR9.Rcroo56KgKKMcru4S_O5-IBxfpRHem-38XfMhDejb7I']
2024-11-30 14:09:24,087 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:09:24,087 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:09:24,087 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090964}
2024-11-30 14:09:24,307 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:09:24,682 - app - INFO - Lead created successfully: 1
2024-11-30 14:09:24,682 - app - ERROR - Error in create_lead: 'Lead' object has no attribute 'quality_score'
2024-11-30 14:09:24,758 - auth - ERROR - Unexpected error in token validation: 'Lead' object has no attribute 'quality_score'
2024-11-30 14:09:25,277 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:25,277 - app - INFO - Starting database initialization...
2024-11-30 14:09:25,277 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:25,277 - database - INFO - Initializing database connection...
2024-11-30 14:09:26,564 - database - INFO - Database connection test successful
2024-11-30 14:09:27,487 - database - INFO - Database tables created successfully
2024-11-30 14:09:27,563 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:09:28,941 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:29,016 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5Njh9.dgvGfivTQceja5LvY8dChzrf7_VLbNtL2-J3EqWrJrE
2024-11-30 14:09:29,017 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5Njh9.dgvGfivTQceja5LvY8dChzrf7_VLbNtL2-J3EqWrJrE']
2024-11-30 14:09:29,017 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:09:29,017 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:09:29,017 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090968}
2024-11-30 14:09:29,244 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:09:29,244 - app - WARNING - Validation error in create_lead: 
2024-11-30 14:09:29,317 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 14:09:29,862 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:29,862 - app - INFO - Starting database initialization...
2024-11-30 14:09:29,862 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:29,863 - database - INFO - Initializing database connection...
2024-11-30 14:09:31,167 - database - INFO - Database connection test successful
2024-11-30 14:09:32,094 - database - INFO - Database tables created successfully
2024-11-30 14:09:32,170 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:09:33,551 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:33,626 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwMDA5NzN9.ulP3nhGgVffNOpfeALNHQUTJ3aqKXCGwzxw_jd_Gvdg
2024-11-30 14:09:33,626 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwMDA5NzN9.ulP3nhGgVffNOpfeALNHQUTJ3aqKXCGwzxw_jd_Gvdg']
2024-11-30 14:09:33,626 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:09:33,626 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:09:33,626 - auth - WARNING - Token has expired
2024-11-30 14:09:34,156 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:34,156 - app - INFO - Starting database initialization...
2024-11-30 14:09:34,156 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:34,156 - database - INFO - Initializing database connection...
2024-11-30 14:09:35,415 - database - INFO - Database connection test successful
2024-11-30 14:09:36,340 - database - INFO - Database tables created successfully
2024-11-30 14:09:36,417 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:09:37,799 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:37,876 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5Nzd9.tW9r5MMgo6gBuaIYU5doUG7yBe7ZtEvtPzhnZFrida8
2024-11-30 14:09:37,876 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5Nzd9.tW9r5MMgo6gBuaIYU5doUG7yBe7ZtEvtPzhnZFrida8']
2024-11-30 14:09:37,876 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:09:37,876 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:09:37,876 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090977}
2024-11-30 14:09:38,103 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:09:38,774 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:38,774 - app - INFO - Starting database initialization...
2024-11-30 14:09:38,774 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:38,774 - database - INFO - Initializing database connection...
2024-11-30 14:09:40,101 - database - INFO - Database connection test successful
2024-11-30 14:09:41,028 - database - INFO - Database tables created successfully
2024-11-30 14:09:41,108 - database - INFO - Database tables: ['leads', 'users']
2024-11-30 14:09:42,509 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:42,585 - auth - INFO - Received Authorization header: None
2024-11-30 14:09:42,585 - auth - WARNING - No Authorization header present
2024-11-30 14:09:43,130 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:43,130 - app - INFO - Starting database initialization...
2024-11-30 14:09:43,130 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:43,130 - database - INFO - Initializing database connection...
2024-11-30 14:09:44,411 - database - INFO - Database connection test successful
2024-11-30 14:09:45,323 - database - INFO - Database tables created successfully
2024-11-30 14:09:45,401 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:09:46,797 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:46,870 - auth - INFO - Received Authorization header: InvalidFormat token123
2024-11-30 14:09:46,870 - auth - INFO - Token parts: ['InvalidFormat', 'token123']
2024-11-30 14:09:46,870 - auth - WARNING - Invalid Authorization header format
2024-11-30 14:09:47,404 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:47,404 - app - INFO - Starting database initialization...
2024-11-30 14:09:47,404 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:47,404 - database - INFO - Initializing database connection...
2024-11-30 14:09:48,713 - database - INFO - Database connection test successful
2024-11-30 14:09:49,612 - database - INFO - Database tables created successfully
2024-11-30 14:09:49,690 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:09:51,077 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:51,153 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5OTF9.ceid6c71lONMsfNGyDhh7U1Jfq-zlnQ3mFIVMOM8gBQ
2024-11-30 14:09:51,153 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5OTF9.ceid6c71lONMsfNGyDhh7U1Jfq-zlnQ3mFIVMOM8gBQ']
2024-11-30 14:09:51,153 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:09:51,153 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:09:51,153 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090991}
2024-11-30 14:09:51,382 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:09:51,756 - app - INFO - Successfully imported 2 leads for user 1
2024-11-30 14:09:52,361 - app - INFO - Using SECRET_KEY: from env
2024-11-30 14:09:52,361 - app - INFO - Starting database initialization...
2024-11-30 14:09:52,361 - app - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 14:09:52,362 - database - INFO - Initializing database connection...
2024-11-30 14:09:53,622 - database - INFO - Database connection test successful
2024-11-30 14:09:54,559 - database - INFO - Database tables created successfully
2024-11-30 14:09:54,635 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 14:09:56,041 - app - INFO - Token generated successfully for user testuser
2024-11-30 14:09:56,117 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5OTZ9.e1FVZO14CEyi7eorSU4ANRSdrWWlQ96iup9mbSrnVwo
2024-11-30 14:09:56,117 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTA5OTZ9.e1FVZO14CEyi7eorSU4ANRSdrWWlQ96iup9mbSrnVwo']
2024-11-30 14:09:56,117 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 14:09:56,118 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 14:09:56,118 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733090996}
2024-11-30 14:09:56,340 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 14:09:56,340 - app - WARNING - Validation error in upload_csv: 
2024-11-30 14:09:56,414 - auth - ERROR - Unexpected error in token validation: 
2024-11-30 16:13:52,731 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:13:52,731 - __main__ - INFO - Starting database initialization...
2024-11-30 16:13:52,731 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:13:52,731 - database - INFO - Initializing database connection...
2024-11-30 16:13:54,969 - database - INFO - Database connection test successful
2024-11-30 16:13:55,987 - database - INFO - Database tables created successfully
2024-11-30 16:13:56,079 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:13:56,513 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5002
 * Running on http://169.231.162.40:5002
2024-11-30 16:13:56,513 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 16:13:56,514 - werkzeug - INFO -  * Restarting with stat
2024-11-30 16:13:57,593 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:13:57,594 - __main__ - INFO - Starting database initialization...
2024-11-30 16:13:57,594 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:13:57,594 - database - INFO - Initializing database connection...
2024-11-30 16:13:58,974 - database - INFO - Database connection test successful
2024-11-30 16:13:59,761 - database - INFO - Database tables created successfully
2024-11-30 16:13:59,838 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:13:59,921 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 16:13:59,934 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 16:15:52,445 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:15:52,445 - __main__ - INFO - Starting database initialization...
2024-11-30 16:15:52,445 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:15:52,445 - database - INFO - Initializing database connection...
2024-11-30 16:15:54,319 - database - INFO - Database connection test successful
2024-11-30 16:15:55,250 - database - INFO - Database tables created successfully
2024-11-30 16:15:55,326 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:16:02,796 - app - ERROR - Registration error: 
2024-11-30 16:16:02,798 - app - WARNING - Validation error: 
2024-11-30 16:16:02,815 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:16:02] "[31m[1mPOST /api/register HTTP/1.1[0m" 422 -
2024-11-30 16:16:14,136 - app - WARNING - Login failed: No user found with email test@example.com
2024-11-30 16:16:14,137 - app - WARNING - Authentication error during login: 
2024-11-30 16:16:14,137 - app - WARNING - Authentication error: 
2024-11-30 16:16:14,213 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:16:14] "[31m[1mPOST /api/login HTTP/1.1[0m" 401 -
2024-11-30 16:18:18,878 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/database.py', reloading
2024-11-30 16:18:19,064 - werkzeug - INFO -  * Restarting with stat
2024-11-30 16:18:20,498 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:18:20,499 - __main__ - INFO - Starting database initialization...
2024-11-30 16:18:20,499 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:18:20,499 - database - INFO - Initializing database connection...
2024-11-30 16:18:22,053 - database - INFO - Database connection test successful
2024-11-30 16:18:22,947 - database - INFO - Database tables created successfully
2024-11-30 16:18:23,034 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:18:23,119 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 16:18:23,127 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 16:18:37,689 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:18:37,689 - __main__ - INFO - Starting database initialization...
2024-11-30 16:18:37,689 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:18:37,689 - database - INFO - Initializing database connection...
2024-11-30 16:18:39,199 - database - INFO - Database connection test successful
2024-11-30 16:18:40,039 - database - INFO - Database tables created successfully
2024-11-30 16:18:40,117 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:18:49,545 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:18:49] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 16:19:01,497 - app - INFO - Token generated successfully for user testuser
2024-11-30 16:19:01,571 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:19:01] "POST /api/login HTTP/1.1" 200 -
2024-11-30 16:19:14,574 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTg3NDF9.9eMov1eeACViMCnqeJ9xrdQheHDTc7tuKlU63Jv92w4
2024-11-30 16:19:14,574 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3MzMwOTg3NDF9.9eMov1eeACViMCnqeJ9xrdQheHDTc7tuKlU63Jv92w4']
2024-11-30 16:19:14,574 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 16:19:14,574 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 16:19:14,575 - auth - INFO - Decoded token data: {'user_id': 1, 'exp': 1733098741}
2024-11-30 16:19:14,851 - auth - INFO - Successfully authenticated user: testuser
2024-11-30 16:19:14,851 - app - ERROR - Error in create_lead: 'company' is an invalid keyword argument for Lead
2024-11-30 16:19:14,928 - auth - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 16:19:14,928 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:19:14] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 16:19:28,530 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 16:19:28,685 - werkzeug - INFO -  * Restarting with stat
2024-11-30 16:19:30,124 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:19:30,125 - __main__ - INFO - Starting database initialization...
2024-11-30 16:19:30,125 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:19:30,125 - database - INFO - Initializing database connection...
2024-11-30 16:19:31,539 - database - INFO - Database connection test successful
2024-11-30 16:19:32,445 - database - INFO - Database tables created successfully
2024-11-30 16:19:32,521 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:19:32,687 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 16:19:32,695 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 16:19:37,522 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:19:37,522 - __main__ - INFO - Starting database initialization...
2024-11-30 16:19:37,522 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:19:37,522 - database - INFO - Initializing database connection...
2024-11-30 16:19:39,042 - database - INFO - Database connection test successful
2024-11-30 16:19:39,865 - database - INFO - Database tables created successfully
2024-11-30 16:19:40,014 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:20:28,772 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:20:28] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 16:20:40,131 - app - INFO - Token generated successfully for user testuser2
2024-11-30 16:20:40,204 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:20:40] "POST /api/login HTTP/1.1" 200 -
2024-11-30 16:20:52,866 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJleHAiOjE3MzMwOTg4NDB9.3YwAvLN889kZhq7idiJxtl9zIHFhW-KZA6VI2EjN1HQ
2024-11-30 16:20:52,867 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJleHAiOjE3MzMwOTg4NDB9.3YwAvLN889kZhq7idiJxtl9zIHFhW-KZA6VI2EjN1HQ']
2024-11-30 16:20:52,867 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 16:20:52,867 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 16:20:52,867 - auth - INFO - Decoded token data: {'user_id': 2, 'exp': 1733098840}
2024-11-30 16:20:53,129 - auth - INFO - Successfully authenticated user: testuser2
2024-11-30 16:20:53,129 - app - ERROR - Error in create_lead: 'company' is an invalid keyword argument for Lead
2024-11-30 16:20:53,204 - auth - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 16:20:53,205 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:20:53] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 16:22:15,943 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 16:22:16,072 - werkzeug - INFO -  * Restarting with stat
2024-11-30 16:22:17,360 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:22:17,360 - __main__ - INFO - Starting database initialization...
2024-11-30 16:22:17,360 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:22:17,360 - database - INFO - Initializing database connection...
2024-11-30 16:22:18,955 - database - INFO - Database connection test successful
2024-11-30 16:22:19,774 - database - INFO - Database tables created successfully
2024-11-30 16:22:19,925 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:22:20,006 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 16:22:20,013 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 16:22:27,276 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:22:27,276 - __main__ - INFO - Starting database initialization...
2024-11-30 16:22:27,276 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:22:27,276 - database - INFO - Initializing database connection...
2024-11-30 16:22:28,838 - database - INFO - Database connection test successful
2024-11-30 16:22:29,661 - database - INFO - Database tables created successfully
2024-11-30 16:22:29,737 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:22:38,378 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJleHAiOjE3MzMwOTg4NDB9.3YwAvLN889kZhq7idiJxtl9zIHFhW-KZA6VI2EjN1HQ
2024-11-30 16:22:38,378 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyLCJleHAiOjE3MzMwOTg4NDB9.3YwAvLN889kZhq7idiJxtl9zIHFhW-KZA6VI2EjN1HQ']
2024-11-30 16:22:38,378 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 16:22:38,378 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 16:22:38,378 - auth - INFO - Decoded token data: {'user_id': 2, 'exp': 1733098840}
2024-11-30 16:22:38,604 - auth - INFO - Successfully authenticated user: testuser2
2024-11-30 16:22:38,604 - app - ERROR - Error in create_lead: 'company' is an invalid keyword argument for Lead
2024-11-30 16:22:38,677 - auth - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 16:22:38,677 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:22:38] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 16:26:06,097 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/routes.py', reloading
2024-11-30 16:26:06,294 - werkzeug - INFO -  * Restarting with stat
2024-11-30 16:26:08,142 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:26:08,143 - __main__ - INFO - Starting database initialization...
2024-11-30 16:26:08,143 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:26:08,143 - database - INFO - Initializing database connection...
2024-11-30 16:26:09,791 - database - INFO - Database connection test successful
2024-11-30 16:26:10,684 - database - INFO - Database tables created successfully
2024-11-30 16:26:10,762 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:26:10,847 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 16:26:10,856 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 16:26:16,293 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:26:16,293 - __main__ - INFO - Starting database initialization...
2024-11-30 16:26:16,293 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:26:16,293 - database - INFO - Initializing database connection...
2024-11-30 16:26:17,809 - database - INFO - Database connection test successful
2024-11-30 16:26:18,695 - database - INFO - Database tables created successfully
2024-11-30 16:26:18,774 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:26:27,610 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:26:27] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 16:27:06,915 - app - INFO - Token generated successfully for user testuser3
2024-11-30 16:27:06,991 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:27:06] "POST /api/login HTTP/1.1" 200 -
2024-11-30 16:27:20,096 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJleHAiOjE3MzMwOTkyMjZ9.LphUH2jj4ws0n_8JRgzBKDC5FMNsI3f7LCbGLQc-JVQ
2024-11-30 16:27:20,098 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjozLCJleHAiOjE3MzMwOTkyMjZ9.LphUH2jj4ws0n_8JRgzBKDC5FMNsI3f7LCbGLQc-JVQ']
2024-11-30 16:27:20,099 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 16:27:20,099 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 16:27:20,100 - auth - INFO - Decoded token data: {'user_id': 3, 'exp': 1733099226}
2024-11-30 16:27:20,415 - auth - INFO - Successfully authenticated user: testuser3
2024-11-30 16:27:20,415 - app - ERROR - Error in create_lead: 'company' is an invalid keyword argument for Lead
2024-11-30 16:27:20,489 - auth - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 16:27:20,490 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:27:20] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 16:27:40,787 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:27:40,787 - __main__ - INFO - Starting database initialization...
2024-11-30 16:27:40,787 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:27:40,787 - database - INFO - Initializing database connection...
2024-11-30 16:27:42,203 - database - INFO - Database connection test successful
2024-11-30 16:27:43,105 - database - INFO - Database tables created successfully
2024-11-30 16:27:43,184 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:27:51,945 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:27:51] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 16:28:20,180 - app - INFO - Token generated successfully for user testuser4
2024-11-30 16:28:20,256 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:28:20] "POST /api/login HTTP/1.1" 200 -
2024-11-30 16:28:40,725 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0LCJleHAiOjE3MzMwOTkzMDB9.VwFm-i4vOD5kWEzqwYFUJmfaeWrLWecndQ1JxkwTJyw
2024-11-30 16:28:40,725 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0LCJleHAiOjE3MzMwOTkzMDB9.VwFm-i4vOD5kWEzqwYFUJmfaeWrLWecndQ1JxkwTJyw']
2024-11-30 16:28:40,725 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 16:28:40,725 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 16:28:40,726 - auth - INFO - Decoded token data: {'user_id': 4, 'exp': 1733099300}
2024-11-30 16:28:40,950 - auth - INFO - Successfully authenticated user: testuser4
2024-11-30 16:28:40,952 - app - ERROR - Error in create_lead: 'company' is an invalid keyword argument for Lead
2024-11-30 16:28:41,083 - auth - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 16:28:41,084 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:28:41] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 16:29:26,508 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/auth.py', reloading
2024-11-30 16:29:26,642 - werkzeug - INFO -  * Restarting with stat
2024-11-30 16:29:27,976 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:29:27,976 - __main__ - INFO - Starting database initialization...
2024-11-30 16:29:27,976 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:29:27,976 - database - INFO - Initializing database connection...
2024-11-30 16:29:29,615 - database - INFO - Database connection test successful
2024-11-30 16:29:30,515 - database - INFO - Database tables created successfully
2024-11-30 16:29:30,593 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:29:30,678 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 16:29:30,686 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 16:29:35,440 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:29:35,440 - __main__ - INFO - Starting database initialization...
2024-11-30 16:29:35,440 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:29:35,440 - database - INFO - Initializing database connection...
2024-11-30 16:29:36,951 - database - INFO - Database connection test successful
2024-11-30 16:29:37,855 - database - INFO - Database tables created successfully
2024-11-30 16:29:37,931 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:31:43,154 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:31:43] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 16:36:06,237 - app - INFO - Token generated successfully for user testuser5
2024-11-30 16:36:06,313 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:36:06] "POST /api/login HTTP/1.1" 200 -
2024-11-30 16:36:24,940 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJleHAiOjE3MzMwOTk3NjZ9.Zcqv1TZjC3sSJb2ne58TshWVrrXpWLVHNzHw_X4bsok
2024-11-30 16:36:24,941 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJleHAiOjE3MzMwOTk3NjZ9.Zcqv1TZjC3sSJb2ne58TshWVrrXpWLVHNzHw_X4bsok']
2024-11-30 16:36:24,941 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 16:36:24,941 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 16:36:24,941 - auth - INFO - Decoded token data: {'user_id': 5, 'exp': 1733099766}
2024-11-30 16:36:25,243 - auth - INFO - Successfully authenticated user: testuser5
2024-11-30 16:36:25,243 - app - ERROR - Error in create_lead: 'company' is an invalid keyword argument for Lead
2024-11-30 16:36:25,317 - auth - ERROR - Unexpected error in token validation: 'company' is an invalid keyword argument for Lead
2024-11-30 16:36:25,317 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:36:25] "[31m[1mPOST /api/leads HTTP/1.1[0m" 401 -
2024-11-30 16:38:21,676 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:38:21,677 - __main__ - INFO - Starting database initialization...
2024-11-30 16:38:21,677 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:38:21,677 - database - INFO - Initializing database connection...
2024-11-30 16:38:23,357 - database - INFO - Database connection test successful
2024-11-30 16:38:24,257 - database - INFO - Database tables created successfully
2024-11-30 16:38:24,333 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:38:24,419 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5002
 * Running on http://169.231.162.40:5002
2024-11-30 16:38:24,419 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2024-11-30 16:38:24,420 - werkzeug - INFO -  * Restarting with stat
2024-11-30 16:38:25,417 - __main__ - INFO - Using SECRET_KEY: from env
2024-11-30 16:38:25,417 - __main__ - INFO - Starting database initialization...
2024-11-30 16:38:25,417 - __main__ - INFO - Database URL format: ep-frosty-sky-a4shi2fp.us-east-1.aws.neon.tech/neondb?sslmode=require
2024-11-30 16:38:25,417 - database - INFO - Initializing database connection...
2024-11-30 16:38:26,948 - database - INFO - Database connection test successful
2024-11-30 16:38:27,852 - database - INFO - Database tables created successfully
2024-11-30 16:38:27,927 - database - INFO - Database tables: ['users', 'leads']
2024-11-30 16:38:28,007 - werkzeug - WARNING -  * Debugger is active!
2024-11-30 16:38:28,016 - werkzeug - INFO -  * Debugger PIN: 170-467-572
2024-11-30 16:39:18,361 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: curl/8.6.0
Accept: */*
Content-Type: application/json
Content-Length: 84


2024-11-30 16:39:18,362 - app - DEBUG - Request Body: b'{"username": "testuser6", "email": "test6@example.com", "password": "Test#Pass123!"}'
2024-11-30 16:39:18,362 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'curl/8.6.0', 'Accept': '*/*', 'Content-Type': 'application/json', 'Content-Length': '84'}
2024-11-30 16:39:18,362 - app - DEBUG - Request JSON: {'username': 'testuser6', 'email': 'test6@example.com', 'password': 'Test#Pass123!'}
2024-11-30 16:39:19,304 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 16:39:19,304 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '140', 'Access-Control-Allow-Origin': '*'}
2024-11-30 16:39:19,304 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 16:39:19,376 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:39:19] "[35m[1mPOST /api/register HTTP/1.1[0m" 201 -
2024-11-30 16:40:39,669 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: curl/8.6.0
Accept: */*
Content-Type: application/json
Content-Length: 59


2024-11-30 16:40:39,670 - app - DEBUG - Request Body: b'{"email": "test6@example.com", "password": "Test#Pass123!"}'
2024-11-30 16:40:39,670 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'curl/8.6.0', 'Accept': '*/*', 'Content-Type': 'application/json', 'Content-Length': '59'}
2024-11-30 16:40:39,670 - app - DEBUG - Request JSON: {'email': 'test6@example.com', 'password': 'Test#Pass123!'}
2024-11-30 16:40:39,670 - app - INFO - Login attempt received with data: {"email": "test6@example.com", "password": "***"}
2024-11-30 16:40:39,977 - app - INFO - User found for login attempt - ID: 6, Username: testuser6
2024-11-30 16:40:39,977 - app - DEBUG - Stored password hash exists: True
2024-11-30 16:40:40,190 - app - INFO - Password check result for user testuser6: valid
2024-11-30 16:40:40,190 - app - INFO - Token generated successfully for user testuser6
2024-11-30 16:40:40,190 - app - INFO - Login successful for user testuser6
2024-11-30 16:40:40,191 - app - DEBUG - Response Status: 200 OK
2024-11-30 16:40:40,191 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '231', 'Access-Control-Allow-Origin': '*'}
2024-11-30 16:40:40,191 - app - DEBUG - Response Status: 200 OK
2024-11-30 16:40:40,267 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:40:40] "POST /api/login HTTP/1.1" 200 -
2024-11-30 16:40:50,468 - app - DEBUG - Request Headers: Host: localhost:5002
User-Agent: curl/8.6.0
Accept: */*
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2LCJleHAiOjE3MzMxMDAwNDB9.okodC2Ru3uVJger3t2P_ZN3K221K45EH2MAHZH-7LU4
Content-Length: 116


2024-11-30 16:40:50,468 - app - DEBUG - Request Body: b'{"name": "John Smith", "email": "john.smith@techcorp.com", "phone": "123-456-7890", "company": "Tech Solutions Inc"}'
2024-11-30 16:40:50,468 - app - DEBUG - Request Headers: {'Host': 'localhost:5002', 'User-Agent': 'curl/8.6.0', 'Accept': '*/*', 'Content-Type': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2LCJleHAiOjE3MzMxMDAwNDB9.okodC2Ru3uVJger3t2P_ZN3K221K45EH2MAHZH-7LU4', 'Content-Length': '116'}
2024-11-30 16:40:50,468 - app - DEBUG - Request JSON: {'name': 'John Smith', 'email': 'john.smith@techcorp.com', 'phone': '123-456-7890', 'company': 'Tech Solutions Inc'}
2024-11-30 16:40:50,468 - auth - INFO - Received Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2LCJleHAiOjE3MzMxMDAwNDB9.okodC2Ru3uVJger3t2P_ZN3K221K45EH2MAHZH-7LU4
2024-11-30 16:40:50,468 - auth - INFO - Token parts: ['Bearer', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo2LCJleHAiOjE3MzMxMDAwNDB9.okodC2Ru3uVJger3t2P_ZN3K221K45EH2MAHZH-7LU4']
2024-11-30 16:40:50,468 - auth - INFO - Extracted token: eyJhbGciOiJIUzI1NiIs...
2024-11-30 16:40:50,468 - auth - INFO - Using SECRET_KEY: d37f1a38e8...
2024-11-30 16:40:50,469 - auth - INFO - Decoded token data: {'user_id': 6, 'exp': 1733100040}
2024-11-30 16:40:50,694 - auth - INFO - Successfully authenticated user: testuser6
2024-11-30 16:40:50,698 - app - ERROR - Error calculating lead score: index 1 is out of bounds for axis 0 with size 1
2024-11-30 16:40:51,127 - app - INFO - Lead created successfully: 1 with quality score: 0.0
2024-11-30 16:40:51,128 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 16:40:51,128 - app - DEBUG - Response Headers: {'Content-Type': 'application/json', 'Content-Length': '251', 'Access-Control-Allow-Origin': '*'}
2024-11-30 16:40:51,128 - app - DEBUG - Response Status: 201 CREATED
2024-11-30 16:40:51,201 - werkzeug - INFO - 127.0.0.1 - - [30/Nov/2024 16:40:51] "[35m[1mPOST /api/leads HTTP/1.1[0m" 201 -
2024-11-30 16:49:34,196 - werkzeug - INFO -  * Detected change in '/Users/joshuahopkins/Desktop/FollowMyLead20/app.py', reloading
2024-11-30 16:49:34,405 - werkzeug - INFO -  * Restarting with stat
2024-12-01 13:08:08,449 - botocore.credentials - INFO - Found credentials in environment variables.
2024-12-01 13:09:01,606 - botocore.credentials - INFO - Found credentials in environment variables.
2024-12-01 13:09:29,682 - botocore.credentials - INFO - Found credentials in environment variables.
2024-12-01 13:09:30,164 - database - INFO - Initializing database connection...
2024-12-01 13:09:30,164 - database - ERROR - Database initialization error: A 'SQLAlchemy' instance has already been registered on this Flask app. Import and use that instance instead.
