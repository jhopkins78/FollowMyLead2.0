(()=>{var t={};t.id=888,t.ids=[888],t.modules={8792:(t,e,a)=>{"use strict";a.a(t,async(t,r)=>{try{a.d(e,{H:()=>l,a:()=>d});var s=a(997),o=a(6689),i=a(7501),n=a(1163),c=t([i]);i=(c.then?(await c)():c)[0];let u=(0,o.createContext)(null),l=({children:t})=>{let[e,a]=(0,o.useState)(null),r=(0,n.useRouter)();(0,o.useEffect)(()=>{},[]);let c=async(t,e)=>{try{let{token:s,user:o}=(await (0,i.x4)({email:t,password:e})).data.data;localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(o)),a(o),r.push("/dashboard")}catch(t){throw Error(t.response?.data?.message||"Login failed")}},l=async(t,e,s)=>{try{let{token:o,user:n}=(await (0,i.z2)({username:t,email:e,password:s})).data.data;localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(n)),a(n),r.push("/dashboard")}catch(t){throw Error(t.response?.data?.message||"Registration failed")}};return s.jsx(u.Provider,{value:{user:e,login:c,register:l,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),r.push("/login")},isAuthenticated:!!e},children:t})},d=()=>{let t=(0,o.useContext)(u);if(!t)throw Error("useAuth must be used within an AuthProvider");return t};r()}catch(t){r(t)}})},3900:(t,e,a)=>{"use strict";a.a(t,async(t,r)=>{try{a.r(e),a.d(e,{default:()=>c});var s=a(997),o=a(8792);a(108);var i=a(6201),n=t([o,i]);function c({Component:t,pageProps:e}){return(0,s.jsxs)(o.H,{children:[s.jsx(t,{...e}),s.jsx(i.Toaster,{position:"top-right"})]})}[o,i]=n.then?(await n)():n,r()}catch(t){r(t)}})},7501:(t,e,a)=>{"use strict";a.a(t,async(t,r)=>{try{a.d(e,{Hm:()=>p,Wf:()=>g,Wr:()=>m,d1:()=>h,hh:()=>d,on:()=>w,x4:()=>u,z2:()=>l});var s=a(9648),o=t([s]);s=(o.then?(await o)():o)[0];let i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api",n=process.env.NEXT_PUBLIC_INSIGHTS_API_URL||"https://cz0zmv145h.execute-api.us-west-1.amazonaws.com/prod",c=s.default.create({baseURL:i,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(t=>{let e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});let u=async t=>(await c.post("/auth/login",t)).data,l=async t=>(await c.post("/auth/register",t)).data,d=async()=>(await c.get("/leads")).data,p=async t=>{let e=new FormData;return e.append("file",t),(await c.post("/leads/upload-csv",e,{headers:{"Content-Type":"multipart/form-data"}})).data},h=async t=>(await c.get(`/leads/${t}`)).data,m=async(t,e)=>(await c.patch(`/leads/${t}/status`,{status:e}),{data:{data:void 0}}),g=async(t,e)=>(await c.post(`/leads/${t}/notes`,{content:e},{headers:{"Content-Type":"application/json"}})).data,w=async()=>({data:{data:(await s.default.get(`${n}/insights`)).data}});c.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t))),r()}catch(t){r(t)}})},108:()=>{},2785:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:t=>{"use strict";t.exports=require("react")},6405:t=>{"use strict";t.exports=require("react-dom")},997:t=>{"use strict";t.exports=require("react/jsx-runtime")},9648:t=>{"use strict";t.exports=import("axios")},6201:t=>{"use strict";t.exports=import("react-hot-toast")},7147:t=>{"use strict";t.exports=require("fs")},2781:t=>{"use strict";t.exports=require("stream")},9796:t=>{"use strict";t.exports=require("zlib")}};var e=require("../webpack-runtime.js");e.C(t);var a=t=>e(e.s=t),r=e.X(0,[768,163],()=>a(3900));module.exports=r})();