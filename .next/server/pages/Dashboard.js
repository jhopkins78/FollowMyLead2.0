(()=>{var e={};e.id=156,e.ids=[156,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},8578:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>p,getServerSideProps:()=>f,getStaticPaths:()=>m,getStaticProps:()=>h,reportWebVitals:()=>x,routeModule:()=>P,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>y});var s=a(7093),i=a(5244),n=a(1323),o=a(2329),l=a.n(o),c=a(1063),d=a(9191),u=e([c,d]);[c,d]=u.then?(await u)():u;let p=(0,n.l)(d,"default"),h=(0,n.l)(d,"getStaticProps"),m=(0,n.l)(d,"getStaticPaths"),f=(0,n.l)(d,"getServerSideProps"),g=(0,n.l)(d,"config"),x=(0,n.l)(d,"reportWebVitals"),y=(0,n.l)(d,"unstable_getStaticProps"),b=(0,n.l)(d,"unstable_getStaticPaths"),v=(0,n.l)(d,"unstable_getStaticParams"),w=(0,n.l)(d,"unstable_getServerProps"),j=(0,n.l)(d,"unstable_getServerSideProps"),P=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/Dashboard",pathname:"/Dashboard",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:d});r()}catch(e){r(e)}})},8921:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{z:()=>u});var s=a(997),i=a(6689),n=a(4338),o=a(6926),l=a(7854),c=e([n,o,l]);[n,o,l]=c.then?(await c)():c;let d=(0,o.cva)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...i},o)=>{let c=r?n.Slot:"button";return s.jsx(c,{className:(0,l.cn)(d({variant:t,size:a,className:e})),ref:o,...i})});u.displayName="Button",r()}catch(e){r(e)}})},8058:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Zb:()=>l});var s=a(997),i=a(6689),n=a(7854),o=e([n]);n=(o.then?(await o)():o)[0];let l=i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card",i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",i.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",i.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t})).displayName="CardContent",i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",r()}catch(e){r(e)}})},8445:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{I:()=>l});var s=a(997),i=a(6689),n=a(7854),o=e([n]);n=(o.then?(await o)():o)[0];let l=i.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300",e),ref:r,...a}));l.displayName="Input",r()}catch(e){r(e)}})},6722:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{$:()=>o});var s=a(997),i=a(7854),n=e([i]);i=(n.then?(await n)():n)[0];let l={sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"};function o({size:e="md",className:t,...a}){return s.jsx("div",{role:"status",className:(0,i.cn)("inline-block animate-spin rounded-full border-gray-300 border-t-primary",l[e],t),...a,children:s.jsx("span",{className:"sr-only",children:"Loading..."})})}r()}catch(e){r(e)}})},1979:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{H:()=>d,a:()=>u});var s=a(997),i=a(6689),n=a(100),o=a(1163),l=e([n]);n=(l.then?(await l)():l)[0];let c=(0,i.createContext)(null),d=({children:e})=>{let[t,a]=(0,i.useState)(null),r=(0,o.useRouter)();(0,i.useEffect)(()=>{},[]);let l=async(e,t)=>{try{let{token:s,user:i}=(await (0,n.x4)({email:e,password:t})).data.data;localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(i)),a(i),r.push("/dashboard")}catch(e){throw Error(e.response?.data?.message||"Login failed")}},d=async(e,t,s)=>{try{let{token:i,user:o}=(await (0,n.z2)({username:e,email:t,password:s})).data.data;localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(o)),a(o),r.push("/dashboard")}catch(e){throw Error(e.response?.data?.message||"Registration failed")}};return s.jsx(c.Provider,{value:{user:t,login:l,register:d,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),r.push("/login")},isAuthenticated:!!t},children:e})},u=()=>{let e=(0,i.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};r()}catch(e){r(e)}})},7854:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{cn:()=>o});var s=a(5533),i=a(8097),n=e([s,i]);function o(...e){return(0,i.twMerge)((0,s.clsx)(e))}[s,i]=n.then?(await n)():n,r()}catch(e){r(e)}})},9191:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>m});var s=a(997),i=a(6689),n=a(1163),o=a(100),l=a(8921),c=a(8058),d=a(8445),u=a(6722),p=a(6201),h=e([o,l,c,d,u,p]);[o,l,c,d,u,p]=h.then?(await h)():h;let m=()=>{let e=(0,n.useRouter)(),[t,a]=(0,i.useState)([]),[r,h]=(0,i.useState)(!0),[m,f]=(0,i.useState)("");(0,i.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await o.hh();e.data&&e.data.data?a(e.data.data):a([]),h(!1)}catch(e){p.default.error("Failed to fetch leads"),h(!1)}},x=t.filter(e=>e.name.toLowerCase().includes(m.toLowerCase())||e.email.toLowerCase().includes(m.toLowerCase())||e.company?.toLowerCase().includes(m.toLowerCase())),y=t=>{e.push(`/leads/${t}`)};return r?s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx(u.$,{size:"lg"})}):(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Leads Dashboard"}),s.jsx(l.z,{onClick:()=>{e.push("/upload")},children:"Upload Leads"})]}),s.jsx(d.I,{type:"text",placeholder:"Search leads...",value:m,onChange:e=>{f(e.target.value)},className:"mb-6"}),0===x.length?s.jsx("div",{className:"text-center text-gray-500",children:"No leads found. Try uploading some leads or adjusting your search."}):s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:x.map(e=>(0,s.jsxs)(c.Zb,{className:"p-4",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:e.name}),s.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${e.score&&e.score>=80?"bg-green-100 text-green-800":e.score&&e.score>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.score?`${e.score}%`:"N/A"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.email}),e.company&&s.jsx("p",{className:"text-sm text-gray-600",children:e.company}),s.jsx(l.z,{variant:"outline",className:"mt-4 w-full",onClick:()=>y(e.id),children:"View Details"})]},e.id))})]})};r()}catch(e){r(e)}})},1063:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>d});var s=a(997),i=a(3963),n=a.n(i),o=a(1979);a(108);var l=a(6201),c=e([o,l]);function d({Component:e,pageProps:t}){return s.jsx(o.H,{children:(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,s.jsxs)("head",{children:[s.jsx("meta",{charSet:"utf-8"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsxs)("body",{className:n().className,children:[s.jsx(e,{...t}),s.jsx(l.Toaster,{position:"top-right"})]})]})})}[o,l]=c.then?(await c)():c,r()}catch(e){r(e)}})},100:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Hm:()=>p,Wf:()=>f,Wr:()=>m,d1:()=>h,hh:()=>u,on:()=>g,x4:()=>c,z2:()=>d});var s=a(9648),i=e([s]);s=(i.then?(await i)():i)[0];let n=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api",o=process.env.NEXT_PUBLIC_INSIGHTS_API_URL||"https://cz0zmv145h.execute-api.us-west-1.amazonaws.com/prod",l=s.default.create({baseURL:n,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let c=async e=>(await l.post("/auth/login",e)).data,d=async e=>(await l.post("/auth/register",e)).data,u=async()=>(await l.get("/leads")).data,p=async e=>{let t=new FormData;return t.append("file",e),(await l.post("/leads/upload-csv",t,{headers:{"Content-Type":"multipart/form-data"}})).data},h=async e=>(await l.get(`/leads/${e}`)).data,m=async(e,t)=>(await l.patch(`/leads/${e}/status`,{status:t}),{data:{data:void 0}}),f=async(e,t)=>(await l.post(`/leads/${e}/notes`,{content:t},{headers:{"Content-Type":"application/json"}})).data,g=async()=>({data:{data:(await s.default.get(`${o}/insights`)).data}});l.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e))),r()}catch(e){r(e)}})},108:()=>{},5244:(e,t)=>{"use strict";var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4338:e=>{"use strict";e.exports=import("@radix-ui/react-slot")},9648:e=>{"use strict";e.exports=import("axios")},6926:e=>{"use strict";e.exports=import("class-variance-authority")},5533:e=>{"use strict";e.exports=import("clsx")},6201:e=>{"use strict";e.exports=import("react-hot-toast")},8097:e=>{"use strict";e.exports=import("tailwind-merge")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[559,239,329],()=>a(8578));module.exports=r})();