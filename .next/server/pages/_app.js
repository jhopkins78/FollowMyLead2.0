(()=>{var t={};t.id=888,t.ids=[888],t.modules={1979:(t,e,a)=>{"use strict";a.a(t,async(t,s)=>{try{a.d(e,{H:()=>u,a:()=>d});var r=a(997),o=a(6689),i=a(100),n=a(1163),c=t([i]);i=(c.then?(await c)():c)[0];let l=(0,o.createContext)(null),u=({children:t})=>{let[e,a]=(0,o.useState)(null),s=(0,n.useRouter)();(0,o.useEffect)(()=>{},[]);let c=async(t,e)=>{try{let{token:r,user:o}=(await (0,i.x4)({email:t,password:e})).data.data;localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(o)),a(o),s.push("/dashboard")}catch(t){throw Error(t.response?.data?.message||"Login failed")}},u=async(t,e,r)=>{try{let{token:o,user:n}=(await (0,i.z2)({username:t,email:e,password:r})).data.data;localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(n)),a(n),s.push("/dashboard")}catch(t){throw Error(t.response?.data?.message||"Registration failed")}};return r.jsx(l.Provider,{value:{user:e,login:c,register:u,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),s.push("/login")},isAuthenticated:!!e},children:t})},d=()=>{let t=(0,o.useContext)(l);if(!t)throw Error("useAuth must be used within an AuthProvider");return t};s()}catch(t){s(t)}})},1063:(t,e,a)=>{"use strict";a.a(t,async(t,s)=>{try{a.r(e),a.d(e,{default:()=>u});var r=a(997),o=a(3963),i=a.n(o),n=a(1979);a(108);var c=a(6201),l=t([n,c]);function u({Component:t,pageProps:e}){return r.jsx(n.H,{children:(0,r.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,r.jsxs)("head",{children:[r.jsx("meta",{charSet:"utf-8"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,r.jsxs)("body",{className:i().className,children:[r.jsx(t,{...e}),r.jsx(c.Toaster,{position:"top-right"})]})]})})}[n,c]=l.then?(await l)():l,s()}catch(t){s(t)}})},100:(t,e,a)=>{"use strict";a.a(t,async(t,s)=>{try{a.d(e,{Hm:()=>p,Wf:()=>g,Wr:()=>m,d1:()=>h,hh:()=>d,on:()=>x,x4:()=>l,z2:()=>u});var r=a(9648),o=t([r]);r=(o.then?(await o)():o)[0];let i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api",n=process.env.NEXT_PUBLIC_INSIGHTS_API_URL||"https://cz0zmv145h.execute-api.us-west-1.amazonaws.com/prod",c=r.default.create({baseURL:i,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(t=>{let e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});let l=async t=>(await c.post("/auth/login",t)).data,u=async t=>(await c.post("/auth/register",t)).data,d=async()=>(await c.get("/leads")).data,p=async t=>{let e=new FormData;return e.append("file",t),(await c.post("/leads/upload-csv",e,{headers:{"Content-Type":"multipart/form-data"}})).data},h=async t=>(await c.get(`/leads/${t}`)).data,m=async(t,e)=>(await c.patch(`/leads/${t}/status`,{status:e}),{data:{data:void 0}}),g=async(t,e)=>(await c.post(`/leads/${t}/notes`,{content:e},{headers:{"Content-Type":"application/json"}})).data,x=async()=>({data:{data:(await r.default.get(`${n}/insights`)).data}});c.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t))),s()}catch(t){s(t)}})},108:()=>{},2785:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:t=>{"use strict";t.exports=require("react")},6405:t=>{"use strict";t.exports=require("react-dom")},997:t=>{"use strict";t.exports=require("react/jsx-runtime")},9648:t=>{"use strict";t.exports=import("axios")},6201:t=>{"use strict";t.exports=import("react-hot-toast")},7147:t=>{"use strict";t.exports=require("fs")},2781:t=>{"use strict";t.exports=require("stream")},9796:t=>{"use strict";t.exports=require("zlib")}};var e=require("../webpack-runtime.js");e.C(t);var a=t=>e(e.s=t),s=e.X(0,[559,239],()=>a(1063));module.exports=s})();