(()=>{var e={};e.id=37,e.ids=[37,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},5649:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>m,getServerSideProps:()=>f,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>x,routeModule:()=>j,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>y});var s=a(7093),i=a(5244),o=a(1323),n=a(2329),d=a.n(n),l=a(1063),c=a(7975),u=e([l,c]);[l,c]=u.then?(await u)():u;let m=(0,o.l)(c,"default"),p=(0,o.l)(c,"getStaticProps"),h=(0,o.l)(c,"getStaticPaths"),f=(0,o.l)(c,"getServerSideProps"),g=(0,o.l)(c,"config"),x=(0,o.l)(c,"reportWebVitals"),y=(0,o.l)(c,"unstable_getStaticProps"),w=(0,o.l)(c,"unstable_getStaticPaths"),v=(0,o.l)(c,"unstable_getStaticParams"),b=(0,o.l)(c,"unstable_getServerProps"),P=(0,o.l)(c,"unstable_getServerSideProps"),j=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/Register",pathname:"/Register",bundlePath:"",filename:""},components:{App:l.default,Document:d()},userland:c});r()}catch(e){r(e)}})},8921:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{z:()=>u});var s=a(997),i=a(6689),o=a(4338),n=a(6926),d=a(7854),l=e([o,n,d]);[o,n,d]=l.then?(await l)():l;let c=(0,n.cva)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...i},n)=>{let l=r?o.Slot:"button";return s.jsx(l,{className:(0,d.cn)(c({variant:t,size:a,className:e})),ref:n,...i})});u.displayName="Button",r()}catch(e){r(e)}})},8058:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Zb:()=>d});var s=a(997),i=a(6689),o=a(7854),n=e([o]);o=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));d.displayName="Card",i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",i.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",i.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("p-6 pt-0",e),...t})).displayName="CardContent",i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",r()}catch(e){r(e)}})},8445:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{I:()=>d});var s=a(997),i=a(6689),o=a(7854),n=e([o]);o=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300",e),ref:r,...a}));d.displayName="Input",r()}catch(e){r(e)}})},6071:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{_:()=>d});var s=a(997),i=a(6689),o=a(7854),n=e([o]);o=(n.then?(await n)():n)[0];let d=i.forwardRef(({className:e,...t},a)=>s.jsx("label",{ref:a,className:(0,o.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));d.displayName="Label",r()}catch(e){r(e)}})},1979:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{H:()=>c,a:()=>u});var s=a(997),i=a(6689),o=a(100),n=a(1163),d=e([o]);o=(d.then?(await d)():d)[0];let l=(0,i.createContext)(null),c=({children:e})=>{let[t,a]=(0,i.useState)(null),r=(0,n.useRouter)();(0,i.useEffect)(()=>{},[]);let d=async(e,t)=>{try{let{token:s,user:i}=(await (0,o.x4)({email:e,password:t})).data.data;localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(i)),a(i),r.push("/dashboard")}catch(e){throw Error(e.response?.data?.message||"Login failed")}},c=async(e,t,s)=>{try{let{token:i,user:n}=(await (0,o.z2)({username:e,email:t,password:s})).data.data;localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(n)),a(n),r.push("/dashboard")}catch(e){throw Error(e.response?.data?.message||"Registration failed")}};return s.jsx(l.Provider,{value:{user:t,login:d,register:c,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),r.push("/login")},isAuthenticated:!!t},children:e})},u=()=>{let e=(0,i.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};r()}catch(e){r(e)}})},7854:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{cn:()=>n});var s=a(5533),i=a(8097),o=e([s,i]);function n(...e){return(0,i.twMerge)((0,s.clsx)(e))}[s,i]=o.then?(await o)():o,r()}catch(e){r(e)}})},7975:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>h});var s=a(997);a(6689);var i=a(1163),o=a(5641),n=a(6201),d=a(8921),l=a(8445),c=a(6071),u=a(8058),m=a(1979),p=e([o,n,d,l,c,u,m]);[o,n,d,l,c,u,m]=p.then?(await p)():p;let h=()=>{let e=(0,i.useRouter)(),{register:t}=(0,m.a)(),{register:a,handleSubmit:r,watch:p,formState:{errors:h}}=(0,o.useForm)(),f=p("password"),g=async a=>{try{await t(a.username,a.email,a.password),n.toast.success("Successfully registered!"),e.push("/dashboard")}catch(e){n.toast.error("Failed to register. Please try again.")}};return s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:(0,s.jsxs)(u.Zb,{className:"w-full max-w-md space-y-8 p-8",children:[s.jsx("div",{children:s.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"})}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:r(g),children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx(c._,{htmlFor:"username",children:"Username"}),s.jsx(l.I,{id:"username",type:"text",autoComplete:"username",...a("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}})}),h.username&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.username.message})]}),(0,s.jsxs)("div",{children:[s.jsx(c._,{htmlFor:"email",children:"Email address"}),s.jsx(l.I,{id:"email",type:"email",autoComplete:"email",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),h.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,s.jsxs)("div",{children:[s.jsx(c._,{htmlFor:"password",children:"Password"}),s.jsx(l.I,{id:"password",type:"password",autoComplete:"new-password",...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),h.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),(0,s.jsxs)("div",{children:[s.jsx(c._,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(l.I,{id:"confirmPassword",type:"password",autoComplete:"new-password",...a("confirmPassword",{required:"Please confirm your password",validate:e=>e===f||"Passwords do not match"})}),h.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.confirmPassword.message})]})]}),s.jsx(d.z,{type:"submit",className:"w-full",children:"Create Account"})]})]})})};r()}catch(e){r(e)}})},1063:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>c});var s=a(997),i=a(3963),o=a.n(i),n=a(1979);a(108);var d=a(6201),l=e([n,d]);function c({Component:e,pageProps:t}){return s.jsx(n.H,{children:(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,s.jsxs)("head",{children:[s.jsx("meta",{charSet:"utf-8"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsxs)("body",{className:o().className,children:[s.jsx(e,{...t}),s.jsx(d.Toaster,{position:"top-right"})]})]})})}[n,d]=l.then?(await l)():l,r()}catch(e){r(e)}})},100:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{Hm:()=>m,Wf:()=>f,Wr:()=>h,d1:()=>p,hh:()=>u,on:()=>g,x4:()=>l,z2:()=>c});var s=a(9648),i=e([s]);s=(i.then?(await i)():i)[0];let o=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api",n=process.env.NEXT_PUBLIC_INSIGHTS_API_URL||"https://cz0zmv145h.execute-api.us-west-1.amazonaws.com/prod",d=s.default.create({baseURL:o,headers:{"Content-Type":"application/json"}});d.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let l=async e=>(await d.post("/auth/login",e)).data,c=async e=>(await d.post("/auth/register",e)).data,u=async()=>(await d.get("/leads")).data,m=async e=>{let t=new FormData;return t.append("file",e),(await d.post("/leads/upload-csv",t,{headers:{"Content-Type":"multipart/form-data"}})).data},p=async e=>(await d.get(`/leads/${e}`)).data,h=async(e,t)=>(await d.patch(`/leads/${e}/status`,{status:t}),{data:{data:void 0}}),f=async(e,t)=>(await d.post(`/leads/${e}/notes`,{content:t},{headers:{"Content-Type":"application/json"}})).data,g=async()=>({data:{data:(await s.default.get(`${n}/insights`)).data}});d.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e))),r()}catch(e){r(e)}})},108:()=>{},5244:(e,t)=>{"use strict";var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4338:e=>{"use strict";e.exports=import("@radix-ui/react-slot")},9648:e=>{"use strict";e.exports=import("axios")},6926:e=>{"use strict";e.exports=import("class-variance-authority")},5533:e=>{"use strict";e.exports=import("clsx")},5641:e=>{"use strict";e.exports=import("react-hook-form")},6201:e=>{"use strict";e.exports=import("react-hot-toast")},8097:e=>{"use strict";e.exports=import("tailwind-merge")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[559,239,329],()=>a(5649));module.exports=r})();