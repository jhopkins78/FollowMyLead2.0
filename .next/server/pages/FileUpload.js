(()=>{var e={};e.id=62,e.ids=[62,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},7568:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>p,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>v});var r=a(7093),i=a(5244),l=a(1323),n=a(2329),o=a.n(n),c=a(1063),d=a(4352),u=e([c,d]);[c,d]=u.then?(await u)():u;let p=(0,l.l)(d,"default"),h=(0,l.l)(d,"getStaticProps"),m=(0,l.l)(d,"getStaticPaths"),x=(0,l.l)(d,"getServerSideProps"),g=(0,l.l)(d,"config"),f=(0,l.l)(d,"reportWebVitals"),v=(0,l.l)(d,"unstable_getStaticProps"),y=(0,l.l)(d,"unstable_getStaticPaths"),S=(0,l.l)(d,"unstable_getStaticParams"),P=(0,l.l)(d,"unstable_getServerProps"),j=(0,l.l)(d,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/FileUpload",pathname:"/FileUpload",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});s()}catch(e){s(e)}})},1979:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{H:()=>d,a:()=>u});var r=a(997),i=a(6689),l=a(100),n=a(1163),o=e([l]);l=(o.then?(await o)():o)[0];let c=(0,i.createContext)(null),d=({children:e})=>{let[t,a]=(0,i.useState)(null),s=(0,n.useRouter)();(0,i.useEffect)(()=>{},[]);let o=async(e,t)=>{try{let{token:r,user:i}=(await (0,l.x4)({email:e,password:t})).data.data;localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(i)),a(i),s.push("/dashboard")}catch(e){throw Error(e.response?.data?.message||"Login failed")}},d=async(e,t,r)=>{try{let{token:i,user:n}=(await (0,l.z2)({username:e,email:t,password:r})).data.data;localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(n)),a(n),s.push("/dashboard")}catch(e){throw Error(e.response?.data?.message||"Registration failed")}};return r.jsx(c.Provider,{value:{user:t,login:o,register:d,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(null),s.push("/login")},isAuthenticated:!!t},children:e})},u=()=>{let e=(0,i.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};s()}catch(e){s(e)}})},4352:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{FileUpload:()=>u,default:()=>p});var r=a(997),i=a(6689),l=a(6358),n=a(100),o=a(6201),c=a(1163),d=e([n,o]);[n,o]=d.then?(await d)():d;let u=()=>{let[e,t]=(0,i.useState)(!1),a=(0,c.useRouter)(),s=(0,i.useCallback)(async e=>{let s=e[0];if(s){if(!s.name.endsWith(".csv")){o.default.error("Please upload a CSV file");return}t(!0);try{await (0,n.Hm)(s),o.default.success("File uploaded successfully!"),a.push("/dashboard")}catch(e){o.default.error(e.response?.data?.message||"Upload failed")}finally{t(!1)}}},[a]),{getRootProps:d,getInputProps:u,isDragActive:p}=(0,l.useDropzone)({onDrop:s,accept:{"text/csv":[".csv"]},maxFiles:1});return r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Upload Leads"}),r.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"Upload your CSV file containing lead information for scoring and analysis."})]}),r.jsx("div",{className:"mt-10",children:r.jsx("div",{...d(),className:`
              mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md
              ${p?"border-primary-500 bg-primary-50":"border-gray-300"}
              ${e?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,children:(0,r.jsxs)("div",{className:"space-y-1 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:r.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,r.jsxs)("div",{className:"flex text-sm text-gray-600",children:[r.jsx("input",{...u()}),r.jsx("p",{className:"pl-1",children:p?"Drop the CSV file here":"Drag and drop a CSV file here, or click to select"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"CSV files only"})]})})}),r.jsx("div",{className:"mt-8",children:r.jsx("div",{className:"rounded-md bg-blue-50 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:r.jsx("p",{className:"text-sm text-blue-700",children:"Your CSV file should include the following columns: name, email, phone, company"})})]})})})]})})},p=u;s()}catch(e){s(e)}})},1063:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>d});var r=a(997),i=a(3963),l=a.n(i),n=a(1979);a(108);var o=a(6201),c=e([n,o]);function d({Component:e,pageProps:t}){return r.jsx(n.H,{children:(0,r.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,r.jsxs)("head",{children:[r.jsx("meta",{charSet:"utf-8"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,r.jsxs)("body",{className:l().className,children:[r.jsx(e,{...t}),r.jsx(o.Toaster,{position:"top-right"})]})]})})}[n,o]=c.then?(await c)():c,s()}catch(e){s(e)}})},100:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Hm:()=>p,Wf:()=>x,Wr:()=>m,d1:()=>h,hh:()=>u,on:()=>g,x4:()=>c,z2:()=>d});var r=a(9648),i=e([r]);r=(i.then?(await i)():i)[0];let l=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api",n=process.env.NEXT_PUBLIC_INSIGHTS_API_URL||"https://cz0zmv145h.execute-api.us-west-1.amazonaws.com/prod",o=r.default.create({baseURL:l,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let c=async e=>(await o.post("/auth/login",e)).data,d=async e=>(await o.post("/auth/register",e)).data,u=async()=>(await o.get("/leads")).data,p=async e=>{let t=new FormData;return t.append("file",e),(await o.post("/leads/upload-csv",t,{headers:{"Content-Type":"multipart/form-data"}})).data},h=async e=>(await o.get(`/leads/${e}`)).data,m=async(e,t)=>(await o.patch(`/leads/${e}/status`,{status:t}),{data:{data:void 0}}),x=async(e,t)=>(await o.post(`/leads/${e}/notes`,{content:t},{headers:{"Content-Type":"application/json"}})).data,g=async()=>({data:{data:(await r.default.get(`${n}/insights`)).data}});o.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e))),s()}catch(e){s(e)}})},108:()=>{},5244:(e,t)=>{"use strict";var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},6358:e=>{"use strict";e.exports=require("react-dropzone")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},6201:e=>{"use strict";e.exports=import("react-hot-toast")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[559,239,329],()=>a(7568));module.exports=s})();