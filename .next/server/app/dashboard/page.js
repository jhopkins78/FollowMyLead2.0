(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5873:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(482),a=s(9108),i=s(2563),o=s.n(i),n=s(8300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9865)),"/Users/joshuahopkins/Desktop/FollowMyLead20/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/joshuahopkins/Desktop/FollowMyLead20/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/joshuahopkins/Desktop/FollowMyLead20/app/dashboard/page.tsx"],p="/dashboard/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4672:(e,t,s)=>{Promise.resolve().then(s.bind(s,5476))},3926:()=>{},6618:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5476:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(2295),a=s(3729),i=s(783),o=s.n(i),n=s(2704),l=s(5390),d=s(8243),c=s(5092),p=s(5094);function u(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[u,x]=(0,a.useState)("score"),[h,m]=(0,a.useState)("desc"),{toast:g}=(0,c.pm)();(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await (0,d.hh)();t(e.data)}catch(e){g({title:"Error",description:e.response?.data?.message||"Failed to fetch leads",variant:"destructive"})}finally{i(!1)}},f=async(s,r)=>{try{await (0,d.Wr)(s,r),t(e.map(e=>e.id===s?{...e,status:r}:e)),g({title:"Success",description:"Status updated successfully"})}catch(e){g({title:"Error",description:e.response?.data?.message||"Failed to update status",variant:"destructive"})}},v=e=>{u===e?m("asc"===h?"desc":"asc"):(x(e),m("desc"))},b=[...e].sort((e,t)=>{let s=e[u],r=t[u],a="asc"===h?1:-1;return"number"==typeof s&&"number"==typeof r?(s-r)*a:String(s).localeCompare(String(r))*a}),w=e=>e>=80?"text-green-600 bg-green-100":e>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",j=e=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",converted:"bg-purple-100 text-purple-800",lost:"bg-gray-100 text-gray-800"})[e];return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lead Dashboard"}),r.jsx(o(),{href:"/upload",passHref:!0,children:r.jsx(p.z,{children:"Upload Leads"})})]}),r.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[["Name","Email","Company","Score","Status","Created At"].map((e,t)=>r.jsx("th",{onClick:()=>v(e.toLowerCase().replace(" ","_")),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[e,u===e.toLowerCase().replace(" ","_")&&r.jsx("span",{className:"ml-2",children:"asc"===h?r.jsx(n.Z,{className:"h-4 w-4"}):r.jsx(l.Z,{className:"h-4 w-4"})})]})},t)),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(o(),{href:`/leads/${e.id}`,className:"text-primary-600 hover:text-primary-900",children:e.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-500",children:e.email})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-500",children:e.company})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w(e.score)}`,children:e.score})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("select",{value:e.status,onChange:t=>f(e.id,t.target.value),className:`text-sm rounded-full px-3 py-1 font-semibold ${j(e.status)}`,children:["new","contacted","qualified","converted","lost"].map(e=>r.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx(o(),{href:`/leads/${e.id}`,className:"text-primary-600 hover:text-primary-900",children:"View Details"})})]},e.id))})]})})})]})})}},5092:(e,t,s)=>{"use strict";s.d(t,{pm:()=>u});var r=s(3729);let a=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=n(d,e),l.forEach(e=>{e(d)})}function p({...e}){let t=(a=(a+1)%Number.MAX_VALUE).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:p,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},5390:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7075).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2704:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7075).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},783:(e,t,s)=>{e.exports=s(1476)},5094:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(2295),a=s(3729),i=s(2751),o=s(9247),n=s(1453);let l=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...o},d)=>{let c=a?i.g7:"button";return r.jsx(c,{className:(0,n.cn)(l({variant:t,size:s,className:e})),ref:d,...o})});d.displayName="Button"},1453:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(6815),a=s(9377);function i(...e){return(0,a.m6)((0,r.W)(e))}},8243:(e,t,s)=>{"use strict";s.d(t,{Wf:()=>d,Wr:()=>l,d1:()=>n,hh:()=>o});var r=s(7665);let a=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api";process.env.NEXT_PUBLIC_INSIGHTS_API_URL;let i=r.Z.create({baseURL:a,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let o=async()=>(await i.get("/leads")).data,n=async e=>(await i.get(`/leads/${e}`)).data,l=async(e,t)=>(await i.patch(`/leads/${e}/status`,{status:t}),{data:{data:void 0}}),d=async(e,t)=>(await i.post(`/leads/${e}/notes`,{content:t},{headers:{"Content-Type":"application/json"}})).data;i.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)))},9865:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});let r=(0,s(6843).createProxy)(String.raw`/Users/joshuahopkins/Desktop/FollowMyLead20/app/dashboard/page.tsx`),{__esModule:a,$$typeof:i}=r,o=r.default},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>o});var r=s(5036),a=s(8592),i=s.n(a);s(7272);let o={title:"Follow My Lead",description:"Your personal fitness companion"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,941,765,476,896],()=>s(5873));module.exports=r})();